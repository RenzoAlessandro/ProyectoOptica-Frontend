{"version":3,"file":"src_app_pages_cash_cash-register_module_ts.js","mappings":"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","sources":["./src/app/pages/cash/cash-register-routing.module.ts","./src/app/pages/cash/cash-register.module.ts","./src/app/pages/cash/cash-register/cash-register.component.ts","./src/app/pages/cash/cash-register/cash-register.component.html","./src/app/pages/cash/cash-register/listEgresos.service.ts","./src/app/pages/cash/cash-register/listIngresos.service.ts","./src/app/pages/cash/cash-register/sortable.directive.ts","./src/app/pages/cash/list-cash/list-cash.component.ts","./src/app/pages/cash/list-cash/list-cash.component.html","./src/app/pages/cash/list-cash/registro.service.ts","./src/app/pages/cash/list-cash/sortable.directive.ts","./src/app/services/caja.service.ts","./src/models/caja.ts","./src/models/reporte.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/core/guards/auth.guard';\r\n\r\nimport { CashRegisterComponent } from './cash-register/cash-register.component';\r\nimport { ListCashComponent } from './list-cash/list-cash.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'cashregister',\r\n        component: CashRegisterComponent,\r\n        data: {\r\n            role: ['Vendedor','Admin'],\r\n          }, canActivate: [AuthGuard]\r\n    },\r\n    {\r\n        path: 'listcash',\r\n        component: ListCashComponent,\r\n        data: {\r\n            role: ['Admin'],\r\n          }, canActivate: [AuthGuard]\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class CashRegisterRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { CashRegisterRoutingModule } from './cash-register-routing.module';\r\nimport { UIModule } from '../../shared/ui/ui.module';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\nimport { NgbAccordionModule, NgbCollapseModule, NgbDropdownModule, NgbPaginationModule, NgbTooltipModule, NgbTypeaheadModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { Ng5SliderModule } from \"ng5-slider\";\r\nimport { DropzoneModule, DROPZONE_CONFIG } from \"ngx-dropzone-wrapper\";\r\nimport { config } from \"rxjs\";\r\n\r\nimport { CashRegisterComponent } from './cash-register/cash-register.component';\r\nimport { ListCashComponent } from './list-cash/list-cash.component';\r\nimport { DirectivesModule } from 'src/app/directives/role.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [CashRegisterComponent, ListCashComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CashRegisterRoutingModule,\r\n    UIModule,\r\n    DropzoneModule,\r\n    NgbTooltipModule,\r\n    NgbDropdownModule,\r\n    NgbPaginationModule,\r\n    NgSelectModule,\r\n    Ng2SearchPipeModule,\r\n    Ng5SliderModule,\r\n    NgbAccordionModule,\r\n    NgbTypeaheadModule,\r\n    NgbCollapseModule,\r\n    DirectivesModule\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: DROPZONE_CONFIG,\r\n      useValue: config\r\n    }\r\n  ]\r\n})\r\nexport class CashRegisterModule { }\r\n","import { Component, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { FlatpickrOptions } from 'ng2-flatpickr';\r\n\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { NgbdSortableHeader, SortEvent } from './sortable.directive';\r\n\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { CajaModel } from 'src/models/caja';\r\nimport { CajaService } from 'src/app/services/caja.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { SedesModel } from 'src/models/sedes';\r\n\r\nimport { IngresoService } from './listIngresos.service';\r\nimport { EgresoService } from './listEgresos.service';\r\n\r\nimport { Sweetalert } from 'src/utils/sweetalert';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-cash-register',\r\n  templateUrl: './cash-register.component.html',\r\n  styleUrls: ['./cash-register.component.scss'],\r\n  providers: [IngresoService, EgresoService, DecimalPipe],\r\n})\r\nexport class CashRegisterComponent implements OnInit {\r\n\r\n  role = 'Admin';\r\n  formSedes: FormGroup;\r\n  listSedes: Array<SedesModel>;\r\n  nombre_sedes: string = \"campoSede\";\r\n  idSede:string = \"\";\r\n\r\n  // modal\r\n  editEvent: any;\r\n  submitted = false;\r\n  formIngreso: FormGroup;\r\n  monto_ingreso: string = \"campoMontoIngreso\";\r\n  fecha_ingreso: string = \"campoFechaIngreso\";\r\n  descripcion_ingreso: string = \"campoDescripcionIngreso\";\r\n  metodoPagoContado_ingreso: string = \"campoMetodoPagoContadoIngreso\";\r\n\r\n  formEgreso: FormGroup;\r\n  monto_egreso: string = \"campoMontoEgreso\";\r\n  fecha_egreso: string = \"campoFechaEgreso\";\r\n  descripcion_egreso: string = \"campoDescripcionEgreso\";\r\n  metodoPagoContado_egreso: string = \"campoMetodoPagoContadoEgreso\";\r\n\r\n  listMetodosPagos = ['Fsico', 'Yape', 'Plin', 'Interbancario'];\r\n\r\n  exampleOptions: FlatpickrOptions = {\r\n    defaultDate: '',\r\n    altInputClass: 'form-control'\r\n  };\r\n\r\n  // bread crumb items\r\n  breadCrumbItems: Array<{}>;\r\n\r\n  defaultDate: '2017-03-15'\r\n\r\n  term: any;\r\n  hideme: boolean[] = [];\r\n  listData:CajaModel[];\r\n\r\n  selectedDate;\r\n  ingresos$: Observable<any>;\r\n  egresos$: Observable<any>;\r\n  total$: Observable<number>;\r\n  totalE$: Observable<number>;\r\n\r\n  egresoTotal: number;\r\n  eFisico:number = 0;\r\n  eVirtual:number = 0;\r\n  ingresoTotal: number;\r\n  iFisico:number = 0;\r\n  iVirtual:number = 0;\r\n\r\n  numberDecimalPattern = /^\\d+(\\.\\d{1,2})?$/;\r\n\r\n  caja = new CajaModel;\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n\r\n  constructor(\r\n    public serviceI: IngresoService,\r\n    public serviceE: EgresoService,\r\n    private modalService: NgbModal, \r\n    private formBuilder: FormBuilder,\r\n    private cajaService: CajaService,\r\n    private usuarioService: UsuarioService) {\r\n    this.ingresos$ = serviceI.ingreso$;\r\n    this.total$ = serviceI.totalI$;\r\n    this.egresos$ = serviceE.egresos$;\r\n    this.totalE$ = serviceE.totalE$;\r\n\r\n    let fIni: Date = new Date(Date.now());\r\n    fIni.setHours(0,0,1);\r\n    let fFin: Date = new Date(Date.now());\r\n    fFin.setHours(23,59,0);\r\n\r\n    this.cajaService.getEgresosbyDate(fIni,fFin,this.usuarioService.getSedebyUser()).subscribe(res=> {\r\n      this.eFisico = 0;\r\n      this.eVirtual = 0;\r\n      this.egresoTotal = res.reduce((acc,obj)=>{return acc+obj.monto},0);\r\n      res.forEach(element => {\r\n        if (element.metodo_pago == 'Fsico') {\r\n          this.eFisico += element.monto;\r\n        } else {\r\n          this.eVirtual += element.monto\r\n        }\r\n      });\r\n      \r\n     \r\n    });\r\n    this.cajaService.getIngresosbyDate(fIni,fFin,this.usuarioService.getSedebyUser()).subscribe(res=> {\r\n      this.iFisico = 0;\r\n      this.iVirtual=0\r\n      this.ingresoTotal = res.reduce((acc,obj)=>{return acc+obj.monto},0);\r\n      res.forEach(element => {\r\n        if (element.metodo_pago == 'Fsico') {\r\n          this.iFisico += element.monto;\r\n        } else {\r\n          this.iVirtual +=  element.monto\r\n        }\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.breadCrumbItems = [{ label: 'Caja' }, { label: 'Registro de Ingreso y Egreso', active: true },];\r\n    this.getListSedes();\r\n    this.crearFormulario();\r\n    this.selectedDate = new Date().getDate();\r\n    this._fetchData();\r\n  }\r\n\r\n  getListSedes() {\r\n    this.listSedes = JSON.parse(localStorage.getItem('sedes'));\r\n    this.idSede = this.usuarioService.getSedebyUser();\r\n  }\r\n\r\n  crearFormulario() {\r\n    this.formIngreso = this.formBuilder.group({\r\n      [this.monto_ingreso]:[null,[\r\n        Validators.required,\r\n        Validators.min(0.10),\r\n        Validators.pattern(this.numberDecimalPattern)\r\n      ]],\r\n      [this.fecha_ingreso]:[],\r\n      [this.descripcion_ingreso]:[null,[\r\n        Validators.required,\r\n        Validators.maxLength(50)\r\n      ]],\r\n      [this.metodoPagoContado_ingreso]:[null,[\r\n        Validators.required,\r\n      ]],\r\n    });\r\n\r\n    this.formEgreso = this.formBuilder.group({\r\n      [this.monto_egreso]:[null,[\r\n        Validators.required,\r\n        Validators.min(0.10),\r\n        Validators.pattern(this.numberDecimalPattern),\r\n      ]],\r\n      [this.fecha_egreso]:[],\r\n      [this.descripcion_egreso]:[null,[\r\n        Validators.required,\r\n        Validators.maxLength(50)\r\n      ]],\r\n      [this.metodoPagoContado_egreso]:[null,[\r\n        Validators.required,\r\n      ]],\r\n    });\r\n\r\n    this.formSedes = this.formBuilder.group({\r\n      [this.nombre_sedes]: [this.idSede]\r\n    })\r\n  }\r\n\r\n  /**\r\n   * fetches the table value\r\n   */\r\n  _fetchData() {\r\n    //this.listData = listData;\r\n  }\r\n\r\n  /**\r\n   * Sort table data\r\n   * @param param0 sort the column\r\n   *\r\n   */\r\n  onSortI({ column, direction }: SortEvent) {\r\n    // resetting other headers\r\n    this.headers.forEach(header => {\r\n      if (header.sortable !== column) {\r\n        header.direction = '';\r\n      }\r\n    });\r\n    this.serviceI.sortColumnI = column;\r\n    this.serviceI.sortDirectionI = direction;\r\n  }\r\n\r\n  onSortE({ column, direction }: SortEvent) {\r\n    // resetting other headers\r\n    this.headers.forEach(header => {\r\n      if (header.sortable !== column) {\r\n        header.direction = '';\r\n      }\r\n    });\r\n    this.serviceE.sortColumnE = column;\r\n    this.serviceE.sortDirectionE = direction;\r\n  }\r\n\r\n  fS(campo: string) {\r\n    return this.formSedes.get(campo);\r\n  }\r\n\r\n  changeSede() {\r\n    this.idSede = this.fS(this.nombre_sedes).value;\r\n    this.updateListIngresos(this.idSede);\r\n    this.updateListEgresos(this.idSede)\r\n  }\r\n\r\n  /**\r\n   * Open center modal\r\n   * @param centerDataModal center modal data\r\n   */\r\n   centerModal(centerDataModal: any) {\r\n    this.modalService.open(centerDataModal, { centered: true,windowClass:'modal-holder' });\r\n  }\r\n  \r\n  /**\r\n   * Delete event\r\n   */\r\n  deleteEventData() {\r\n    this.editEvent.remove();\r\n    this.modalService.dismissAll();\r\n  }\r\n\r\n  /**\r\n   * Close event modal\r\n   */\r\n  closeEventModal() {\r\n    this.modalService.dismissAll();\r\n  }\r\n\r\n  fI(campo:string) {\r\n    return this.formIngreso.get(campo);\r\n  }\r\n\r\n  fE(campo:string) {\r\n    return this.formEgreso.get(campo);\r\n  }\r\n  /**\r\n   * Save the event\r\n   */\r\n  guardarIngreso() {\r\n    if (this.formIngreso.valid) {\r\n      this.caja.monto = Number(this.fI(this.monto_ingreso).value);\r\n      this.caja.fecha_creacion_caja = new Date(Date.now());\r\n      this.caja.id_encargado = this.usuarioService.getUser().id_usuario;\r\n      this.caja.nombre_encargado = this.usuarioService.getUser().nombres + ' ' + this.usuarioService.getUser().apellidos;\r\n      this.caja.descripcion = this.fI(this.descripcion_ingreso).value;\r\n      this.caja.id_sede = this.idSede;\r\n      this.caja.habilitado = true;\r\n      this.caja.egreso = false;\r\n      this.caja.metodo_pago = this.fI(this.metodoPagoContado_ingreso).value;\r\n      Sweetalert(\"loading\", \"Cargando...\");\r\n     this.cajaService.createIngresoEgreso(this.caja).subscribe(res=>{\r\n        this.updateListIngresos(this.idSede)\r\n        this.formIngreso.reset();\r\n        this.modalService.dismissAll();\r\n        Sweetalert(\"close\",null);\r\n        Sweetalert(\"success\", \"Ingreso guardado\");\r\n      }) \r\n    } else {\r\n\r\n    }\r\n    \r\n  }\r\n\r\n  guardarEgreso() {\r\n    if (this.formEgreso.valid) {\r\n      this.caja.monto = Number(this.fE(this.monto_egreso).value);\r\n      this.caja.fecha_creacion_caja = new Date(Date.now());\r\n      this.caja.id_encargado = this.usuarioService.getUser().id_usuario;\r\n      this.caja.nombre_encargado = this.usuarioService.getUser().nombres + ' ' + this.usuarioService.getUser().apellidos;\r\n      this.caja.descripcion = this.fE(this.descripcion_egreso).value;\r\n      this.caja.id_sede = this.idSede;\r\n      this.caja.habilitado = true;\r\n      this.caja.egreso = true;\r\n      this.caja.metodo_pago = this.fE(this.metodoPagoContado_egreso).value;\r\n      Sweetalert(\"loading\", \"Cargando...\");\r\n     this.cajaService.createIngresoEgreso(this.caja).subscribe(res=>{\r\n        this.formEgreso.reset();\r\n        this.modalService.dismissAll();\r\n        this.updateListEgresos(this.idSede)\r\n        Sweetalert(\"close\",null);\r\n        Sweetalert(\"success\", \"Egreso guardado\");\r\n      }) \r\n    } else {\r\n      \r\n    }\r\n  }\r\n\r\n  eliminarIngreso(data:CajaModel) {\r\n    Swal.fire({\r\n      title: 'Est seguro que desea eliminar?',\r\n      text: 'No se podr revertir esto!',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#34c38f',\r\n      cancelButtonColor: '#f46a6a',\r\n      confirmButtonText: 'Si, eliminar!'\r\n    }).then(result => {\r\n      if (result.value) {\r\n        Sweetalert(\"loading\", \"Cargando...\");\r\n        this.cajaService.deleteIngresoEgreso(data).subscribe(res=>{\r\n          if (data.egreso) {\r\n            Sweetalert(\"close\", null);\r\n            Sweetalert(\"success\", \"Egreso eliminado\");\r\n            this.updateListEgresos(this.idSede);\r\n          } else {\r\n            Sweetalert(\"close\", null);\r\n            Sweetalert(\"success\", \"Ingreso eliminado\");\r\n            this.updateListIngresos(this.idSede);\r\n          }\r\n        }, error => {\r\n          Sweetalert(\"close\", null);\r\n          Sweetalert(\"error\", \"Error en la conexin\");\r\n        },\r\n        );\r\n      }\r\n      else if (\r\n        result.dismiss === Swal.DismissReason.cancel\r\n      ) {\r\n        Swal.fire(\r\n          'Cancelado',\r\n          'Movimiento no eliminado',\r\n          'error'\r\n        );\r\n      }\r\n    }\r\n    );\r\n  }\r\n\r\n\r\n  updateListIngresos(idSede:string) {\r\n    let fIni: Date = new Date(Date.now());\r\n    fIni.setHours(0,0,1);\r\n    let fFin: Date = new Date(Date.now());\r\n    fFin.setHours(23,59,0);\r\n    this.cajaService.getIngresosbyDate(fIni,fFin,idSede).subscribe(res => {\r\n      this.serviceI.updateTableIngreso(res);\r\n      this.ingresoTotal = 0;\r\n      this.iFisico = 0;\r\n      this.iVirtual = 0;\r\n      this.ingresoTotal = res.reduce((acc,obj)=>{return acc+obj.monto},0);\r\n      res.forEach(element => {\r\n        if (element.metodo_pago == 'Fsico') {\r\n          this.iFisico += element.monto;\r\n        } else {\r\n          this.iVirtual +=  element.monto\r\n        }\r\n      });    \r\n    })\r\n  }\r\n\r\n  updateListEgresos(idSede:string) {\r\n    let fIni: Date = new Date(Date.now());\r\n    fIni.setHours(0,0,1);\r\n    let fFin: Date = new Date(Date.now());\r\n    fFin.setHours(23,59,0);\r\n    this.cajaService.getEgresosbyDate(fIni,fFin,idSede).subscribe(res => {\r\n      this.serviceE.updateTableEgreso(res);\r\n      this.egresoTotal = 0;\r\n      this.eFisico = 0;\r\n      this.eVirtual = 0;\r\n      this.egresoTotal = res.reduce((acc,obj)=>{return acc+obj.monto},0);\r\n      res.forEach(element => {\r\n        if (element.metodo_pago == 'Fsico') {\r\n          this.eFisico += element.monto;\r\n        } else {\r\n          this.eVirtual += element.monto\r\n        }\r\n      });\r\n    })\r\n  }\r\n\r\n    /**\r\n   * Returns form Cash Ingresos\r\n   */\r\n    get formCI() {\r\n      return this.formIngreso.controls;\r\n    }\r\n        /**\r\n   * Returns form Cash Egresos\r\n   */\r\n    get formCE() {\r\n      return this.formEgreso.controls;\r\n    }\r\n\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n\r\n  <!-- start page title -->\r\n  <app-page-title title=\"Caja de Registro\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title>\r\n  <!-- end page title -->\r\n\r\n  <div class=\"row mt-2 mb-2\">\r\n    <div class=\" col-12 col-md-3 d-grid text-center mb-2\">\r\n      <button type=\"button\" class=\"btn btn-primary btn-block\" (click)=\"centerModal(centerDataModalIngreso)\">\r\n        <i class=\"uil uil-arrow-growth me-2\"></i> Registar Ingreso\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"col-12 col-md-3 d-grid text-center mb-2\">\r\n      <button type=\"button\" class=\"btn btn-danger btn-block\" (click)=\"centerModal(centerDataModalEgreso)\">\r\n        <i class=\"uil uil-chart-down me-2\"></i>Registar Egreso\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"col-12 col-md-3 d-grid\">\r\n    </div>\r\n\r\n    <div class=\"col-12 col-md-3 d-grid\" *appRole=\"role\">\r\n      <form [formGroup]=\"formSedes\">\r\n        <div ngbDropdown>\r\n          <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\" bindLabel=\"nombre_sede\"\r\n            formControlName=\"{{this.nombre_sedes}}\" (change)=\"changeSede()\">\r\n          </ng-select>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n  <div class=\"row mb-3\">\r\n    <div class=\"col-lg-6\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <div class=\"mt-0\">\r\n                <h4 class=\"text-center\">Ingreso Total: <span class=\"text-success me-1\"><i\r\n                      class=\"mdi mdi-arrow-up-bold me-1\"></i>{{this.ingresoTotal|currency:'S/ '}}</span> </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-6\">\r\n              <h5 class=\"text-center\">Fsico: {{this.iFisico|currency:'S/ '}}</h5>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <h5 class=\"text-center\">Virtual: {{this.iVirtual|currency:'S/ '}}</h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-md-2\">\r\n            <div class=\"col-12 text-md-end\">\r\n              <div class=\"dataTables_length\"><label class=\"d-inline-flex align-items-center\">Mostrar<select\r\n                    name=\"pageSize\" [(ngModel)]=\"serviceI.pageSizeI\"\r\n                    class=\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\">\r\n                    <option [ngValue]=\"5\">5</option>\r\n                    <option [ngValue]=\"10\">10</option>\r\n                    <option [ngValue]=\"25\">25</option>\r\n                    <option [ngValue]=\"50\">50</option>\r\n                    <option [ngValue]=\"100\">100</option>\r\n                  </select> entradas</label></div>\r\n            </div>\r\n          </div>\r\n          <div class=\"table-responsive mb-4\">\r\n            <form>\r\n              <table class=\"table table-centered table-nowrap mb-0 align-middle table-card-list\"\r\n                style=\"border-spacing: 0 12px; width: 100%;\">\r\n                <thead class=\"table-light\">\r\n                  <tr class=\"bg-transparent\">\r\n                    <th scope=\"col\" sortable=\"amount\" (sort)=\"onSortI($event)\">Monto</th>\r\n                    <th scope=\"col\" sortable=\"type\" (sort)=\"onSortI($event)\">Mtodo</th>\r\n                    <th scope=\"col\" sortable=\"description\" (sort)=\"onSortI($event)\">Descripcin</th>\r\n                    <th scope=\"col\" sortable=\"date\" (sort)=\"onSortI($event)\">Fecha</th>\r\n                    <th scope=\"col\" sortable=\"name\" (sort)=\"onSortI($event)\">Usuario</th>\r\n                    <th *appRole=\"role\">Accin</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor=\"let data of ingresos$ | async\">\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.monto|currency:'S/ '\" [term]=\"serviceI.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.metodo_pago.toUpperCase()\" [term]=\"serviceI.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.descripcion.toUpperCase()\" [term]=\"serviceI.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.fecha_creacion_caja\" [term]=\"serviceI.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.nombre_encargado.toUpperCase()\" [term]=\"serviceI.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <!-- <a href=\"javascript:void(0);\" class=\"px-3 text-primary\" placement=\"top\" ngbTooltip=\"Edit\"><i\r\n                            class=\"uil uil-pen font-size-18\"></i></a> -->\r\n                      <a class=\"px-3 text-danger\" placement=\"top\" ngbTooltip=\"Eliminar\" (click)=\"eliminarIngreso(data)\"\r\n                        *appRole=\"role\"><i class=\"uil uil-trash-alt font-size-18\"></i></a>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </form>\r\n          </div>\r\n          <!-- End table -->\r\n          <div class=\"row justify-content-md-between align-items-md-center\">\r\n            <!-- <div class=\"col-sm-12 col-md-5\">\r\n              <div class=\"dataTables_info mb-2\" id=\"tickets-table_info\" role=\"status\" aria-live=\"polite\">Page 2 of 84</div>\r\n            </div> -->\r\n            <!-- Pagination -->\r\n            <div class=\"col-12\">\r\n              <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                <ngb-pagination [collectionSize]=\"total$ | async\" [(page)]=\"serviceI.pageI\"\r\n                  [pageSize]=\"serviceI.pageSizeI\" [maxSize]=\"5\" [rotate]=\"true\" [boundaryLinks]=\"true\">\r\n                </ngb-pagination>\r\n              </div>\r\n            </div>\r\n            <!-- End Pagination -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-6\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <div class=\"mt-0\">\r\n                <h4 class=\"text-center\">Egreso Total: <span class=\"text-danger me-1\"><i\r\n                      class=\"mdi mdi-arrow-down-bold me-1\"></i>{{this.egresoTotal|currency:'S/ '}}</span> </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-6\">\r\n              <h5 class=\"text-center\">Fsico: {{this.eFisico|currency:'S/ '}}</h5>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <h5 class=\"text-center\">Virtual: {{this.eVirtual|currency:'S/ '}}</h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n\r\n          <div class=\"row mb-md-2\">\r\n            <div class=\"col-12 text-md-end\">\r\n              <div class=\"dataTables_length\"><label class=\"d-inline-flex align-items-center\">Mostrar<select\r\n                    name=\"pageSize\" [(ngModel)]=\"serviceE.pageSizeE\"\r\n                    class=\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\">\r\n                    <option [ngValue]=\"5\">5</option>\r\n                    <option [ngValue]=\"10\">10</option>\r\n                    <option [ngValue]=\"25\">25</option>\r\n                    <option [ngValue]=\"50\">50</option>\r\n                    <option [ngValue]=\"100\">100</option>\r\n                  </select> entradas</label></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"table-responsive mb-4\">\r\n            <form>\r\n              <table class=\"table table-centered table-nowrap mb-0 align-middle table-card-list\"\r\n                style=\"border-spacing: 0 12px; width: 100%;\">\r\n                <thead class=\"table-light\">\r\n                  <tr class=\"bg-transparent\">\r\n                    <th scope=\"col\" sortable=\"amount\" (sort)=\"onSortE($event)\">Monto</th>\r\n                    <th scope=\"col\" sortable=\"type\" (sort)=\"onSortE($event)\">Mtodo</th>\r\n                    <th scope=\"col\" sortable=\"description\" (sort)=\"onSortE($event)\">Descripcin</th>\r\n                    <th scope=\"col\" sortable=\"date\" (sort)=\"onSortE($event)\">Fecha</th>\r\n                    <th scope=\"col\" sortable=\"name\" (sort)=\"onSortE($event)\">Usuario</th>\r\n                    <th *appRole=\"role\">Accin</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor=\"let data of egresos$ | async\">\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.monto|currency:'S/ '\" [term]=\"serviceE.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.metodo_pago.toUpperCase()\" [term]=\"serviceE.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.descripcion.toUpperCase()\" [term]=\"serviceE.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.fecha_creacion_caja\" [term]=\"serviceE.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.nombre_encargado.toUpperCase()\" [term]=\"serviceE.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <!-- <a href=\"javascript:void(0);\" class=\"px-3 text-primary\" placement=\"top\" ngbTooltip=\"Edit\"><i\r\n                            class=\"uil uil-pen font-size-18\"></i></a> -->\r\n                      <a class=\"px-3 text-danger\" placement=\"top\" ngbTooltip=\"Eliminar\" (click)=\"eliminarIngreso(data)\"\r\n                        *appRole=\"role\"><i class=\"uil uil-trash-alt font-size-18\"></i></a>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </form>\r\n          </div>\r\n\r\n          <!-- End table -->\r\n          <div class=\"row justify-content-md-between align-items-md-center\">\r\n            <!-- <div class=\"col-sm-12 col-md-5\">\r\n              <div class=\"dataTables_info mb-2\" id=\"tickets-table_info\" role=\"status\" aria-live=\"polite\">Page 2 of 84</div>\r\n            </div> -->\r\n            <!-- Pagination -->\r\n            <div class=\"col-12\">\r\n              <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                <ngb-pagination [collectionSize]=\"totalE$ | async\" [(page)]=\"serviceE.pageE\"\r\n                  [pageSize]=\"serviceE.pageSizeE\" [maxSize]=\"5\" [rotate]=\"true\" [boundaryLinks]=\"true\">\r\n                </ngb-pagination>\r\n              </div>\r\n            </div>\r\n            <!-- End Pagination -->\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> <!-- container-fluid -->\r\n\r\n\r\n<!-- Add New Ingreso - Center Modal -->\r\n<ng-template #centerDataModalIngreso let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\" id=\"modal-title\">Nuevo Ingreso</h5>\r\n    <button type=\"button\" class=\"btn-close\" (click)=\"closeEventModal()\">\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body p-4\">\r\n    <form [formGroup]=\"formIngreso\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"control-label\">Monto</label>\r\n            <input class=\"form-control\" placeholder=\"Ingrese el monto\" type=\"text\" name=\"title\"\r\n              formControlName=\"{{this.monto_ingreso}}\"\r\n              [ngClass]=\"{'is-invalid': formCI.campoMontoIngreso.invalid && (formCI.campoMontoIngreso.dirty || formCI.campoMontoIngreso.touched)}\" />\r\n            <div class=\"invalid-feedback\">\r\n              <div *ngIf=\"formCI.campoMontoIngreso.errors?.required\">\r\n                Campo requerido.\r\n              </div>\r\n              <div *ngIf=\"formCI.campoMontoIngreso.errors?.min\">\r\n                Nmero menor.\r\n              </div>\r\n              <div *ngIf=\"formCI.campoMontoIngreso.errors?.pattern\">\r\n                Ingrese solo nmeros.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-6\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"control-label\">Mtodo</label>\r\n            <ng-select name=\"selectMetodo\" [items]=\"listMetodosPagos\"\r\n              formControlName=\"{{this.metodoPagoContado_ingreso}}\" placeholder=\"Seleccione\"\r\n              [ngClass]=\"{'is-invalid': formCI.campoMetodoPagoContadoIngreso.invalid && (formCI.campoMetodoPagoContadoIngreso.dirty || formCI.campoMetodoPagoContadoIngreso.touched)}\">\r\n            </ng-select>\r\n            <div class=\"invalid-feedback\">\r\n              <div *ngIf=\"formCI.campoMetodoPagoContadoIngreso.errors?.required\">\r\n                Campo requerido.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"control-label\">Descripcin</label>\r\n            <textarea class=\"form-control\" id=\"billing-observaciones\" rows=\"3\" placeholder=\"Ingrese la descripcin\"\r\n              formControlName=\"{{this.descripcion_ingreso}}\"\r\n              [ngClass]=\"{'is-invalid': formCI.campoDescripcionIngreso.invalid && (formCI.campoDescripcionIngreso.dirty || formCI.campoDescripcionIngreso.touched)}\">\r\n            </textarea>\r\n            <div class=\"invalid-feedback\">\r\n              <div *ngIf=\"formCI.campoDescripcionIngreso.errors?.required\">\r\n                Campo requerido.\r\n              </div>\r\n              <div *ngIf=\"formCI.campoDescripcionIngreso.errors?.maxlength\">\r\n                La descripcin debe ser menor a 50 caracteres.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"text-end mt-2\">\r\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeEventModal()\">\r\n          Cerrar\r\n        </button>\r\n        <button type=\"submit\" class=\"btn btn-success ms-1\" id=\"btn-save-event\" (click)=\"guardarIngreso()\"\r\n          [disabled]=\"!formIngreso.valid\">\r\n          Guardar\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <!-- end modal dialog-->\r\n</ng-template>\r\n<!-- end modal-->\r\n\r\n\r\n<!-- Add New Egreso - Center Modal -->\r\n<ng-template #centerDataModalEgreso let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\" id=\"modal-title\">Nuevo Egreso</h5>\r\n    <button type=\"button\" class=\"btn-close\" (click)=\"closeEventModal()\">\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body p-4\">\r\n    <form [formGroup]=\"formEgreso\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"control-label\">Monto</label>\r\n            <input class=\"form-control\" placeholder=\"Ingrese el monto\" type=\"text\" name=\"title\"\r\n              formControlName=\"{{this.monto_egreso}}\"\r\n              [ngClass]=\"{'is-invalid': formCE.campoMontoEgreso.invalid && (formCE.campoMontoEgreso.dirty || formCE.campoMontoEgreso.touched)}\" />\r\n            <div class=\"invalid-feedback\">\r\n              <div *ngIf=\"formCE.campoMontoEgreso.errors?.required\">\r\n                Campo requerido.\r\n              </div>\r\n              <div *ngIf=\"formCE.campoMontoEgreso.errors?.min\">\r\n                Nmero menor.\r\n              </div>\r\n              <div *ngIf=\"formCE.campoMontoEgreso.errors?.pattern\">\r\n                Ingrese solo nmeros.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-6\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"control-label\">Mtodo</label>\r\n            <ng-select name=\"selectMetodo\" [items]=\"listMetodosPagos\"\r\n              formControlName=\"{{this.metodoPagoContado_egreso}}\" placeholder=\"Seleccione\"\r\n              [ngClass]=\"{'is-invalid': formCE.campoMetodoPagoContadoEgreso.invalid && (formCE.campoMetodoPagoContadoEgreso.dirty || formCE.campoMetodoPagoContadoEgreso.touched)}\">\r\n            </ng-select>\r\n            <div class=\"invalid-feedback\">\r\n              <div *ngIf=\"formCE.campoMetodoPagoContadoEgreso.errors?.required\">\r\n                Campo requerido.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"mb-3\">\r\n            <label class=\"control-label\">Descripcin</label>\r\n            <textarea class=\"form-control\" id=\"billing-observaciones\" rows=\"3\" placeholder=\"Ingrese la descripcin\"\r\n              formControlName=\"{{this.descripcion_egreso}}\"\r\n              [ngClass]=\"{'is-invalid': formCE.campoDescripcionEgreso.invalid && (formCE.campoDescripcionEgreso.dirty || formCE.campoDescripcionEgreso.touched)}\">\r\n            </textarea>\r\n            <div class=\"invalid-feedback\">\r\n              <div *ngIf=\"formCE.campoDescripcionEgreso.errors?.required\">\r\n                Campo requerido.\r\n              </div>\r\n              <div *ngIf=\"formCE.campoDescripcionEgreso.errors?.maxlength\">\r\n                La descripcin debe ser menor a 50 caracteres.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"text-end mt-2\">\r\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeEventModal()\">\r\n          Cerrar\r\n        </button>\r\n        <button type=\"submit\" class=\"btn btn-success ms-1\" id=\"btn-save-event\" (click)=\"guardarEgreso()\"\r\n          [disabled]=\"!formEgreso.valid\">\r\n          Guardar\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <!-- end modal dialog-->\r\n</ng-template>\r\n<!-- end modal-->","import { Injectable, PipeTransform } from '@angular/core';\r\n\r\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\r\n\r\n\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { debounceTime, delay, switchMap, tap } from 'rxjs/operators';\r\nimport { SortColumn, SortDirection } from './sortable.directive';\r\nimport { CajaService } from 'src/app/services/caja.service';\r\nimport { CajaModel } from 'src/models/caja';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\ninterface SearchResult {\r\n  invoices: CajaModel[];\r\n  total: number;\r\n}\r\n\r\ninterface State {\r\n  page: number;\r\n  pageSize: number;\r\n  searchTerm: string;\r\n  sortColumn: SortColumn;\r\n  sortDirection: SortDirection;\r\n}\r\n\r\nconst compare = (v1: string | number | Date | boolean | CajaModel[], v2: string | number | Date | boolean | CajaModel[]) =>\r\n  v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n\r\nfunction sort(\r\n  invoices: CajaModel[],\r\n  column: SortColumn,\r\n  direction: string\r\n): CajaModel[] {\r\n  if (direction === '' || column === '') {\r\n    return invoices;\r\n  } else {\r\n    return [...invoices].sort((a, b) => {\r\n      const res = compare(a[column], b[column]);\r\n      return direction === 'asc' ? res : -res;\r\n    });\r\n  }\r\n}\r\n\r\nfunction matches(invoice: CajaModel, term: string, pipe: PipeTransform) {\r\n  return String(invoice.monto).toLowerCase().includes(term) ||\r\n    invoice.descripcion.toLowerCase().includes(term.toLowerCase()) ||\r\n    String(invoice.nombre_encargado).toLowerCase().includes(term.toLowerCase())\r\n    ;\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class EgresoService {\r\n  private _loadingE$ = new BehaviorSubject<boolean>(true);\r\n  private _searchE$ = new Subject<void>();\r\n  private _egresos$ = new BehaviorSubject<CajaModel[]>([]);\r\n  private _totalE$ = new BehaviorSubject<number>(0);\r\n  egresoList: CajaModel[] = [];\r\n  private _state: State = {\r\n    page: 1,\r\n    pageSize: 5,\r\n    searchTerm: '',\r\n    sortColumn: '',\r\n    sortDirection: '',\r\n  };\r\n\r\n  constructor(\r\n    private pipe: DecimalPipe,\r\n    private cajaService: CajaService,\r\n    private usuarioService: UsuarioService\r\n    ) {\r\n      let fIni: Date = new Date(Date.now());\r\n    fIni.setHours(0,0,1);\r\n    let fFin: Date = new Date(Date.now());\r\n    fFin.setHours(23,59,0);\r\n    this.getListEgresos(fIni,fFin);\r\n  }\r\n\r\n  updateTableEgreso (data) {\r\n    this.egresoList = data;\r\n      \r\n      this._searchE$\r\n      .pipe(\r\n        tap(() => this._loadingE$.next(true)),\r\n        debounceTime(200),\r\n        switchMap(() => this._searchE()),\r\n        delay(200),\r\n        tap(() => this._loadingE$.next(false))\r\n      )\r\n      .subscribe((result) => {\r\n        this._egresos$.next(result.invoices);\r\n        this._totalE$.next(result.total);\r\n      });\r\n\r\n    this._searchE$.next();\r\n  }\r\n\r\n  get egresos$() {\r\n    return this._egresos$.asObservable();\r\n  }\r\n  get totalE$() {\r\n    return this._totalE$.asObservable();\r\n  }\r\n  get loadingE$() {\r\n    return this._loadingE$.asObservable();\r\n  }\r\n  get pageE() {\r\n    return this._state.page;\r\n  }\r\n  get pageSizeE() {\r\n    return this._state.pageSize;\r\n  }\r\n  get searchTermE() {\r\n    return this._state.searchTerm;\r\n  }\r\n\r\n\r\n  set pageE(page: number) {\r\n    this._setE({ page });\r\n  }\r\n  set pageSizeE(pageSize: number) {\r\n    this._setE({ pageSize });\r\n  }\r\n  set searchTermE(searchTerm: string) {\r\n    this._setE({ searchTerm });\r\n  }\r\n  set sortColumnE(sortColumn: SortColumn) {\r\n    this._setE({ sortColumn });\r\n  }\r\n  set sortDirectionE(sortDirection: SortDirection) {\r\n    this._setE({ sortDirection });\r\n  }\r\n\r\n  private _setE(patch: Partial<State>) {\r\n    Object.assign(this._state, patch);\r\n    this._searchE$.next();\r\n  }\r\n\r\n  private _searchE(): Observable<SearchResult> {\r\n    const {\r\n      sortColumn,\r\n      sortDirection,\r\n      pageSize,\r\n      page,\r\n      searchTerm,\r\n    } = this._state;\r\n\r\n    // 1. sort\r\n    let invoices = sort(this.egresoList, sortColumn, sortDirection);\r\n\r\n    // 2. filter\r\n    invoices = invoices.filter((customer) =>\r\n      matches(customer, searchTerm, this.pipe)\r\n    );\r\n    const total = invoices.length;\r\n\r\n    // 3. paginate\r\n    invoices = invoices.slice(\r\n      (page - 1) * pageSize,\r\n      (page - 1) * pageSize + pageSize\r\n    );\r\n    return of({ invoices, total });\r\n  }\r\n\r\n  getListEgresos(fIni:Date, fFin:Date) {\r\n\r\n    this.cajaService.getEgresosbyDate(fIni,fFin,this.usuarioService.getSedebyUser()).subscribe( res=> {\r\n      this.egresoList = res;\r\n      this._searchE$\r\n      .pipe(\r\n        tap(() => this._loadingE$.next(true)),\r\n        debounceTime(200),\r\n        switchMap(() => this._searchE()),\r\n        delay(200),\r\n        tap(() => this._loadingE$.next(false))\r\n      )\r\n      .subscribe((result) => {\r\n        this._egresos$.next(result.invoices);\r\n        this._totalE$.next(result.total);\r\n      });\r\n\r\n    this._searchE$.next();\r\n    }\r\n\r\n    );\r\n  }\r\n}\r\n","import { Injectable, PipeTransform } from '@angular/core';\r\n\r\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\r\n\r\n\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { debounceTime, delay, switchMap, tap } from 'rxjs/operators';\r\nimport { SortColumn, SortDirection } from './sortable.directive';\r\nimport { CajaService } from 'src/app/services/caja.service';\r\nimport { CajaModel } from 'src/models/caja';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\ninterface SearchResult {\r\n  invoices: CajaModel[];\r\n  total: number;\r\n}\r\n\r\ninterface State {\r\n  page: number;\r\n  pageSize: number;\r\n  searchTerm: string;\r\n  sortColumn: SortColumn;\r\n  sortDirection: SortDirection;\r\n}\r\n\r\nconst compare = (v1: string | number | Date | boolean | CajaModel[], v2: string | number | Date | boolean | CajaModel[]) =>\r\n  v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n\r\nfunction sort(\r\n  invoices: CajaModel[],\r\n  column: SortColumn,\r\n  direction: string\r\n): CajaModel[] {\r\n  if (direction === '' || column === '') {\r\n    return invoices;\r\n  } else {\r\n    return [...invoices].sort((a, b) => {\r\n      const res = compare(a[column], b[column]);\r\n      return direction === 'asc' ? res : -res;\r\n    });\r\n  }\r\n}\r\n\r\nfunction matches(invoice: CajaModel, term: string, pipe: PipeTransform) {\r\n  return String(invoice.monto).toLowerCase().includes(term) ||\r\n    invoice.descripcion.toLowerCase().includes(term.toLowerCase()) ||\r\n    String(invoice.nombre_encargado).toLowerCase().includes(term.toLowerCase())\r\n    ;\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class IngresoService {\r\n  private _loadingI$ = new BehaviorSubject<boolean>(true);\r\n  private _searchI$ = new Subject<void>();\r\n  private _ingreso$ = new BehaviorSubject<CajaModel[]>([]);\r\n  private _totalI$ = new BehaviorSubject<number>(0);\r\n  private ingresoList: CajaModel[] = [];\r\n\r\n  private _state: State = {\r\n    page: 1,\r\n    pageSize: 5,\r\n    searchTerm: '',\r\n    sortColumn: '',\r\n    sortDirection: '',\r\n  };\r\n  \r\n\r\n  constructor(\r\n    private pipe: DecimalPipe,\r\n    private cajaService: CajaService,\r\n    private usuarioService: UsuarioService\r\n    ) {\r\n      let fIni: Date = new Date(Date.now());\r\n    fIni.setHours(0,0,1);\r\n    let fFin: Date = new Date(Date.now());\r\n    fFin.setHours(23,59,0);\r\n    this.getListIngresos(fIni,fFin);\r\n  }\r\n\r\n  updateTableIngreso (data) {\r\n    //this._ingreso$.next(data);\r\n    this.ingresoList = data;\r\n    this._searchI$\r\n      .pipe(\r\n        tap(() => this._loadingI$.next(true)),\r\n        debounceTime(200),\r\n        switchMap(() => this._searchI()),\r\n        delay(200),\r\n        tap(() => this._loadingI$.next(false))\r\n      )\r\n      .subscribe((result) => {\r\n        this._ingreso$.next(result.invoices);\r\n        this._totalI$.next(result.total);\r\n      });\r\n\r\n    this._searchI$.next();\r\n  }\r\n\r\n  get ingreso$() {\r\n    return this._ingreso$.asObservable();\r\n  }\r\n  get totalI$() {\r\n    return this._totalI$.asObservable();\r\n  }\r\n  get loadingI$() {\r\n    return this._loadingI$.asObservable();\r\n  }\r\n\r\n  get pageI() {\r\n    return this._state.page;\r\n  }\r\n  get pageSizeI() {\r\n    return this._state.pageSize;\r\n  }\r\n  get searchTermI() {\r\n    return this._state.searchTerm;\r\n  }\r\n\r\n  set pageI(page: number) {\r\n    this._setI({ page });\r\n  }\r\n  set pageSizeI(pageSize: number) {\r\n    this._setI({ pageSize });\r\n  }\r\n  set searchTermI(searchTerm: string) {\r\n    this._setI({ searchTerm });\r\n  }\r\n  set sortColumnI(sortColumn: SortColumn) {\r\n    this._setI({ sortColumn });\r\n  }\r\n  set sortDirectionI(sortDirection: SortDirection) {\r\n    this._setI({ sortDirection });\r\n  }\r\n\r\n  private _setI(patch: Partial<State>) {\r\n    Object.assign(this._state, patch);\r\n    this._searchI$.next();\r\n  }\r\n\r\n  private _searchI(): Observable<SearchResult> {\r\n    const {\r\n      sortColumn,\r\n      sortDirection,\r\n      pageSize,\r\n      page,\r\n      searchTerm,\r\n    } = this._state;\r\n\r\n    // 1. sort\r\n    let invoices = sort(this.ingresoList, sortColumn, sortDirection);\r\n\r\n    // 2. filter\r\n    invoices = invoices.filter((customer) =>\r\n      matches(customer, searchTerm, this.pipe)\r\n    );\r\n    const total = invoices.length;\r\n\r\n    // 3. paginate\r\n    invoices = invoices.slice(\r\n      (page - 1) * pageSize,\r\n      (page - 1) * pageSize + pageSize\r\n    );\r\n    return of({ invoices, total });\r\n  }\r\n\r\n  getListIngresos(fIni:Date, fFin:Date) {\r\n    \r\n    this.cajaService.getIngresosbyDate(fIni,fFin,this.usuarioService.getSedebyUser()).subscribe( res=> {\r\n      this.ingresoList = res;\r\n      this._searchI$\r\n      .pipe(\r\n        tap(() => this._loadingI$.next(true)),\r\n        debounceTime(200),\r\n        switchMap(() => this._searchI()),\r\n        delay(200),\r\n        tap(() => this._loadingI$.next(false))\r\n      )\r\n      .subscribe((result) => {\r\n        this._ingreso$.next(result.invoices);\r\n        this._totalI$.next(result.total);\r\n      });\r\n\r\n    this._searchI$.next();\r\n    }\r\n\r\n    );\r\n  }\r\n}\r\n","import {Directive, EventEmitter, Input, Output} from '@angular/core';\r\nimport { CajaModel } from 'src/models/caja';\r\n\r\n\r\nexport type SortColumn = keyof CajaModel | '';\r\nexport type SortDirection = 'asc' | 'desc' | '';\r\nconst rotate: {[key: string]: SortDirection} = { 'asc': 'desc', 'desc': '', '': 'asc' };\r\n\r\nexport interface SortEvent {\r\n  column: SortColumn;\r\n  direction: SortDirection;\r\n}\r\n\r\n@Directive({\r\n  selector: 'th[sortable]',\r\n  host: {\r\n    '[class.asc]': 'direction === \"asc\"',\r\n    '[class.desc]': 'direction === \"desc\"',\r\n    '(click)': 'rotate()'\r\n  }\r\n})\r\nexport class NgbdSortableHeader {\r\n\r\n  @Input() sortable: SortColumn = '';\r\n  @Input() direction: SortDirection = '';\r\n  @Output() sort = new EventEmitter<SortEvent>();\r\n\r\n  rotate() {\r\n    this.direction = rotate[this.direction];\r\n    this.sort.emit({column: this.sortable, direction: this.direction});\r\n  }\r\n}","import { Component, OnInit, QueryList, ViewChildren } from '@angular/core';\r\n\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { Observable } from 'rxjs';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { TransactionService } from './registro.service';\r\nimport { NgbdSortableHeader, SortEvent } from './sortable.directive';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { SedesModel } from 'src/models/sedes';\r\nimport { ReporteModel } from 'src/models/reporte';\r\nimport { CajaService } from 'src/app/services/caja.service';\r\nimport { dateMonth } from 'src/utils/functions';\r\n\r\n\r\n@Component({\r\n  selector: 'app-list-cash',\r\n  templateUrl: './list-cash.component.html',\r\n  styleUrls: ['./list-cash.component.scss'],\r\n  providers: [TransactionService, DecimalPipe]\r\n})\r\nexport class ListCashComponent implements OnInit {\r\n\r\n  formSedes: FormGroup;\r\n  listSedes: Array<SedesModel>;\r\n  nombre_sedes: string = \"campoSede\";\r\n  idSede:string = \"\";\r\n\r\n  formDateRange: FormGroup;\r\n  fechaDesde: string = 'campoFechaDesde';\r\n  fechaHasta: string = 'campoFechaHasta';\r\n  // bread crumb items\r\n  breadCrumbItems: Array<{}>;\r\n  term: any;\r\n\r\n  transactions$: Observable<any>;\r\n  total$: Observable<number>;\r\n\r\n  reporteCaja= new ReporteModel\r\n  \r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n\r\n  constructor(\r\n    private modalService: NgbModal,\r\n    public service: TransactionService,\r\n    private fb: FormBuilder,\r\n    private usuarioService: UsuarioService,\r\n    private cajaService: CajaService) {\r\n    this.transactions$ = service.transactions$;\r\n    this.total$ = service.total$;\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.breadCrumbItems = [{ label: 'Caja' }, { label: 'Lista de Ingresos y Egresos', active: true }];\r\n    this.getListSedes();\r\n    this.crearFormulario();\r\n  }\r\n\r\n  getListSedes() {\r\n    this.listSedes = JSON.parse(localStorage.getItem('sedes'));\r\n    this.idSede = this.usuarioService.getSedebyUser();\r\n  }\r\n\r\n  crearFormulario() {\r\n    this.formSedes = this.fb.group({\r\n      [this.nombre_sedes]: [this.idSede]\r\n    });\r\n\r\n    this.formDateRange = this.fb.group({\r\n      [this.fechaDesde]:[ dateMonth(new Date(Date.now()))],\r\n    });\r\n  }\r\n\r\n  onSort({ column, direction }: SortEvent) {\r\n    // resetting other headers\r\n    this.headers.forEach(header => {\r\n      if (header.sortable !== column) {\r\n        header.direction = '';\r\n      }\r\n    });\r\n\r\n    this.service.sortColumn = column;\r\n    this.service.sortDirection = direction;\r\n  }\r\n\r\n  /**\r\n * Open scroll modal\r\n * @param scrollDataModal scroll modal data\r\n */\r\n  scrollModal(scrollDataModal: any,data:any) {\r\n    this.reporteCaja.fechaCaja = new Date(data.date+'T00:00').toLocaleDateString('en-GB');\r\n    this.reporteCaja.ingreso_total = data.ingreso_total;\r\n    this.reporteCaja.egreso_total = data.egreso_total;\r\n    this.reporteCaja.ingresos = data.caja.filter(el => (el.egreso == false));\r\n    this.reporteCaja.egresos = data.caja.filter(el => (el.egreso == true));\r\n    this.reporteCaja.ingresos.forEach(element => {\r\n      if (element.metodo_pago == 'Fsico') {\r\n        this.reporteCaja.ingresos_fisicos += element.monto\r\n      } else {\r\n        this.reporteCaja.ingresos_virtuales += element.monto\r\n      }\r\n    });\r\n\r\n    this.reporteCaja.egresos.forEach(element => {\r\n      if (element.metodo_pago == 'Fsico') {\r\n        this.reporteCaja.egresos_fisicos += element.monto\r\n      } else {\r\n        this.reporteCaja.egresos_virtuales += element.monto\r\n      }\r\n    });\r\n\r\n    this.modalService.open(scrollDataModal, { size: 'lg', centered: true, scrollable: true });\r\n  }\r\n\r\n  /**\r\n * Close event modal\r\n */\r\n  closeEventModalGeneral() {\r\n    this.modalService.dismissAll();\r\n  }\r\n\r\n  f(campo:any) {\r\n    return this.formDateRange.get(campo);\r\n  }\r\n\r\n  filterDateRange() {\r\n    if (this.formDateRange.valid) {\r\n      let fechaIni = new Date(this.f(this.fechaDesde).value+'T00:00');\r\n\r\n      let firstDay = new Date(fechaIni.getFullYear(), fechaIni.getMonth(), 1);\r\n      let lastDay = new Date(fechaIni.getFullYear(), fechaIni.getMonth() + 1, 0);\r\n      firstDay.setHours(0, 0, 1);\r\n      lastDay.setHours(23, 59, 0);\r\n\r\n      this.updateListCaja(firstDay,lastDay,this.idSede);\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  fS(campo: string) {\r\n    return this.formSedes.get(campo);\r\n  }\r\n\r\n  changeSedes() {\r\n    this.idSede = this.fS(this.nombre_sedes).value;\r\n    const fIni = new Date(this.f(this.fechaDesde).value + 'T00:00');\r\n    let firstDay = new Date(fIni.getFullYear(), fIni.getMonth(), 1);\r\n    let lastDay = new Date(fIni.getFullYear(), fIni.getMonth() + 1, 0);\r\n    firstDay.setHours(0, 0, 1);\r\n    lastDay.setHours(23, 59, 0);\r\n    this.updateListCaja(firstDay,lastDay,this.idSede);\r\n  }\r\n\r\n  updateListCaja(fIni:Date,fFin:Date,idSede:string) {\r\n    this.cajaService.getIngresosEgresosbyMonth(fIni,fFin,idSede).subscribe( res=>{\r\n      const groups = res.reduce((groups, game) => {\r\n        const date = game.fecha_creacion_caja.split(' ')[0];\r\n        if (!groups[date]) {\r\n          groups[date] = [];\r\n        }\r\n        groups[date].push(game);\r\n        return groups;\r\n      }, {}); \r\n      \r\n      // Edit: to add it in the array format instead\r\n       const groupArrays = Object.keys(groups).map((date) => {\r\n        return {\r\n          date,\r\n          caja: groups[date],\r\n        };\r\n      }); \r\n      \r\n      groupArrays.forEach(element => {\r\n        const ingreso ={\r\n          ingreso_total: 0,\r\n          egreso_total:0\r\n        }\r\n        element.caja.forEach(element => {\r\n          if (element.egreso) {\r\n             ingreso.egreso_total +=element.monto\r\n          } else {\r\n            ingreso.ingreso_total +=element.monto\r\n          }\r\n        });\r\n\r\n        Object.assign(element,ingreso)\r\n      });\r\n\r\n      this.service.updateTable(groupArrays)\r\n      \r\n    })\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n\r\n    <app-page-title title=\"Listas de Registro de Ingresos y Egresos\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 mb-2\">\r\n        <div class=\"form-inline\">\r\n          <div class=\"search-box ml-2\">\r\n            <div class=\"position-relative\">\r\n              <input type=\"text\" class=\"form-control border-light rounded\" placeholder=\"Buscar registro\" name=\"searchTerm\"\r\n              aria-controls=\"tickets-table\" [(ngModel)]=\"service.searchTerm\">\r\n              <i class=\"uil uil-search search-icon\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <div class=\"col-md-6 mb-2\">\r\n        <div>\r\n          <div class=\"btn-toolbar\" role=\"toolbar\">\r\n  \r\n            <div class=\"col-12 col-md-6 d-grid mb-2 chat-search-box px-1\">\r\n              <div class=\"position-relative\">\r\n                <form [formGroup]=\"formDateRange\">\r\n                  <div class=\"input-daterange input-group\">\r\n                    <input type=\"month\" class=\"form-control\" id=\"billing-fechanacimiento\"\r\n                    placeholder=\"Seleccione la fecha\" formControlName=\"{{this.fechaDesde}}\" />\r\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"filterDateRange()\"><i\r\n                        class=\"mdi mdi-filter-variant\"></i></button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n  \r\n            <div class=\"col-12 col-md-6 d-grid\">\r\n              <form [formGroup]=\"formSedes\">\r\n                <div ngbDropdown>\r\n                  <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\"\r\n                    bindLabel=\"nombre_sede\" formControlName=\"{{this.nombre_sedes}}\" (change)=\"changeSedes()\">\r\n                  </ng-select>\r\n                </div>\r\n              </form>\r\n            </div>\r\n  \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row md-2\">\r\n      <!--   <div class=\"col-sm-6 col-md-6\">\r\n  \r\n    </div> -->\r\n      <div class=\"col-sm-12 col-md-12\">\r\n        <div class=\"dataTables_length text-md-end\"><label class=\"d-inline-flex align-items-center\">Mostrar<select\r\n              name=\"pageSize\" [(ngModel)]=\"service.pageSize\"\r\n              class=\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\">\r\n              <option [ngValue]=\"10\">10</option>\r\n              <option [ngValue]=\"25\">25</option>\r\n              <option [ngValue]=\"50\">50</option>\r\n              <option [ngValue]=\"100\">100</option>\r\n            </select> entradas</label></div>\r\n      </div>\r\n    </div>\r\n\r\n  \r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"table-responsive mb-4\">\r\n          <div id=\"DataTables_Table_0_wrapper\" class=\"dataTables_wrapper dt-bootstrap4 no-footer\">\r\n            <form>\r\n  \r\n              <table class=\"table table-centered datatables dt-responsive nowrap table-card-list\"\r\n                style=\"border-spacing: 0 12px; width: 100%;\">\r\n                <thead>\r\n                  <tr class=\"bg-transparent\">\r\n<!--                     <th style=\"width: 24px;\">\r\n                      <div class=\"form-check text-center font-size-16\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"ordercheck\">\r\n                        <label class=\"form-check-label\" for=\"ordercheck\"></label>\r\n                      </div>\r\n                    </th> -->\r\n                    <th scope=\"col\" sortable=\"id\" (sort)=\"onSort($event)\">Ord.</th>\r\n                    <th scope=\"col\" sortable=\"fecha\" (sort)=\"onSort($event)\">Fecha</th>\r\n                    <th scope=\"col\" sortable=\"ingreso\" (sort)=\"onSort($event)\">Ingreso</th>\r\n                    <th scope=\"col\" sortable=\"egreso\" (sort)=\"onSort($event)\">Egreso</th>\r\n                    <th scope=\"col\" sortable=\"status\" (sort)=\"onSort($event)\">Ganancia/Prdida</th>\r\n                    <th style=\"width: 170px;\">Accin</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n  \r\n                  <tr *ngFor=\"let data of transactions$ | async; let i = index\" class=\"odd\">\r\n  \r\n<!--                     <td>\r\n                      <div class=\"form-check text-center\">\r\n                        <input id=\"ordercheck{{data.index}}\" type=\"checkbox\" class=\"form-check-input\" />\r\n                        <label class=\"form-check-label\" for=\"ordercheck{{data.index}}\">&nbsp;</label>\r\n                      </div>\r\n                    </td> -->\r\n                    <td>\r\n                      <ngb-highlight [result]=\"(i+1) + (service.page-1)*service.pageSize\" [term]=\"service.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.date\" [term]=\"service.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.ingreso_total |currency:'S/ '\" [term]=\"service.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.egreso_total |currency:'S/ '\" [term]=\"service.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <span class=\"badge rounded-pill bg-soft-success font-size-12\"\r\n                        [ngClass]=\" { 'bg-soft-danger': data.ingreso_total-data.egreso_total < 0}\">\r\n                        {{data.ingreso_total-data.egreso_total |currency:'S/ '}}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <a (click)=\"scrollModal(scrollDataModalDetalleCajaDia,data)\" class=\"px-3 text-primary\" placement=\"top\" ngbTooltip=\"Ver detalle\"><i\r\n                          class=\"uil uil-eye font-size-18\"></i></a>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- End table -->\r\n        <div class=\"row justify-content-md-between align-items-md-center\">\r\n            <!-- <div class=\"col-sm-12 col-md-5\">\r\n            <div class=\"dataTables_info mb-2\" id=\"tickets-table_info\" role=\"status\" aria-live=\"polite\">Page 2 of 84</div>\r\n            </div> -->\r\n            <!-- Pagination -->\r\n            <div class=\"col-12\">\r\n            <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                <ngb-pagination [collectionSize]=\"total$ | async\" [(page)]=\"service.page\" [pageSize]=\"service.pageSize\" [maxSize]=\"5\" [rotate]=\"true\" [boundaryLinks]=\"true\">\r\n                </ngb-pagination>\r\n            </div>\r\n            </div>\r\n            <!-- End Pagination -->\r\n        </div>\r\n  \r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n    <!-- Scrollable Modal - Ver Detalle Caja por Da-->\r\n    <ng-template #scrollDataModalDetalleCajaDia let-modal>\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title mt-0\">Detalle de Caja: {{this.reporteCaja.fechaCaja}}</h5>\r\n        <button type=\"button\" class=\"btn-close\" (click)=\"closeEventModalGeneral()\" aria-label=\"Close\">\r\n\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <div class=\"d-flex align-items-start\">\r\n                    <div class=\"flex-1 align-self-center\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <div class=\"mt-1\">\r\n                                    <p class=\"text-muted mb-2\">Ingreso</p>\r\n                                    <h4 class=\"text-muted mt-3 mb-0\"><span class=\"text-success me-1\"><i\r\n                                      class=\"mdi mdi-arrow-up-bold me-1\"></i>{{this.reporteCaja.ingreso_total |currency:'S/ '}}</span></h4>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"mt-1\">\r\n                                    <p class=\"text-muted mb-2\">Egreso</p>\r\n                                    <h4 class=\"text-muted mt-3 mb-0\"><span class=\"text-danger me-1\"><i\r\n                                      class=\"mdi mdi-arrow-down-bold me-1\"></i>{{this.reporteCaja.egreso_total |currency:'S/ '}}</span></h4>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row mb-3\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-6\">\r\n                <h6>Ingresos Fsico: {{this.reporteCaja.ingresos_fisicos |currency:'S/ '}}</h6>\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <h6>Ingresos Virtual: {{this.reporteCaja.ingresos_virtuales |currency:'S/ '}}</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive mb-4\">\r\n                <form>\r\n                  <table class=\"table table-centered table-nowrap mb-0 align-middle table-card-list\" style=\"border-spacing: 0 12px; width: 100%;\">\r\n                    <thead class=\"table-light\">\r\n                      <tr class=\"bg-transparent\">\r\n                        <th scope=\"col\" sortable=\"amount\" (sort)=\"onSort($event)\">Monto</th>\r\n                        <th scope=\"col\" sortable=\"type\" (sort)=\"onSort($event)\">Mtodo</th>\r\n                        <th scope=\"col\" sortable=\"description\" (sort)=\"onSort($event)\">Descripcin</th>\r\n                        <th scope=\"col\" sortable=\"date\" (sort)=\"onSort($event)\">Fecha</th>\r\n                        <th scope=\"col\" sortable=\"name\" (sort)=\"onSort($event)\">Usuario</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr *ngFor=\"let data of this.reporteCaja.ingresos\">\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.monto|currency:'S/.'\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.metodo_pago.toUpperCase()\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.descripcion.toUpperCase()\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.fecha_creacion_caja| date: 'dd/MM/yyyy'\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.nombre_encargado.toUpperCase()\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  <!-- End table -->\r\n                  <div class=\"row justify-content-md-between align-items-md-center\">\r\n                    <!-- <div class=\"col-sm-12 col-md-5\">\r\n                      <div class=\"dataTables_info mb-2\" id=\"tickets-table_info\" role=\"status\" aria-live=\"polite\">Page 2 of 84</div>\r\n                    </div> -->\r\n                    <!-- Pagination -->\r\n                    <!-- <div class=\"col-12\">\r\n                      <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                        <ngb-pagination [collectionSize]=\"total$ | async\" [(page)]=\"service.page\" [pageSize]=\"service.pageSize\" [maxSize]=\"5\" [rotate]=\"true\" [boundaryLinks]=\"true\">\r\n                        </ngb-pagination>\r\n                      </div>\r\n                    </div> -->\r\n                    <!-- End Pagination -->\r\n                  </div>\r\n                </form>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"row mb-3\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-6\">\r\n                <h6>Egresos Fsico: {{this.reporteCaja.egresos_fisicos |currency:'S/ '}}</h6>\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <h6>Egresos Virtual: {{this.reporteCaja.egresos_virtuales |currency:'S/ '}}</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive mb-4\">\r\n                <form>\r\n                  <table class=\"table table-centered table-nowrap mb-0 align-middle table-card-list\" style=\"border-spacing: 0 12px; width: 100%;\">\r\n                    <thead class=\"table-light\">\r\n                      <tr class=\"bg-transparent\">\r\n                        <th scope=\"col\" sortable=\"amount\" (sort)=\"onSortE($event)\">Monto</th>\r\n                        <th scope=\"col\" sortable=\"type\" (sort)=\"onSort($event)\">Mtodo</th>\r\n                        <th scope=\"col\" sortable=\"description\" (sort)=\"onSortE($event)\">Descripcin</th>\r\n                        <th scope=\"col\" sortable=\"date\" (sort)=\"onSortE($event)\">Fecha</th>\r\n                        <th scope=\"col\" sortable=\"name\" (sort)=\"onSortE($event)\">Usuario</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr *ngFor=\"let data of this.reporteCaja.egresos \">\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.monto|currency:'S/.'\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.metodo_pago.toUpperCase()\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.descripcion.toUpperCase()\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.fecha_creacion_caja| date: 'dd/MM/yyyy'\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"data.nombre_encargado.toUpperCase()\" [term]=\"\"></ngb-highlight>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  <!-- End table -->\r\n                  <div class=\"row justify-content-md-between align-items-md-center\">\r\n                    <!-- <div class=\"col-sm-12 col-md-5\">\r\n                      <div class=\"dataTables_info mb-2\" id=\"tickets-table_info\" role=\"status\" aria-live=\"polite\">Page 2 of 84</div>\r\n                    </div> -->\r\n                    <!-- Pagination -->\r\n                    <!-- <div class=\"col-12\">\r\n                      <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                        <ngb-pagination [collectionSize]=\"totalE$ | async\" [(page)]=\"service.page\" [pageSize]=\"service.pageSize\" [maxSize]=\"5\" [rotate]=\"true\" [boundaryLinks]=\"true\">\r\n                        </ngb-pagination>\r\n                      </div>\r\n                    </div> -->\r\n                    <!-- End Pagination -->\r\n                  </div>\r\n                </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeEventModalGeneral()\">Cerrar</button>\r\n        <!-- <button type=\"button\" class=\"btn btn-primary\">Save changes</button> -->\r\n      </div>\r\n    </ng-template>\r\n\r\n  </div>","import { Injectable, PipeTransform } from '@angular/core';\r\n\r\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\r\n\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { debounceTime, delay, groupBy, map, mergeMap, reduce, switchMap, tap, toArray } from 'rxjs/operators';\r\nimport { SortColumn, SortDirection } from './sortable.directive';\r\nimport { CajaService } from 'src/app/services/caja.service';\r\nimport { CajaModel } from 'src/models/caja';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\ninterface SearchResult {\r\n  transactions: any;\r\n  total: number;\r\n}\r\n\r\ninterface State {\r\n  page: number;\r\n  pageSize: number;\r\n  searchTerm: string;\r\n  sortColumn: SortColumn;\r\n  sortDirection: SortDirection;\r\n}\r\n\r\nconst compare = (v1: string | number | boolean |Date, v2: string | number | boolean |Date) => v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n\r\nfunction sort(transactions: any, column: SortColumn, direction: string): any[] {\r\n  if (direction === '' || column === '') {\r\n    return transactions;\r\n  } else {\r\n    return [...transactions].sort((a, b) => {\r\n      const res = compare(a[column], b[column]);\r\n      return direction === 'asc' ? res : -res;\r\n    });\r\n  }\r\n}\r\n\r\nfunction matches(transaction: any, term: string, pipe: PipeTransform) {\r\n  return transaction.date.toLowerCase().includes(term)\r\n    //|| String(transaction.fecha_creacion_caja).toLowerCase().includes(term.toLowerCase())\r\n    //|| String(transaction.monto).toLowerCase().includes(term)\r\n    //|| transaction.metodo_pago.toLowerCase().includes(term)\r\n    //|| transaction.status.toLowerCase().includes(term)\r\n    //|| pipe.transform(transaction.index).includes(term);\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class TransactionService {\r\n  private _loading$ = new BehaviorSubject<boolean>(true);\r\n  private _search$ = new Subject<void>();\r\n  private _transactions$ = new BehaviorSubject<any>([]);\r\n  private _total$ = new BehaviorSubject<number>(0);\r\n  cajaList:any;\r\n  private _state: State = {\r\n    page: 1,\r\n    pageSize: 10,\r\n    searchTerm: '',\r\n    sortColumn: '',\r\n    sortDirection: ''\r\n  };\r\n  \r\n\r\n  constructor(\r\n    private pipe: DecimalPipe,\r\n    private cajaService: CajaService,\r\n    private usuarioService: UsuarioService\r\n  ) {\r\n    let fIni: Date = new Date();\r\n    let firstDay = new Date(fIni.getFullYear(), fIni.getMonth(), 1);\r\n    let lastDay = new Date(fIni.getFullYear(), fIni.getMonth() + 1, 0);\r\n    firstDay.setHours(0, 0, 1);\r\n    lastDay.setHours(23, 59, 0);\r\n    this.getListIngresosEgresos(firstDay,lastDay);\r\n  }\r\n  updateTable (data) {\r\n    this.cajaList = data\r\n        this._search$.pipe(\r\n          tap(() => this._loading$.next(true)),\r\n          debounceTime(200),\r\n          switchMap(() => this._search()),\r\n          delay(200),\r\n          tap(() => this._loading$.next(false))\r\n        ).subscribe(result => {\r\n          this._transactions$.next(result.transactions);\r\n          this._total$.next(result.total);\r\n        });\r\n    \r\n        this._search$.next();\r\n  }\r\n\r\n  get transactions$() { return this._transactions$.asObservable(); }\r\n  get total$() { return this._total$.asObservable(); }\r\n  get loading$() { return this._loading$.asObservable(); }\r\n  get page() { return this._state.page; }\r\n  get pageSize() { return this._state.pageSize; }\r\n  get searchTerm() { return this._state.searchTerm; }\r\n\r\n  set page(page: number) { this._set({ page }); }\r\n  set pageSize(pageSize: number) { this._set({ pageSize }); }\r\n  set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\r\n  set sortColumn(sortColumn: SortColumn) { this._set({ sortColumn }); }\r\n  set sortDirection(sortDirection: SortDirection) { this._set({ sortDirection }); }\r\n\r\n  private _set(patch: Partial<State>) {\r\n    Object.assign(this._state, patch);\r\n    this._search$.next();\r\n  }\r\n\r\n  private _search(): Observable<SearchResult> {\r\n    const { sortColumn, sortDirection, pageSize, page, searchTerm } = this._state;\r\n\r\n    // 1. sort\r\n    let transactions = sort(this.cajaList, sortColumn, sortDirection);\r\n\r\n    // 2. filter\r\n    transactions = transactions.filter(transaction => matches(transaction, searchTerm, this.pipe));\r\n    const total = transactions.length;\r\n\r\n    // 3. paginate\r\n    transactions = transactions.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);\r\n    return of({ transactions, total });\r\n  }\r\n\r\n  getListIngresosEgresos(fIni:Date,fFin:Date) {\r\n    this.cajaService.getIngresosEgresosbyMonth(fIni,fFin,this.usuarioService.getSedebyUser()).subscribe(res=>{\r\n      /* of(...res).pipe(\r\n        groupBy((p: any) => p.fecha_creacion_caja.split(' ')[0]),\r\n        mergeMap(group$ =>\r\n          group$.pipe(reduce((acc, cur) => [...acc, cur], [`${group$.key}`]))\r\n        ),\r\n        map(arr => ({ date: arr[0], caja: arr.slice(1) })),\r\n        toArray()\r\n      ).subscribe(p => {\r\n        this.cajaList = p;\r\n        //this.updateTable(this.cajaList)\r\n      }); */\r\n      const groups = res.reduce((groups, game) => {\r\n        const date = game.fecha_creacion_caja.split(' ')[0];\r\n        if (!groups[date]) {\r\n          groups[date] = [];\r\n        }\r\n        groups[date].push(game);\r\n        return groups;\r\n      }, {}); \r\n      \r\n      // Edit: to add it in the array format instead\r\n       const groupArrays = Object.keys(groups).map((date) => {\r\n        return {\r\n          date,\r\n          caja: groups[date],\r\n        };\r\n      }); \r\n      \r\n      groupArrays.forEach(element => {\r\n        const ingreso ={\r\n          ingreso_total: 0,\r\n          egreso_total:0\r\n        }\r\n        element.caja.forEach(element => {\r\n          if (element.egreso) {\r\n             ingreso.egreso_total +=element.monto\r\n          } else {\r\n            ingreso.ingreso_total +=element.monto\r\n          }\r\n        });\r\n\r\n\r\n        Object.assign(element,ingreso)\r\n      });\r\n      this.cajaList = groupArrays\r\n\r\n        this._search$.pipe(\r\n          tap(() => this._loading$.next(true)),\r\n          debounceTime(200),\r\n          switchMap(() => this._search()),\r\n          delay(200),\r\n          tap(() => this._loading$.next(false))\r\n        ).subscribe(result => {\r\n          this._transactions$.next(result.transactions);\r\n          this._total$.next(result.total);\r\n        });\r\n    \r\n        this._search$.next();\r\n       })\r\n  }\r\n}","import { Directive, EventEmitter, Input, Output } from '@angular/core';\r\nimport { CajaModel } from 'src/models/caja';\r\n\r\nexport type SortColumn = keyof any | '';\r\nexport type SortDirection = 'asc' | 'desc' | '';\r\nconst rotate: { [key: string]: SortDirection } = { 'asc': 'desc', 'desc': '', '': 'asc' };\r\n\r\nexport interface SortEvent {\r\n  column: SortColumn;\r\n  direction: SortDirection;\r\n}\r\n\r\n@Directive({\r\n  selector: 'th[sortable]',\r\n  host: {\r\n    '[class.asc]': 'direction === \"asc\"',\r\n    '[class.desc]': 'direction === \"desc\"',\r\n    '(click)': 'rotate()'\r\n  }\r\n})\r\nexport class NgbdSortableHeader {\r\n\r\n  @Input() sortable: SortColumn = '';\r\n  @Input() direction: SortDirection = '';\r\n  @Output() sort = new EventEmitter<SortEvent>();\r\n\r\n  rotate() {\r\n    this.direction = rotate[this.direction];\r\n    this.sort.emit({ column: this.sortable, direction: this.direction });\r\n  }\r\n}","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { CajaModel } from 'src/models/caja';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CajaService {\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  getIngresos(): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllIngresos');\r\n  }\r\n  getIngresosbyDate(fIni:Date,fFin:Date,idSede:string): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllIngresosByDate/'+fIni +'/'+fFin+'/'+idSede);\r\n  }\r\n  getEgresosbyDate(fIni:Date,fFin:Date,idSede:string): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllEgresosByDate/'+fIni +'/'+fFin+'/'+idSede);\r\n  }\r\n\r\n  getIngresosEgresosbyMonth(fIni:Date,fFin:Date,idSede:string): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllCajaPerMonths/'+fIni +'/'+fFin+'/'+idSede);\r\n  }\r\n\r\n  getEgresos(): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllEgresos');\r\n  }\r\n  createIngresoEgreso(caja:CajaModel): Observable<any> {\r\n    return this.http.post<any>(environment.urlBackend+'createNewIngreso', caja);\r\n  }\r\n\r\n  deleteIngresoEgreso(caja: CajaModel): Observable<any> {\r\n    return this.http.put<any>(environment.urlBackend+'unsubscribeEgresoById/'+ caja.id_caja, caja);\r\n  }\r\n}\r\n","export class CajaModel {\r\n    id_caja?: string;\r\n    fecha_creacion_caja: Date;\r\n    id_encargado: string;\r\n    nombre_encargado: string;\r\n    descripcion: string;\r\n    egreso: boolean;\r\n    habilitado: boolean;\r\n    monto: number;\r\n    id_sede: string;\r\n    tipo: string;\r\n    metodo_pago: string;\r\n}","export class ReporteModel {\r\n    fechaCaja:string;\r\n    ingresos:any;\r\n    egresos:any;\r\n    ingreso_total:number;\r\n    egreso_total:number;\r\n    ingresos_fisicos:number = 0;\r\n    ingresos_virtuales:number = 0;\r\n    egresos_fisicos:number = 0;\r\n    egresos_virtuales:number = 0\r\n}"],"names":[],"sourceRoot":"webpack:///"}