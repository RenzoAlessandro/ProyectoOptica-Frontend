{"version":3,"file":"src_app_pages_sale_sale_module_ts.js","mappings":"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","sources":["./node_modules/flatpickr/dist/l10n/es.js","./src/app/pages/sale/add-sale/add-sale.component.ts","./src/app/pages/sale/add-sale/add-sale.component.html","./src/app/pages/sale/add-sale/sortable.directive.ts","./src/app/pages/sale/deleted-sales/deleted-sales.component.ts","./src/app/pages/sale/deleted-sales/deleted-sales.component.html","./src/app/pages/sale/list-sales/list-sales.component.ts","./src/app/pages/sale/list-sales/list-sales.component.html","./src/app/pages/sale/list-sales/sale.service.ts","./src/app/pages/sale/list-sales/sortable.directive.ts","./src/app/pages/sale/sale-routing.module.ts","./src/app/pages/sale/sale.module.ts","./src/app/services/venta.service.ts","./src/models/tipo_venta.ts","./src/models/venta.ts"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.es = {}));\n}(this, (function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {},\n      };\n  var Spanish = {\n      weekdays: {\n          shorthand: [\"Dom\", \"Lun\", \"Mar\", \"Mi\", \"Jue\", \"Vie\", \"Sb\"],\n          longhand: [\n              \"Domingo\",\n              \"Lunes\",\n              \"Martes\",\n              \"Mircoles\",\n              \"Jueves\",\n              \"Viernes\",\n              \"Sbado\",\n          ],\n      },\n      months: {\n          shorthand: [\n              \"Ene\",\n              \"Feb\",\n              \"Mar\",\n              \"Abr\",\n              \"May\",\n              \"Jun\",\n              \"Jul\",\n              \"Ago\",\n              \"Sep\",\n              \"Oct\",\n              \"Nov\",\n              \"Dic\",\n          ],\n          longhand: [\n              \"Enero\",\n              \"Febrero\",\n              \"Marzo\",\n              \"Abril\",\n              \"Mayo\",\n              \"Junio\",\n              \"Julio\",\n              \"Agosto\",\n              \"Septiembre\",\n              \"Octubre\",\n              \"Noviembre\",\n              \"Diciembre\",\n          ],\n      },\n      ordinal: function () {\n          return \"\";\n      },\n      firstDayOfWeek: 1,\n      rangeSeparator: \" a \",\n      time_24hr: true,\n  };\n  fp.l10ns.es = Spanish;\n  var es = fp.l10ns;\n\n  exports.Spanish = Spanish;\n  exports.default = es;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import { Component, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\n\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { Observable } from 'rxjs';\r\nimport { NgbModal, NgbNavChangeEvent } from '@ng-bootstrap/ng-bootstrap'\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { NgbdSortableHeader, SortEvent } from './sortable.directive';\r\nimport { ProductosService } from 'src/app/services/productos.service';\r\nimport { VentasModel } from 'src/models/venta';\r\nimport { TipoVentaModel } from 'src/models/tipo_venta';\r\n\r\nimport { Options } from 'ng5-slider';\r\nimport { ClienteService } from 'src/app/services/cliente.service';\r\n\r\nimport Swal from 'sweetalert2';\r\nimport { Sweetalert } from 'src/utils/sweetalert';\r\n\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n\r\nimport { getBase64ImageFromURL, round } from 'src/utils/functions';\r\nimport { SedesModel } from 'src/models/sedes';\r\nimport { MonturasModel } from 'src/models/monturas';\r\nimport { LunasModel } from 'src/models/lunas';\r\nimport { AccesorioModel } from 'src/models/accesorio';\r\nimport { VentaService } from 'src/app/services/venta.service';\r\n\r\n@Component({\r\n  selector: 'app-add-sale',\r\n  templateUrl: './add-sale.component.html',\r\n  styleUrls: ['./add-sale.component.scss'],\r\n  providers: [DecimalPipe]\r\n})\r\nexport class AddSaleComponent implements OnInit {\r\n\r\n  role = 'Admin'\r\n  formSedes: FormGroup;\r\n  listSedes: Array<SedesModel>;\r\n  nombre_sedes: string = \"campoSede\";\r\n  idSede:string = \"\";\r\n\r\n  searchtext:any;\r\n  currentPage=1;\r\n  pageSize = 10;\r\n\r\n  formContado: FormGroup;\r\n  submitted_Contado = false;\r\n  cantidadRecibida_Contado: string = \"campoCantidadRecibidaContado\";\r\n  fechaVenta_Contado: string = \"campoFechaVentaContado\";\r\n  usuario_Contado: string = \"campoUsuarioContado\";\r\n  nombreContado: string = \"campoNombreContado\";\r\n  precioTotal_Contado: string = \"campoPrecioTotalContado\";\r\n  pago_Contado: string = \"campoPagoContado\";\r\n  cambio_Contado: string = \"campoCambioContado\";\r\n  observaciones_Contado: string = \"campoObservacionesContado\";\r\n  vendedor_Contado: string = \"campoVendedorContado\";\r\n  metodoPagoContado: string = \"campoMetodoPagoContado\";\r\n\r\n  formCredito: FormGroup;\r\n  cantidadRecibida_Credito: string = \"campoCantidadRecibidaCredito\";\r\n  fechaVenta_Credito: string = \"campoFechaVentaCredito\";\r\n  usuario_Credito: string = \"campoUsuarioCredito\";\r\n  nombreCredito: string = \"campoNombreCredito\";\r\n  precioTotal_Credito: string = \"campoPrecioTotalCredito\";\r\n  pago_Credito: string = \"campoPagoCredito\";\r\n  cambio_Credito: string = \"campoCambioCredito\";\r\n  observaciones_Credito: string = \"campoObservacionesCredito\";\r\n  vendedor_Credito: string = \"campoVendedorCredito\";\r\n  metodoPagoCredito: string = \"campoMetodoPagoCredito\";\r\n\r\n  formEditarPrecio: FormGroup;\r\n  submitted_EditarPrecio = false;\r\n  precioOriginal_Editar: string = \"campoPrecioOriginalEditar\";\r\n  nuevoPrecio_Editar: string = \"campoNuevoPrecioEditar\";\r\n\r\n\r\n  // modal\r\n  editEvent: any;\r\n\r\n  // bread crumb items\r\n  breadCrumbItems: Array<{}>;\r\n  term: any;\r\n\r\n  total$: Observable<number>;\r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n  @ViewChild('autocomplete') autocomplete;\r\n  listAllProducts: Array<any> = [];\r\n  active = 1;\r\n  keyword = \"id_producto\";\r\n  keywordCliente = \"nombres_apellidos\";\r\n  products: any = [];\r\n  precioTotalVenta: number;\r\n\r\n  venta = new VentasModel;\r\n  tipoPago = new TipoVentaModel;\r\n\r\n  activePago = 1;\r\n  selectorPago: string = \"contado\";\r\n  listMetodosPagos = ['Fsico', 'Yape', 'Plin', 'Interbancario'];\r\n  listClients: any = [];\r\n\r\n  btnGuardar = false;\r\n  lettersPattern = '[a-zA-Z ]*'; // Incluimos  y tildes en cada vocal\r\n  numberPattern = '(^[0-9])+([.][0-9]{1,2})?$';\r\n  decimalPattern = /^\\d+(\\.\\d{1,2})?$/;\r\n  fechaVenta: Date;\r\n  customer: any;\r\n  tmpProducto: any;\r\n  listMonturasforSale: Array<MonturasModel>;\r\n  listLunasforSale: Array<LunasModel>;\r\n  listAccesoriosforSale: Array<AccesorioModel>;\r\n\r\n  productoC: string = \"campoProductoC\";\r\n  listProductos = [\r\n    {\r\n      id: 1, nombre: \"Monturas\",\r\n    },\r\n    {\r\n      id: 2, nombre: \"Lunas\",\r\n    },\r\n    {\r\n      id: 3, nombre: \"Accesorios\",\r\n    },\r\n  ];\r\n  sedeActual = new SedesModel;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private modalService: NgbModal,\r\n    private productosService: ProductosService,\r\n    private customerService: ClienteService,\r\n    private usuarioService: UsuarioService,\r\n    private ventaService: VentaService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.breadCrumbItems = [{ label: 'Venta' }, { label: 'Realizar Venta', active: true }];\r\n    this.getListSedes();\r\n    this.getListMonturas(this.usuarioService.getSedebyUser());\r\n    this.crearFormularioEditarPrecio();\r\n  }\r\n\r\n  getListSedes() {\r\n    this.listSedes = JSON.parse(localStorage.getItem('sedes'));\r\n    this.idSede = this.usuarioService.getSedebyUser();\r\n    this.sedeActual = this.getSedeActual(this.idSede,this.listSedes);\r\n  }\r\n\r\n  getSedeActual (idSede:string, sedes:any): SedesModel {\r\n    let sedeActual = sedes.find(sede => sede.id_sede === idSede);\r\n    return sedeActual;\r\n  }\r\n  \r\n  crearFormularioEditarPrecio() {\r\n    this.formEditarPrecio = this.fb.group({\r\n      [this.precioOriginal_Editar]: [{ value: \"S/ 000.00\", disabled: true }],\r\n      [this.nuevoPrecio_Editar]: [null, [\r\n        Validators.required,\r\n        Validators.pattern(this.decimalPattern),\r\n      ]],\r\n    });\r\n    this.formSedes = this.fb.group({\r\n      [this.nombre_sedes]: [this.idSede]\r\n    })\r\n  }\r\n\r\n  fS(campo: string) {\r\n    return this.formSedes.get(campo);\r\n  }\r\n\r\n  changeSede() {\r\n    this.idSede = this.fS(this.nombre_sedes).value;\r\n    this.updateProductosbySede(this.idSede);\r\n    this.sedeActual = this.getSedeActual(this.idSede,this.listSedes);\r\n  }\r\n\r\n  updateProductosbySede(idSede:string) {\r\n    this.listAllProducts = [];\r\n    this.products = [];\r\n    this.listMonturasforSale = [];\r\n    this.listLunasforSale = [];\r\n    this.listAccesoriosforSale = [];\r\n    this.getListMonturas(idSede);\r\n  }\r\n\r\n  fE(campo: string) {\r\n    return this.formEditarPrecio.get(campo);\r\n  }\r\n\r\n  crearFormulario() {\r\n    this.formContado = this.fb.group({\r\n      [this.cantidadRecibida_Contado]: [null, [\r\n        Validators.required,\r\n        Validators.pattern(this.decimalPattern),\r\n      ]],\r\n      [this.fechaVenta_Contado]: [{ value: null, disabled: true }],\r\n      [this.usuario_Contado]: [null],\r\n\r\n      [this.precioTotal_Contado]: [{ value: null, disabled: true }],\r\n      [this.pago_Contado]: [{ value: null, disabled: true }],\r\n      [this.cambio_Contado]: [{ value: null, disabled: true }],\r\n      [this.observaciones_Contado]: [null],\r\n      [this.vendedor_Contado]: [null, [\r\n        Validators.required,\r\n        Validators.pattern(this.lettersPattern),\r\n      ]],\r\n      [this.metodoPagoContado]: [null, [\r\n        Validators.required\r\n      ]],\r\n      [this.nombreContado]: [null, [\r\n        Validators.required\r\n      ]]\r\n    })\r\n\r\n    this.formCredito = this.fb.group({\r\n      [this.cantidadRecibida_Credito]: [null, [\r\n        Validators.required,\r\n        Validators.pattern(this.decimalPattern),\r\n      ]],\r\n      [this.fechaVenta_Credito]: [{ value: null, disabled: true }],\r\n      [this.usuario_Credito]: [null],\r\n      [this.precioTotal_Credito]: [{ value: null, disabled: true }],\r\n      [this.pago_Credito]: [{ value: null, disabled: true }],\r\n      [this.cambio_Credito]: [{ value: null, disabled: true }],\r\n      [this.observaciones_Credito]: [null],\r\n      [this.vendedor_Credito]: [null, [\r\n        Validators.required,\r\n        Validators.pattern(this.lettersPattern),\r\n      ]],\r\n      [this.metodoPagoCredito]: [null, [\r\n        Validators.required\r\n      ]],\r\n      [this.nombreCredito]: [null, [\r\n        Validators.required]],\r\n    })\r\n  }\r\n\r\n    /**\r\n   * Returns form contado\r\n   */\r\n    get formVContado() {\r\n      return this.formContado.controls;\r\n    }\r\n\r\n        /**\r\n   * Returns form contado\r\n   */\r\n    get formVCredito() {\r\n      return this.formCredito.controls;\r\n    }\r\n\r\n  onSort({ column, direction }: SortEvent) {\r\n    // resetting other headers\r\n    this.headers.forEach(header => {\r\n      if (header.sortable !== column) {\r\n        header.direction = '';\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Open center modal\r\n   * @param centerDataModal center modal data\r\n   */\r\n  centerModal(centerDataModal: any, products: any) {\r\n    this.crearFormulario();\r\n    this.getListClients();\r\n    this.fechaVenta = new Date(Date.now());\r\n    this.modalService.open(centerDataModal, { centered: true, windowClass: 'modal-holder' });\r\n    this.f(this.fechaVenta_Contado).setValue(this.fechaVenta.toLocaleDateString());\r\n    this.f(this.precioTotal_Contado).setValue(this.precioTotalVenta.toFixed(2));\r\n    this.g(this.fechaVenta_Credito).setValue(this.fechaVenta.toLocaleDateString());\r\n    this.g(this.precioTotal_Credito).setValue(this.precioTotalVenta.toFixed(2));\r\n\r\n  }\r\n  /**\r\n   * Open scroll modal\r\n   * @param scrollDataModal scroll modal data\r\n   */\r\n  scrollModal(scrollDataModal: any) {\r\n    this.modalService.open(scrollDataModal, { size: 'xl', scrollable: true });\r\n  }\r\n  /**\r\n   * Open small modal\r\n   * @param DataModalEditarPrecio small modal data\r\n   */\r\n  centerModalEditarPrecio(DataModalEditarPrecio: any, data: any) {\r\n    this.formEditarPrecio.reset();\r\n    this.tmpProducto = data;\r\n    switch (data.tipo) {\r\n      case 'montura':\r\n        this.fE(this.precioOriginal_Editar).setValue(data.precio_montura_v);\r\n        break;\r\n      case 'accesorio':\r\n        this.fE(this.precioOriginal_Editar).setValue(data.precio_accesorio_v);\r\n        break;\r\n      case 'luna':\r\n        this.fE(this.precioOriginal_Editar).setValue(data.precio_luna_v);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.modalService.open(DataModalEditarPrecio, { scrollable: true, size: 'md', windowClass: 'modal-holder', centered: true });\r\n  }\r\n\r\n  /**\r\n   * Funcion para actualizar el precio unitario segn conveniencia\r\n   * \r\n   */\r\n  actualizarPrecio() {\r\n    let tmpPrecio = Number(this.fE(this.nuevoPrecio_Editar).value);\r\n    switch (this.tmpProducto.tipo) {\r\n      case 'montura':\r\n        this.products.forEach(el => {\r\n          if (el.id_producto == this.tmpProducto.id_producto) {\r\n            el.precio_montura_v = isNaN(tmpPrecio) ? 0 : tmpPrecio;\r\n            el.precio = el.precio_montura_v * el.cant_vendida;\r\n          }\r\n        });\r\n        break;\r\n      case 'accesorio':\r\n        this.products.forEach(el => {\r\n          if (el.id_producto == this.tmpProducto.id_producto) {\r\n            el.precio_accesorio_v = isNaN(tmpPrecio) ? 0 : tmpPrecio;\r\n            el.precio = el.precio_accesorio_v * el.cant_vendida;\r\n          }\r\n        });\r\n        break;\r\n      case 'luna':\r\n        this.products.forEach(el => {\r\n          if (el.id_producto == this.tmpProducto.id_producto) {\r\n            el.precio_luna_v = isNaN(tmpPrecio) ? 0 : tmpPrecio;\r\n            el.precio = el.precio_luna_v * el.cant_vendida;\r\n          }\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.modalService.dismissAll();\r\n  }\r\n\r\n  /**\r\n   * Delete event\r\n   */\r\n  deleteEventData() {\r\n    this.editEvent.remove();\r\n    this.modalService.dismissAll();\r\n  }\r\n\r\n  /**\r\n   * Close event modal\r\n   */\r\n  closeEventModal() {\r\n    /* this.formContado = this.fb.group({\r\n      title: '',\r\n      category: '',\r\n    }); */\r\n    this.modalService.dismissAll();\r\n  }\r\n\r\n  /**\r\n   * Save the event\r\n   */\r\n  saveEvent() {\r\n    if (this.formContado.valid) {\r\n\r\n    }\r\n    this.submitted_Contado = true;\r\n  }\r\n\r\n\r\n  tickValue = 2;\r\n  tickValueoptions: Options = {\r\n    showTicksValues: true,\r\n    stepsArray: [\r\n      { value: 2, legend: 'Mnimo' },\r\n      { value: 3 },\r\n      { value: 4 },\r\n      { value: 5, legend: 'Mximo' }\r\n    ]\r\n  };\r\n  getListMonturas(idSede:string) {\r\n    Sweetalert(\"loading\", \"Cargando...\");\r\n    this.productosService.getMonturasforSale(idSede).subscribe(res => {\r\n      this.listAllProducts = res;\r\n      this.listMonturasforSale = res;\r\n      this.getListAccesorios(idSede)\r\n    });\r\n  }\r\n\r\n  getListAccesorios(idSede:string) {\r\n    this.productosService.getAccesoriosforSale(idSede).subscribe(res => {\r\n      this.listAllProducts = [...res, ...this.listAllProducts];\r\n      this.listAccesoriosforSale = res;\r\n      this.getListLunas(idSede)\r\n    });\r\n  }\r\n\r\n  getListLunas(idSede:string) {\r\n    this.productosService.getLunasforSale(idSede).subscribe(res => {\r\n      this.listAllProducts = [...res, ...this.listAllProducts];\r\n      this.listLunasforSale = res;\r\n      Sweetalert(\"close\", null);\r\n    });\r\n  }\r\n\r\n  getListClients() {\r\n    this.customerService.getAllClientsforSale().subscribe(res => {\r\n      this.listClients = res;\r\n      this.listClients.forEach(element => {\r\n        element.nombres_apellidos = element.apellidos + ' ' + element.nombres;\r\n      });\r\n    })\r\n  }\r\n\r\n  selectorMetodoPago(changeEvent: NgbNavChangeEvent) {\r\n    if (changeEvent.nextId == 1) {\r\n      this.selectorPago = \"contado\";\r\n    } else {\r\n      this.selectorPago = \"credito\";\r\n    }\r\n  }\r\n  selectEvent(item: any) {\r\n    const productExistInCart = this.products.find((name) => name.id_producto === item.id_producto);\r\n    if (!productExistInCart) {\r\n      switch (item.tipo) {\r\n        case 'montura':\r\n          this.products.push({ ...item, cant_vendida: 1, precio: item.precio_montura_v });\r\n          this.autocomplete.clear();\r\n          this.autocomplete.close();\r\n          break;\r\n        case 'luna':\r\n          this.products.push({ ...item, cant_vendida: 1, precio: item.precio_luna_v });\r\n          this.autocomplete.clear();\r\n          this.autocomplete.close();\r\n          break;\r\n        case 'accesorio':\r\n          this.products.push({ ...item, cant_vendida: 1, precio: item.precio_accesorio_v });\r\n          this.autocomplete.clear();\r\n          this.autocomplete.close();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      this.estadoBotonGuardar();\r\n\r\n    } else {\r\n      if (productExistInCart.cant_vendida + 1 > productExistInCart.cantidad) {\r\n        Sweetalert(\"error\", \"No se puede agregar ms productos del stock\");\r\n        this.autocomplete.clear();\r\n        this.autocomplete.close();\r\n        return;\r\n      } else {\r\n        productExistInCart.cant_vendida += 1;\r\n        this.autocomplete.clear();\r\n        this.autocomplete.close();\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  selectEventCliente(item: any) {\r\n    this.customer = item;\r\n    if (this.selectorPago == \"contado\") {\r\n      this.f(this.usuario_Contado).setValue(item.id_cliente);\r\n    } else {\r\n      this.g(this.usuario_Credito).setValue(item.id_cliente);\r\n    }\r\n    this.venta.nombre_cliente = item.nombres + ' ' + item.apellidos;\r\n  }\r\n  onChangeSearch(search: string) {\r\n    // fetch remote data from here\r\n    // And reassign the 'data' which is binded to 'data' property.\r\n  }\r\n\r\n  onFocused(e) {\r\n    // do something\r\n    this.autocomplete.close();\r\n  }\r\n\r\n  /** Gets the total cost of all products. */\r\n  getTotalCost() {\r\n    this.precioTotalVenta = this.products.map(t => t.precio).reduce((acc, value) => acc + value, 0);\r\n    this.precioTotalVenta = round(this.precioTotalVenta, 1)\r\n    return this.precioTotalVenta;\r\n  }\r\n\r\n  /** actualiza el precio por cantidad */\r\n  addQuantityProduct(product, i) {\r\n    if (this.products[i].cant_vendida + 1 > this.products[i].cantidad) {\r\n      Sweetalert(\"error\", \"No se puede agregar ms productos del stock\");\r\n      return;\r\n    } else {\r\n      this.products[i].cant_vendida += 1;\r\n      switch (this.products[i].tipo) {\r\n        case 'montura':\r\n          this.products[i].precio = this.products[i].precio_montura_v * this.products[i].cant_vendida;\r\n          break;\r\n        case 'luna':\r\n          this.products[i].precio = this.products[i].precio_luna_v * this.products[i].cant_vendida;\r\n          break;\r\n        case 'accesorio':\r\n          this.products[i].precio = this.products[i].precio_accesorio_v * this.products[i].cant_vendida;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  substractQuantityProduct(product, i) {\r\n    this.products[i].cant_vendida -= 1;\r\n    switch (this.products[i].tipo) {\r\n      case 'montura':\r\n        this.products[i].precio = this.products[i].precio_montura_v * this.products[i].cant_vendida;\r\n        break;\r\n      case 'luna':\r\n        this.products[i].precio = this.products[i].precio_luna_v * this.products[i].cant_vendida;\r\n        break;\r\n      case 'accesorio':\r\n        this.products[i].precio = this.products[i].precio_accesorio_v * this.products[i].cant_vendida;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (this.products[i].cant_vendida === 0) {\r\n      this.removeProduct();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remueve elementos de la lista cuando la cantidad es = 0\r\n   */\r\n  removeProduct() {\r\n    this.products = this.products.filter(\r\n      (name) => name.cant_vendida !== 0\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Remueve productos del carrito de compras\r\n   */\r\n  removeCartProduct(product, i) {\r\n    this.products[i].cant_vendida = 0;\r\n    this.removeProduct();\r\n    this.estadoBotonGuardar();\r\n  }\r\n\r\n  /**\r\n   * Cambia el estado del boton guardar\r\n   */\r\n  estadoBotonGuardar() {\r\n    if (this.products.length == 0) {\r\n      this.btnGuardar = false;\r\n    } else {\r\n      this.btnGuardar = true;\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  /**\r\n * Returns form Cliente\r\n */\r\n  get formEP() {\r\n    return this.formEditarPrecio.controls;\r\n  }\r\n\r\n  f(campo: any) {\r\n    return this.formContado.get(campo);\r\n  }\r\n\r\n  g(campo: any) {\r\n    return this.formCredito.get(campo);\r\n  }\r\n\r\n  updatePago(event: any) {\r\n    if (this.selectorPago == \"contado\") {\r\n      this.f(this.pago_Contado).setValue(this.f(this.cantidadRecibida_Contado).value);\r\n      this.f(this.cambio_Contado).setValue((this.f(this.cantidadRecibida_Contado).value - this.precioTotalVenta).toFixed(2));\r\n    } else {\r\n      const deuda = Number((this.g(this.cantidadRecibida_Credito).value - this.precioTotalVenta).toFixed(2))\r\n      this.g(this.pago_Credito).setValue(this.g(this.cantidadRecibida_Credito).value);\r\n      this.g(this.cambio_Credito).setValue(Math.abs(deuda));\r\n    }\r\n\r\n  }\r\n\r\n  guardarVenta() {\r\n    if (this.formContado.valid || this.formCredito.valid) {\r\n\r\n      const tempMonturas = this.products.filter(monturas => monturas.tipo == 'montura');\r\n      const tempLunas = this.products.filter(lunas => lunas.tipo == 'luna');\r\n      const tempAccesorios = this.products.filter(accesorios => accesorios.tipo == 'accesorio');\r\n      this.venta.list_monturas = tempMonturas;\r\n      this.venta.list_lunas = tempLunas;\r\n      this.venta.list_accesorios = tempAccesorios;\r\n      this.venta.fecha_creacion_venta = new Date(Date.now());\r\n      if (this.selectorPago == \"contado\") {\r\n        this.venta.nombre_jalador = this.f(this.vendedor_Contado).value;\r\n        this.tipoPago.observaciones = this.f(this.observaciones_Contado).value;\r\n        this.tipoPago.cantidad_recibida = Number(this.f(this.cantidadRecibida_Contado).value);\r\n        if (this.f(this.cantidadRecibida_Contado).value - this.precioTotalVenta < 0) {\r\n          Sweetalert(\"error\", \"El pago no puede ser menor al valor de la compra, se sugiere compra al crdito\");\r\n          return\r\n        } else {\r\n          this.tipoPago.deuda = 0;\r\n          this.tipoPago.metodo_pago = this.f(this.metodoPagoContado).value;\r\n          this.tipoPago.cuotas = String(0);\r\n          let idClienteContado = this.listClients.find(cliente=>(cliente.id_cliente == (this.f(this.nombreContado).value).id_cliente));\r\n          if (idClienteContado != undefined) {\r\n            this.venta.id_cliente = (this.f(this.nombreContado).value).id_cliente;\r\n            this.venta.encargado_medicion = (this.f(this.nombreContado).value).medidas[0].encargado;\r\n            this.venta.medidas = idClienteContado.medidas;\r\n          } else {\r\n            this.f(this.nombreContado).setValue(null);\r\n            return;\r\n          }\r\n        }\r\n      } else {\r\n        if (this.precioTotalVenta - this.g(this.cantidadRecibida_Credito).value < 0) {\r\n          Sweetalert(\"error\", \"El pago no puede ser mayor al valor de la compra, se sugiere compra al contado\");\r\n          return\r\n        } else {\r\n          this.venta.nombre_jalador = this.g(this.vendedor_Credito).value;\r\n          this.tipoPago.observaciones = this.g(this.observaciones_Credito).value;\r\n          this.tipoPago.cantidad_recibida = Number(this.g(this.cantidadRecibida_Credito).value);\r\n          this.tipoPago.deuda = round(this.precioTotalVenta - this.g(this.cantidadRecibida_Credito).value, 1);\r\n          this.tipoPago.metodo_pago = this.g(this.metodoPagoCredito).value;\r\n          this.tipoPago.cuotas = String(this.tickValue);\r\n          let idClienteCredito = this.listClients.find(cliente=>(cliente.id_cliente == (this.g(this.nombreCredito).value).id_cliente));\r\n          \r\n          if (idClienteCredito != undefined) {\r\n            this.venta.id_cliente = (this.g(this.nombreCredito).value).id_cliente;\r\n            this.venta.encargado_medicion = (this.g(this.nombreCredito).value).medidas[0].encargado;\r\n            this.venta.medidas = idClienteCredito.medidas;\r\n          } else {\r\n            this.g(this.nombreCredito).setValue(null);\r\n            return;\r\n          }\r\n        }\r\n\r\n      }\r\n      this.venta.id_vendedor = this.usuarioService.getUser().id_usuario;\r\n      this.venta.nombre_vendedor = this.usuarioService.getUser().nombres + ' ' + this.usuarioService.getUser().apellidos;\r\n      this.tipoPago.forma_pago = this.selectorPago;\r\n      this.tipoPago.precio_total = this.precioTotalVenta;\r\n      this.tipoPago.fecha_pago = new Date();\r\n      this.venta.tipo_venta.push(this.tipoPago);\r\n      this.venta.id_sede = this.idSede;\r\n      this.venta.habilitado = true;\r\n      this.cancel();\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    const swalWithBootstrapButtons = Swal.mixin({\r\n      customClass: {\r\n        cancelButton: 'btn btn-danger ms-2',\r\n        confirmButton: 'btn btn-success',\r\n      },\r\n      buttonsStyling: false\r\n    });\r\n\r\n    swalWithBootstrapButtons\r\n      .fire({\r\n        title: 'Est seguro de realizar la venta?',\r\n        text: 'No se podr revertir esto!',\r\n        icon: 'warning',\r\n        cancelButtonText: 'No, cancelar!',\r\n        confirmButtonText: 'Si, vender!',\r\n        showCancelButton: true,\r\n      })\r\n      .then(result => {\r\n        if (result.value) {\r\n          Sweetalert(\"loading\", \"Cargando...\");\r\n          this.productosService.createVenta(this.venta).subscribe(res => {\r\n            let tmp = Object.assign({},this.customer,this.venta);\r\n            const {direccion: direccionCliente,telefono:telefonoCliente, ...rest} = tmp; \r\n            const updatedObject = { direccionCliente,telefonoCliente, ...rest };\r\n            const objPDF = Object.assign({},updatedObject,this.sedeActual)\r\n            this.ventaService.getPDF(objPDF).subscribe(res => {\r\n              Sweetalert(\"close\", null);\r\n              Sweetalert(\"success\", \"Venta realizada\");\r\n              this.modalService.dismissAll();\r\n              this.products = [];\r\n              this.getListMonturas(this.idSede);\r\n              this.estadoBotonGuardar();\r\n              const byteArray = new Uint8Array(\r\n                atob(res)\r\n                  .split(\"\")\r\n                  .map(char => char.charCodeAt(0))\r\n              );\r\n      \r\n      \r\n              const blob = new Blob([byteArray], {type:'application/pdf'});\r\n              const url = window.URL.createObjectURL(blob);\r\n              const a = document.createElement(\"a\");\r\n              a.style.display = 'none';\r\n              document.body.appendChild(a);\r\n              a.href = url;\r\n              a.download = \"venta\";\r\n              a.click();\r\n            }) \r\n           \r\n          },\r\n             (error) => {\r\n              Sweetalert(\"close\", null);\r\n              if (error.status !== 404) {\r\n\r\n                Sweetalert(\"error\", \"Error en la conexin\");\r\n              }\r\n            }); \r\n        } else if (\r\n\r\n          /* Read more about handling dismissals below */\r\n          result.dismiss === Swal.DismissReason.cancel\r\n        ) {\r\n          this.venta.tipo_venta = [];\r\n          swalWithBootstrapButtons.fire(\r\n            'Cancelado',\r\n            'La venta no se ha realizado',\r\n            'error'\r\n          );\r\n\r\n        }\r\n      });\r\n  }\r\n\r\n  async createPDF(venta: VentasModel, cliente: any) {\r\n\r\n    var fonts = {\r\n      Roboto: {\r\n        normal: 'fonts/Roboto-Regular.ttf',\r\n        bold: 'fonts/Roboto-Medium.ttf',\r\n        italics: 'fonts/Roboto-Italic.ttf',\r\n        bolditalics: 'fonts/Roboto-MediumItalic.ttf'\r\n      },\r\n    };\r\n\r\n    var estadoBoleta = \"Pagado\"\r\n    var fecha_hoy = new Date (venta.fecha_creacion_venta).toLocaleDateString('en-GB');\r\n    var fecha_entrega = new Date(venta.fecha_creacion_venta).toLocaleDateString(\"es-CL\", {\r\n      weekday: \"long\", // narrow, short\r\n      year: \"numeric\", // 2-digit\r\n      month: \"long\", // numeric, 2-digit, narrow, long\r\n      day: \"numeric\" // 2-digit\r\n    });\r\n    var hora_entrega = new Date(venta.fecha_creacion_venta).toLocaleTimeString(\"es-CL\", {\r\n      timeZone: \"America/Bogota\",\r\n      hour12: true, // false\r\n      hour: \"numeric\", // 2-digit\r\n      minute: \"2-digit\", // numeric\r\n      second: \"2-digit\" // numeric\r\n    });\r\n    var simboloNuevoSol = 'S/ ';\r\n    var numeroBoleta = '#MN0131';\r\n\r\n    var direccionEmpresa = 'Calle Santa Marta 218, Arequipa';\r\n    var correoEmpresa = 'raulcg1234@hotmail.com ';\r\n    var felefonoEmpresa = '955 739 464';\r\n\r\n    var nombresCliente = cliente.nombres + ' ' + cliente.apellidos;\r\n    var fnacimientoCliente = cliente.fecha_nacimiento ? new Date(cliente.fecha_nacimiento).toLocaleDateString('en-GB') : \"Sin fecha de nacimiento\";\r\n    //var direccionCliente = 'Calle';\r\n    var correoCliente = cliente.email ? cliente.email : \"Sin correo\";\r\n    var telefonoCliente = cliente.telefono ? cliente.telefono : \"Sin telefono\";\r\n\r\n    var externalDataRetrievedFromServer = [];\r\n    var peruIGV = 0.18;\r\n\r\n    function buildData() {\r\n      var numOrdenItems = 1;\r\n      var totalMonturas, totallunas, totalAccesorios = 0;\r\n      var subTotal = 0;\r\n\r\n      // Monturas\r\n      if (venta.list_monturas.length > 0) {\r\n        for (var i = 0; i < venta.list_monturas.length; i++) {\r\n          numOrdenItems += 1;\r\n          totalMonturas = venta.list_monturas[i].precio_montura_v * venta.list_monturas[i].cant_vendida;\r\n          subTotal += totalMonturas;\r\n          externalDataRetrievedFromServer.push({ num_orden: numOrdenItems, detalle: venta.list_monturas[i].marca, precio: venta.list_monturas[i].precio_montura_v, cantidad: venta.list_monturas[i].cant_vendida, total: totalMonturas },) // Aade\r\n        }\r\n      }\r\n\r\n      // Lunas\r\n      if (venta.list_lunas.length > 0) {\r\n        for (var i = 0; i < venta.list_lunas.length; i++) {\r\n          numOrdenItems += 1;\r\n          totallunas = venta.list_lunas[i].precio_luna_v * venta.list_lunas[i].cant_vendida;\r\n          subTotal += totallunas;\r\n          externalDataRetrievedFromServer.push({ num_orden: numOrdenItems, detalle: venta.list_lunas[i].material, precio: venta.list_lunas[i].precio_luna_v, cantidad: venta.list_lunas[i].cant_vendida, total: totallunas },) // Aade\r\n        }\r\n      }\r\n\r\n      // Accesorios\r\n      if (venta.list_accesorios.length > 0) {\r\n        for (var i = 0; i < venta.list_accesorios.length; i++) {\r\n          numOrdenItems += 1;\r\n          totalAccesorios = venta.list_accesorios[i].precio_accesorio_v * venta.list_accesorios[i].cant_vendida;\r\n          subTotal += totalAccesorios;\r\n          externalDataRetrievedFromServer.push({ num_orden: numOrdenItems, detalle: venta.list_accesorios[i].nombre_accesorio, precio: venta.list_accesorios[i].precio_accesorio_v, cantidad: venta.list_accesorios[i].cant_vendida, total: totalAccesorios },) // Aade\r\n        }\r\n      }\r\n      return subTotal;\r\n    }\r\n\r\n    function buildTableBody(data, columns, subtotal) {\r\n      var body = [];\r\n\r\n      body.push([{ text: 'No.', style: 'tableHeader', alignment: 'center' }, { text: 'Detalle', style: 'tableHeader', alignment: 'center' }, { text: 'Precio', style: 'tableHeader', alignment: 'center' }, { text: 'Cantidad', style: 'tableHeader', alignment: 'center' }, { text: 'Total', style: 'tableHeader', alignment: 'center' }]);\r\n\r\n      data.forEach(function (row) {\r\n        var dataRow = [];\r\n\r\n        columns.forEach(function (column) {\r\n          //dataRow.push({ text: row[column].toString(), style: 'cell', alignment: 'center' },);\r\n          dataRow.push(row[column].toString());\r\n        })\r\n\r\n        body.push(dataRow);\r\n      });\r\n\r\n      /* var totalIGV = round(subtotal * peruIGV, 2);\r\n      var total = round(subtotal + totalIGV, 1); */\r\n\r\n      var total = round(subtotal, 1);\r\n\r\n      /* body.push([{ text: ' ', rowSpan: 3, colSpan: 2}, { }, {text: 'Sub. Total:', style: 'tableHeader', alignment: 'right', colSpan: 2 }, { }, { text: simboloNuevoSol + subtotal, style: 'contenido', alignment: 'right' }]);\r\n      body.push([{ }, { }, { text: 'IGV (18%) :', style: 'tableHeader', alignment: 'right', colSpan: 2}, { }, { text: simboloNuevoSol + totalIGV, style: 'contenido', alignment: 'right' }]); */\r\n      body.push([{ text: '', border: [false, false, false, false], colSpan: 2 }, {}, { text: 'Total:', style: 'tableHeader', alignment: 'right', colSpan: 2 }, {}, { text: simboloNuevoSol + total, style: 'contenido', alignment: 'right' }]);\r\n\r\n      return body;\r\n    }\r\n\r\n    function table(data, columns) {\r\n      var subtotal = buildData();\r\n      return {\r\n        style: 'tableMargin',\r\n        color: '#444',\r\n        table: {\r\n          widths: [25, '*', 63, 60, 63],\r\n          heights: [20, 20, 20, 20],\r\n          headerRows: 1,\r\n          body: buildTableBody(data, columns, subtotal)\r\n        }\r\n      };\r\n    }\r\n\r\n    function estadoBoletaFunc(estado) {\r\n      return {\r\n        text: estado, background: 'yellow'\r\n      };\r\n    }\r\n\r\n\r\n    const pdfDefinition: any = {\r\n      pageSize: 'A4',\r\n      //pageOrientation: 'landscape',\r\n      pageMargins: [40, 60, 40, 60],\r\n      content: [\r\n        {\r\n          style: 'tableMargin',\r\n          table: {\r\n            widths: ['*', '*'],\r\n            body: [\r\n              /* [{ image: await getBase64ImageFromURL('/assets/images/logo-dark.png'), width: 150 }, { text: 'N de Boleta: ' + numeroBoleta, style: 'tableHeader', rowSpan: 4, alignment: 'right' }], */\r\n              [{ image: await getBase64ImageFromURL('/assets/images/logo-dark.png'), width: 150 }, { text: '', style: 'tableHeader', rowSpan: 3, alignment: 'right' }],\r\n              [{ text: direccionEmpresa, style: 'datosempresa' }, {}],\r\n              [{ text: correoEmpresa, style: 'datosempresa' }, {}],\r\n              [{ text: felefonoEmpresa, style: 'datosempresa' }, {}],\r\n            ]\r\n          },\r\n          layout: 'noBorders'\r\n        },\r\n\r\n        {\r\n          style: 'tableMargin',\r\n          table: {\r\n            widths: ['*', '*'],\r\n            body: [\r\n              /* [{ text: 'Facturado a:', style: 'tableHeader' }, { text: 'N de Boleta:', style: 'tableHeader', alignment: 'right' }],\r\n              [{ text: nombresCliente, style: 'subtitulo' }, {text: numeroBoleta, style: 'contenido', alignment: 'right'}], */\r\n              [{ text: 'Facturado a:', style: 'tableHeader' }, { text: 'Fecha de la Boleta:', style: 'tableHeader', alignment: 'right' }],\r\n              [{ text: nombresCliente, style: 'subtitulo' }, { text: fecha_hoy, style: 'contenido', alignment: 'right' }],\r\n              [{ text: 'Fecha de Nacimiento: ' + fnacimientoCliente, style: 'contenido' }, { text: '', style: 'tableHeader', alignment: 'right' }],\r\n              [{ text: 'Correo: ' + correoCliente, style: 'contenido' }, { text: '', style: 'contenido', alignment: 'right' }],\r\n              [{ text: 'Telefono: ' + telefonoCliente, style: 'contenido' }, {}],\r\n            ]\r\n          },\r\n          layout: 'noBorders'\r\n        },\r\n\r\n        { text: 'Resumen del pedido:', style: 'subtitulo' },\r\n\r\n        table(externalDataRetrievedFromServer, ['num_orden', 'detalle', 'precio', 'cantidad', 'total']),\r\n\r\n        {\r\n          text: [,\r\n            { text: 'Fecha de Entrega: ', style: 'textBold' },\r\n            fecha_entrega,\r\n            '   ',\r\n            { text: 'Hora: ', style: 'textBold' },\r\n            hora_entrega,\r\n          ]\r\n        },\r\n\r\n        { text: 'Nota:', style: 'subtitulo2' },\r\n        { text: 'Todo trabajo se efectuara con un adelanto del 50%.', style: 'contenido2', alignment: 'justify' },\r\n        { text: 'La empresa no se responsabiliza de los pedidos no recogidos despus de un mes.', style: 'contenido2', alignment: 'justify' },\r\n      ],\r\n      styles: {\r\n        subtitulo: {\r\n          bold: true,\r\n          fontSize: 13,\r\n          color: 'black',\r\n          margin: [0, 10, 0, 5]\r\n        },\r\n        subtitulo2: {\r\n          bold: true,\r\n          fontSize: 10,\r\n          color: 'black',\r\n          margin: [0, 10, 0, 5]\r\n        },\r\n        contenido: {\r\n          fontSize: 12,\r\n        },\r\n        contenido2: {\r\n          fontSize: 8,\r\n        },\r\n        textBold: {\r\n          fontSize: 12,\r\n          bold: true,\r\n        },\r\n\r\n        datosempresa: {\r\n          fontSize: 10,\r\n        },\r\n\r\n        header: {\r\n          fontSize: 17,\r\n          bold: true,\r\n          margin: [0, 0, 0, 10]\r\n        },\r\n        subheader: {\r\n          fontSize: 13,\r\n          bold: true,\r\n          margin: [0, 10, 0, 5]\r\n        },\r\n        subtitle: {\r\n          fontSize: 12,\r\n          bold: true,\r\n          margin: [0, 10, 0, 5]\r\n        },\r\n        tableMargin: {\r\n          margin: [0, 15, 0, 15]\r\n        },\r\n        tableOpacityExample: {\r\n          margin: [0, 5, 0, 15],\r\n          fillColor: 'blue',\r\n          fillOpacity: 0.3\r\n        },\r\n        tableHeader: {\r\n          bold: true,\r\n          fontSize: 13,\r\n          color: 'black'\r\n        },\r\n\r\n      },\r\n\r\n    }\r\n\r\n    const pdf = pdfMake.createPdf(pdfDefinition);\r\n    pdf.open();\r\n  }\r\n\r\n\r\n  copyText(el: HTMLDivElement) {\r\n    if (navigator.clipboard) {\r\n      navigator.clipboard.writeText(el.innerText).then(() => {\r\n        Sweetalert(\"success\", \"Copiado\");\r\n      }, (error) => {\r\n        Sweetalert(\"error\", \"Error\");\r\n      });\r\n    } else {\r\n      Sweetalert(\"error\", \"El navegador no soporta el API Clipboard\");\r\n    }\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n  <app-page-title title=\"Aadir un Producto\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title>\r\n\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-xl-4\">\r\n      <div class=\"card mb-0\">\r\n        <!-- Nav tabs -->\r\n        <ul ngbNav #justifiednav=\"ngbNav\" [activeId]=\"1\" class=\"nav nav-tabs nav-justified nav-tabs-custom\">\r\n          <li [ngbNavItem]=\"1\" class=\"nav-item\">\r\n            <a ngbNavLink class=\"nav-link\">\r\n              <i class=\"uil uil-nerd font-size-20\"></i>\r\n              <span class=\"d-none d-sm-block\">Montura</span>\r\n            </a>\r\n            <ng-template ngbNavContent>\r\n              <ng-template [ngTemplateOutlet]=\"TabContentMonturas\"></ng-template>\r\n            </ng-template>\r\n          </li>\r\n          <li [ngbNavItem]=\"2\" class=\"nav-item\">\r\n            <a ngbNavLink class=\"nav-link\">\r\n              <i class=\"uil uil-panorama-h-alt font-size-20\"></i>\r\n              <span class=\"d-none d-sm-block\">Luna</span>\r\n            </a>\r\n            <ng-template ngbNavContent>\r\n              <ng-template [ngTemplateOutlet]=\"TabContentLunas\"></ng-template>\r\n            </ng-template>\r\n          </li>\r\n          <li [ngbNavItem]=\"3\" class=\"nav-item\">\r\n            <a ngbNavLink class=\"nav-link\">\r\n              <i class=\"uil uil-box font-size-20\"></i>\r\n              <span class=\"d-none d-sm-block\">Accesorio</span>\r\n            </a>\r\n            <ng-template ngbNavContent>\r\n              <ng-template [ngTemplateOutlet]=\"TabContentAccesorios\"></ng-template>\r\n            </ng-template>\r\n          </li>\r\n        </ul>\r\n        <div [ngbNavOutlet]=\"justifiednav\"></div>\r\n      </div>\r\n\r\n      <!-- Tab content -->\r\n      <ng-template #TabContentMonturas>\r\n        <div class=\"tab-content p-4\">\r\n          <div class=\"tab-pane active\">\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-12\">\r\n                <form [formGroup]=\"formSedes\">\r\n                  <div ngbDropdown>\r\n                    <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\"\r\n                      bindLabel=\"nombre_sede\" formControlName=\"{{this.nombre_sedes}}\" (change)=\"changeSede()\">\r\n                    </ng-select>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-12\">\r\n                <div class=\"search-box chat-search-box\">\r\n                  <div class=\"position-relative\">\r\n                    <input type=\"text\" class=\"form-control bg-light border-light rounded\"\r\n                      placeholder=\"Buscar Montura...\" [(ngModel)]=\"searchtext\">\r\n                    <i class=\"uil uil-search search-icon\"></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-centered table-nowrap mb-0 align-middle\">\r\n                  <thead class=\"table-light\">\r\n                    <tr>\r\n                      <th>Copiar</th>\r\n                      <th>Cod. Int.</th>\r\n                      <th>Material</th>\r\n                      <th>Marca</th>\r\n                      <th>Color</th>\r\n                      <th>Cd. id.</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      *ngFor=\"let item of listMonturasforSale  | filter:searchtext |slice: (currentPage-1) * pageSize : currentPage * pageSize\">\r\n                      <td>\r\n                        <a (click)=\"copyText(elementToCopy)\" class=\"px-2 text-success\" placement=\"top\"\r\n                          ngbTooltip=\"Copiar cdigo\"><i class=\"uil-copy-alt font-size-18\"></i></a>\r\n                      </td>\r\n                      <td>\r\n                        {{item.codigo}}\r\n                      </td>\r\n                      <td>\r\n                        {{item.material}}\r\n                      </td>\r\n                      <td>\r\n                        {{item.marca}}\r\n                      </td>\r\n                      <td>\r\n                        {{item.color}}\r\n                      </td>\r\n\r\n                      <td #elementToCopy>\r\n                        {{item.id_producto}}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"row justify-content-md-between align-items-md-center\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                    <ngb-pagination [collectionSize]=\"listMonturasforSale?.length || 0\" [(page)]=\"currentPage\"\r\n                      [pageSize]=\"pageSize\" [maxSize]=\"3\">\r\n                    </ngb-pagination>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n\r\n      <ng-template #TabContentLunas>\r\n        <div class=\"tab-content p-4\">\r\n          <div class=\"tab-pane active\">\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-12\">\r\n                <form [formGroup]=\"formSedes\">\r\n                  <div ngbDropdown>\r\n                    <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\"\r\n                      bindLabel=\"nombre_sede\" formControlName=\"{{this.nombre_sedes}}\" (change)=\"changeSede()\">\r\n                    </ng-select>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-12\">\r\n                <div class=\"search-box chat-search-box\">\r\n                  <div class=\"position-relative\">\r\n                    <input type=\"text\" class=\"form-control bg-light border-light rounded\"\r\n                      placeholder=\"Buscar Luna...\" [(ngModel)]=\"searchtext\">\r\n                    <i class=\"uil uil-search search-icon\"></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-centered table-nowrap mb-0 align-middle\">\r\n                  <thead class=\"table-light\">\r\n                    <tr>\r\n                      <th>Copiar</th>\r\n                      <th>Material</th>\r\n                      <th>Cd. id.</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      *ngFor=\"let itemLuna of listLunasforSale  | filter:searchtext |slice: (currentPage-1) * pageSize : currentPage * pageSize\">\r\n                      <td>\r\n                        <a (click)=\"copyText(elementToCopy)\" class=\"px-2 text-success\" placement=\"top\"\r\n                          ngbTooltip=\"Copiar cdigo\"><i class=\"uil-copy-alt font-size-18\"></i></a>\r\n                      </td>\r\n                      <td>\r\n                        {{itemLuna.material}}\r\n                      </td>\r\n                      <td #elementToCopy>\r\n                        {{itemLuna.id_producto}}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"row justify-content-md-between align-items-md-center\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                    <ngb-pagination [collectionSize]=\"listLunasforSale?.length || 0\" [(page)]=\"currentPage\"\r\n                      [pageSize]=\"pageSize\" [maxSize]=\"3\">\r\n                    </ngb-pagination>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n\r\n      <ng-template #TabContentAccesorios>\r\n        <div class=\"tab-content p-4\">\r\n          <div class=\"tab-pane active\">\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-12\">\r\n                <form [formGroup]=\"formSedes\">\r\n                  <div ngbDropdown>\r\n                    <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\"\r\n                      bindLabel=\"nombre_sede\" formControlName=\"{{this.nombre_sedes}}\" (change)=\"changeSede()\">\r\n                    </ng-select>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-12\">\r\n                <div class=\"search-box chat-search-box\">\r\n                  <div class=\"position-relative\">\r\n                    <input type=\"text\" class=\"form-control bg-light border-light rounded\"\r\n                      placeholder=\"Buscar Luna...\" [(ngModel)]=\"searchtext\">\r\n                    <i class=\"uil uil-search search-icon\"></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-centered table-nowrap mb-0 align-middle\">\r\n                  <thead class=\"table-light\">\r\n                    <tr>\r\n                      <th>Copiar</th>\r\n                      <th>Nombre</th>\r\n                      <th>Cd. id.</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      *ngFor=\"let itemAccesorio of listAccesoriosforSale  | filter:searchtext |slice: (currentPage-1) * pageSize : currentPage * pageSize\">\r\n                      <td>\r\n                        <a (click)=\"copyText(elementToCopy)\" class=\"px-2 text-success\" placement=\"top\"\r\n                          ngbTooltip=\"Copiar cdigo\"><i class=\"uil-copy-alt font-size-18\"></i></a>\r\n                      </td>\r\n                      <td>\r\n                        {{itemAccesorio.nombre_accesorio}}\r\n                      </td>\r\n                      <td #elementToCopy>\r\n                        {{itemAccesorio.id_producto}}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"row justify-content-md-between align-items-md-center\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"text-md-end float-md-end pagination-rounded\">\r\n                    <ngb-pagination [collectionSize]=\"listAccesoriosforSale?.length || 0\" [(page)]=\"currentPage\"\r\n                      [pageSize]=\"pageSize\" [maxSize]=\"3\">\r\n                    </ngb-pagination>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n\r\n    <div class=\"col-xl-8\">\r\n      <div class=\"card h-100\">\r\n        <div class=\"card-body\">\r\n          <h1 class=\"card-title mb-3\">Realizar Venta</h1>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"p-2\">\r\n              <div class=\"row mb-3\">\r\n                <div class=\"col-md-8 mb-2 search-box chat-search-box\">\r\n                  <div class=\"position-relative\">\r\n                    <ng-autocomplete #autocomplete [data]=\"listAllProducts\" [searchKeyword]=\"keyword\"\r\n                      placeholder=\"Buscar productos\" (selected)=\"selectEvent($event)\"\r\n                      (inputChanged)='onChangeSearch($event)' (inputFocused)='onFocused($event)' historyIdentifier=\"\"\r\n                      [itemTemplate]=\"itemTemplate\" [notFoundTemplate]=\"notFoundTemplate\"\r\n                      (keyup.enter)=\"selectEvent($event)\" focusFirst=\"true\" minQueryLength=\"8\">\r\n                    </ng-autocomplete>\r\n                    <ng-template #itemTemplate let-item>\r\n                      <a [innerHTML]=\"item.id_producto\"></a>\r\n                    </ng-template>\r\n                    <ng-template #notFoundTemplate let-notFound>\r\n                      <div [innerHTML]=\"notFound\"></div>\r\n                    </ng-template>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-4 mb-2\">\r\n                  <div class=\"btn-toolbar\" role=\"toolbar\">\r\n                    <div class=\"col-12 d-grid\" *appRole=\"role\">\r\n                      <form [formGroup]=\"formSedes\">\r\n                        <div ngbDropdown>\r\n                          <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\"\r\n                            bindLabel=\"nombre_sede\" formControlName=\"{{this.nombre_sedes}}\" (change)=\"changeSede()\">\r\n                          </ng-select>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-4\">\r\n            <h4>Total de la Venta: PEN {{getTotalCost()|currency:'S/ '}}</h4>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-12\">\r\n              <h4 class=\"card-title mb-4\">Lista de Productos</h4>\r\n              <div class=\"table-responsive mb-2\">\r\n                <form>\r\n                  <table class=\"table table-centered dt-responsive table-nowrap mb-0 align-middle \"\r\n                    style=\"border-spacing: 0 12px; width: 100%;\">\r\n                    <thead class=\"table-light\">\r\n                      <tr class=\"bg-transparent\">\r\n                        <th>Ord.</th>\r\n                        <th>Tipo</th>\r\n                        <th>Detalle</th>\r\n                        <th>Cantidad</th>\r\n                        <th>Precio</th>\r\n                        <th>Total</th>\r\n                        <th>Accin</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr *ngFor=\"let item of products; let i = index\">\r\n                        <td>\r\n                          <ngb-highlight [result]=\"i+1\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"item.tipo\"></ngb-highlight>\r\n                        </td>\r\n                        <td *ngIf=\"item.tipo == 'montura'\">\r\n                          <ngb-highlight [result]=\"item.material\"></ngb-highlight>&nbsp;\r\n                          <ngb-highlight [result]=\"item.marca\"></ngb-highlight>\r\n                        </td>\r\n                        <td *ngIf=\"item.tipo == 'luna'\">\r\n                          <ngb-highlight [result]=\"item.material\"></ngb-highlight>\r\n                        </td>\r\n                        <td *ngIf=\"item.tipo == 'accesorio'\">\r\n                          <ngb-highlight [result]=\"item.nombre_accesorio\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"item.cant_vendida\"></ngb-highlight>\r\n                        </td>\r\n                        <td *ngIf=\"item.tipo == 'montura'\">\r\n                          <ngb-highlight [result]=\"item.precio_montura_v |currency:'S/ '\"></ngb-highlight>\r\n                        </td>\r\n                        <td *ngIf=\"item.tipo == 'luna'\">\r\n                          <ngb-highlight [result]=\"item.precio_luna_v |currency:'S/ '\"></ngb-highlight>\r\n                        </td>\r\n                        <td *ngIf=\"item.tipo == 'accesorio'\">\r\n                          <ngb-highlight [result]=\"item.precio_accesorio_v |currency:'S/ '\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <ngb-highlight [result]=\"item.precio |currency:'S/ '\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                          <a class=\"px-2 text-warning\" placement=\"top\" ngbTooltip=\"Disminuir\"><i\r\n                              class=\"uil uil-minus-circle font-size-18\"\r\n                              (click)=\"substractQuantityProduct($event,i)\"></i></a>\r\n                          <a class=\"px-2 text-success\" placement=\"top\" ngbTooltip=\"Agregar\"><i\r\n                              class=\"uil uil-plus-circle font-size-18\" name=\"quantity\" ngDefaultControl\r\n                              [(ngModel)]=\"item.num\" min=\"0\" (click)=\"addQuantityProduct($event,i)\"></i></a>\r\n                          <a (click)=\"centerModalEditarPrecio(centerDataModalEditar,item)\" class=\"px-2 text-primary\"\r\n                            placement=\"top\" ngbTooltip=\"Editar precio\"><i class=\"uil uil-pen font-size-18\"></i></a>\r\n                          <a class=\"px-2 text-danger\" placement=\"top\" ngbTooltip=\"Eliminar\"><i\r\n                              class=\"uil uil-trash-alt font-size-18\" (click)=\"removeCartProduct($event,i)\"></i></a>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </form>\r\n              </div>\r\n              <!-- end table -->\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"text-end mt-2\">\r\n            <button type=\"submit\" class=\"btn btn-success ms-1\" id=\"btn-save-event\"\r\n              (click)=\"centerModal(centerDataModalGuardar2,products)\" [disabled]=\"!btnGuardar\">\r\n              <i class=\"uil uil-shopping-cart-alt mt-2 me-1\"></i>\r\n              Guardar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- Editar Precio - Center Modal -->\r\n<ng-template #centerDataModalEditar let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title mt-0\">Cambio de Precio</h5>\r\n    <button type=\"button\" class=\"btn-close\" (click)=\"closeEventModal()\">\r\n    </button>\r\n  </div>\r\n  <form [formGroup]=\"formEditarPrecio\">\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-6\">\r\n          <label class=\"form-label\" for=\"billing-PrecioOriginal\">Precio Original</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"billing-PrecioOriginal\" placeholder=\"Precio Original\"\r\n            formControlName=\"{{this.precioOriginal_Editar}}\" />\r\n        </div>\r\n        <div class=\"col-sm-6\">\r\n          <div class=\"mb-4\">\r\n            <label class=\"form-label\" for=\"billing-NuevoPrecio\">Nuevo Precio de Venta</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"billing-NuevoPrecio\" placeholder=\"Escriba el nuevo precio\"\r\n              formControlName=\"{{this.nuevoPrecio_Editar}}\"\r\n              [ngClass]=\"{'is-invalid': formEP.campoNuevoPrecioEditar.invalid && (formEP.campoNuevoPrecioEditar.dirty || formEP.campoNuevoPrecioEditar.touched)}\" />\r\n            <div class=\"invalid-feedback\">\r\n              <div *ngIf=\"formEP.campoNuevoPrecioEditar.errors?.required\">\r\n                Campo requerido\r\n              </div>\r\n              <div *ngIf=\"formEP.campoNuevoPrecioEditar.errors?.pattern\">\r\n                Ingrese solo nmeros\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeEventModal()\">\r\n        Cerrar\r\n      </button>\r\n      <button type=\"submit\" class=\"btn btn-success ms-1\" (click)=\"actualizarPrecio()\" id=\"btn-save-event\">\r\n        Guardar\r\n      </button>\r\n    </div>\r\n\r\n\r\n  </form>\r\n\r\n</ng-template>\r\n\r\n<!-- Guardar Venta 2 - Center Modal -->\r\n<ng-template #centerDataModalGuardar2 let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\" id=\"modal-title\">Registrar Venta</h5>\r\n    <button type=\"button\" class=\"btn-close\" (click)=\"closeEventModal()\">\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body p-4\">\r\n    <div class=\"col-lg-14\">\r\n      <ul ngbNav #justifiednavpills=\"ngbNav\" [activeId]=\"activePago\" class=\"nav-pills nav-justified bg-light\"\r\n        (navChange)=\"selectorMetodoPago($event)\">\r\n        <li [ngbNavItem]=\"1\">\r\n          <a ngbNavLink>\r\n            <span class=\"d-block d-sm-none\"><i class=\"fas fa-home\"></i></span>\r\n            <span class=\"d-none d-sm-block\">Al Contado</span>\r\n          </a>\r\n          <ng-template ngbNavContent>\r\n\r\n\r\n\r\n\r\n            <form (ngSubmit)=\"saveEvent()\" [formGroup]=\"formContado\">\r\n              <div class=\"row mt-4\">\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Cantidad Recibida</label>\r\n                    <input class=\"form-control\" placeholder=\"Cantidad en soles\" type=\"text\"\r\n                      name=\"nameCantidadRecibidaContado\" (change)=\"updatePago($event)\"\r\n                      formControlName=\"{{this.cantidadRecibida_Contado}}\" />\r\n                    <div class=\"text-danger\"\r\n                      *ngIf=\"formContado.controls['campoCantidadRecibidaContado'].invalid && (formContado.controls['campoCantidadRecibidaContado'].dirty || formContado.controls['campoCantidadRecibidaContado'].touched)\">\r\n                      <div class=\"text-danger\"\r\n                        *ngIf=\"formContado.controls['campoCantidadRecibidaContado'].errors.required\">\r\n                        Campo requerido\r\n                      </div>\r\n                      <div class=\"text-danger\"\r\n                        *ngIf=\"formContado.controls['campoCantidadRecibidaContado'].errors.pattern\">\r\n                        Ingrese como mximo 2 decimales\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\">Mtodo</label>\r\n                    <ng-select name=\"selectMetodo\" [items]=\"listMetodosPagos\"\r\n                      formControlName=\"{{this.metodoPagoContado}}\" placeholder=\"Seleccione\">\r\n                    </ng-select>\r\n                    <div class=\"text-danger\"\r\n                      *ngIf=\"formContado.controls['campoMetodoPagoContado'].invalid && (formContado.controls['campoMetodoPagoContado'].dirty || formContado.controls['campoMetodoPagoContado'].touched)\">\r\n                      <div class=\"text-danger\" *ngIf=\"formContado.controls['campoMetodoPagoContado'].errors.required\">\r\n                        Campo requerido\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Fecha</label>\r\n                    <input class=\"form-control\" placeholder=\"Seleccione la fecha\" type=\"text\"\r\n                      name=\"nameFechaRegistroContado\" formControlName=\"{{this.fechaVenta_Contado}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                    <div *ngIf=\"submitted && form.title.errors\" class=\"invalid-feedback\">\r\n                      <span *ngIf=\"form.title.errors.required\">This value is required.</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Buscar Cliente</label>\r\n                    <ng-autocomplete [data]=\"listClients\" [searchKeyword]=\"keywordCliente\"\r\n                      placeholder=\"Apellidos del cliente\" (selected)=\"selectEventCliente($event)\" historyIdentifier=\"\"\r\n                      [itemTemplate]=\"itemTemplate3\" formControlName=\"{{this.nombreContado}}\"\r\n                      [notFoundTemplate]=\"notFoundTemplate\">\r\n                    </ng-autocomplete>\r\n\r\n                    <ng-template #itemTemplate3 let-item>\r\n                      <a [innerHTML]=\"item.nombres_apellidos\"></a>\r\n                    </ng-template>\r\n\r\n                    <ng-template #notFoundTemplate let-notFound>\r\n                      <div [innerHTML]=\"notFound\"></div>\r\n                    </ng-template>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"control-label\" style=\"text-align: left;\">Montos:</label>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Total</label>\r\n                    <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"nameTotalContado\"\r\n                      formControlName=\"{{this.precioTotal_Contado}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Pago</label>\r\n                    <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"namePagoContado\"\r\n                      formControlName=\"{{this.pago_Contado}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Cambio</label>\r\n                    <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"nameCambioContado\"\r\n                      formControlName=\"{{this.cambio_Contado}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\" for=\"billing-observaciones\">Observaciones</label>\r\n                    <textarea class=\"form-control\" id=\"billing-observaciones\" rows=\"3\"\r\n                      placeholder=\"Ingrese las observaciones\"\r\n                      formControlName=\"{{this.observaciones_Contado}}\"></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"mb-4\">\r\n                    <label class=\"form-label\" for=\"billing-vendedor\">Responsable de la Venta</label>\r\n                    <input class=\"form-control\" placeholder=\"Nombre Completo\" type=\"text\" name=\"nameVendenorContado\"\r\n                      formControlName=\"{{this.vendedor_Contado}}\"\r\n                      [ngClass]=\"{'is-invalid': formVContado.campoVendedorContado.invalid && (formVContado.campoVendedorContado.dirty || formVContado.campoVendedorContado.touched)}\" />\r\n                    <div class=\"invalid-feedback\">\r\n                      <div *ngIf=\"formVContado.campoVendedorContado.errors?.required\">\r\n                        Campo requerido\r\n                      </div>\r\n                      <div *ngIf=\"formVContado.campoVendedorContado.errors?.pattern\">\r\n                        Ingrese solo letras\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"text-end mt-2\">\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeEventModal()\">\r\n                  Cerrar\r\n                </button>\r\n                <button type=\"submit\" class=\"btn btn-success ms-1\" (click)=\"guardarVenta()\"\r\n                  [disabled]=\"!formContado.valid\" id=\"btn-save-event\">\r\n                  Registrar Venta\r\n                </button>\r\n              </div>\r\n            </form>\r\n\r\n\r\n\r\n          </ng-template>\r\n        </li>\r\n        <li [ngbNavItem]=\"2\">\r\n          <a ngbNavLink>\r\n            <span class=\"d-block d-sm-none\"><i class=\"far fa-user\"></i></span>\r\n            <span class=\"d-none d-sm-block\">Al Crdito</span>\r\n          </a>\r\n          <ng-template ngbNavContent>\r\n\r\n\r\n\r\n            <form (ngSubmit)=\"saveEvent()\" [formGroup]=\"formCredito\">\r\n              <div class=\"row mt-4\">\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Cantidad Recibida</label>\r\n                    <input class=\"form-control\" placeholder=\"Cantidad en soles\" type=\"text\"\r\n                      name=\"nameCantidadRecibidaCredito\" (change)=\"updatePago($event)\"\r\n                      formControlName=\"{{this.cantidadRecibida_Credito}}\" />\r\n                    <div class=\"text-danger\"\r\n                      *ngIf=\"formCredito.controls['campoCantidadRecibidaCredito'].invalid && (formCredito.controls['campoCantidadRecibidaCredito'].dirty || formCredito.controls['campoCantidadRecibidaCredito'].touched)\">\r\n                      <div class=\"text-danger\"\r\n                        *ngIf=\"formCredito.controls['campoCantidadRecibidaCredito'].errors.required\">\r\n                        Campo requerido\r\n                      </div>\r\n                      <div class=\"text-danger\"\r\n                        *ngIf=\"formCredito.controls['campoCantidadRecibidaCredito'].errors.pattern\">\r\n                        Ingrese como mximo 2 decimales\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\">Mtodo</label>\r\n                    <ng-select name=\"selectMetodo\" [items]=\"listMetodosPagos\"\r\n                      formControlName=\"{{this.metodoPagoCredito}}\" placeholder=\"Seleccione\">\r\n                    </ng-select>\r\n                    <div class=\"text-danger\"\r\n                      *ngIf=\"formCredito.controls['campoMetodoPagoCredito'].invalid && (formCredito.controls['campoMetodoPagoCredito'].dirty || formCredito.controls['campoMetodoPagoCredito'].touched)\">\r\n                      <div class=\"text-danger\" *ngIf=\"formCredito.controls['campoMetodoPagoCredito'].errors.required\">\r\n                        Campo requerido\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Fecha</label>\r\n                    <input class=\"form-control\" placeholder=\"Seleccione la fecha\" type=\"text\"\r\n                      name=\"nameFechaRegistroCredito\" formControlName=\"{{this.fechaVenta_Credito}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                    <div *ngIf=\"submitted && form.title.errors\" class=\"invalid-feedback\">\r\n                      <span *ngIf=\"form.title.errors.required\">This value is required.</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Nmero de Cuotas</label>\r\n                    <div class=\"p-3\">\r\n                      <ng5-slider [(value)]=\"tickValue\" [options]=\"tickValueoptions\"></ng5-slider>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Buscar o Crear nuevo Cliente</label>\r\n                    <ng-autocomplete [data]=\"listClients\" [searchKeyword]=\"keywordCliente\"\r\n                      placeholder=\"Apellidos del cliente\" (selected)=\"selectEventCliente($event)\" historyIdentifier=\"\"\r\n                      [itemTemplate]=\"itemTemplate2\" [notFoundTemplate]=\"notFoundTemplate\"\r\n                      formControlName=\"{{this.nombreCredito}}\">\r\n                    </ng-autocomplete>\r\n                    <ng-template #itemTemplate2 let-item>\r\n                      <a [innerHTML]=\"item.nombres_apellidos\"></a>\r\n                    </ng-template>\r\n\r\n                    <ng-template #notFoundTemplate let-notFound>\r\n                      <div [innerHTML]=\"notFound\"></div>\r\n                    </ng-template>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"control-label\" style=\"text-align: left;\">Montos:</label>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Total</label>\r\n                    <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"nameTotalCredito\"\r\n                      formControlName=\"{{this.precioTotal_Credito}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Pago</label>\r\n                    <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"namePagoCredito\"\r\n                      formControlName=\"{{this.pago_Credito}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"control-label\">Deuda</label>\r\n                    <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"nameCambioCredito\"\r\n                      formControlName=\"{{this.cambio_Credito}}\"\r\n                      [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"mb-3\">\r\n                    <label class=\"form-label\" for=\"billing-observaciones\">Observaciones</label>\r\n                    <textarea class=\"form-control\" id=\"billing-observaciones\" rows=\"3\"\r\n                      placeholder=\"Ingrese las observaciones\"\r\n                      formControlName=\"{{this.observaciones_Credito}}\"></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"mb-4\">\r\n                    <label class=\"form-label\" for=\"billing-vendedor\">Responsable de la Venta</label>\r\n                    <input class=\"form-control\" placeholder=\"Nombre Completo\" type=\"text\" name=\"nameVendenorCredito\"\r\n                      formControlName=\"{{this.vendedor_Credito}}\"\r\n                      [ngClass]=\"{'is-invalid': formVCredito.campoVendedorCredito.invalid && (formVCredito.campoVendedorCredito.dirty || formVCredito.campoVendedorCredito.touched)}\" />\r\n                    <div class=\"invalid-feedback\">\r\n                      <div *ngIf=\"formVCredito.campoVendedorCredito.errors?.required\">\r\n                        Campo requerido\r\n                      </div>\r\n                      <div *ngIf=\"formVCredito.campoVendedorCredito.errors?.pattern\">\r\n                        Ingrese solo letras\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"text-end mt-2\">\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeEventModal()\">\r\n                  Cerrar\r\n                </button>\r\n                <button type=\"submit\" class=\"btn btn-success ms-1\" (click)=\"guardarVenta()\"\r\n                  [disabled]=\"!formCredito.valid\" id=\"btn-save-event\">\r\n                  Registrar Venta\r\n                </button>\r\n              </div>\r\n            </form>\r\n\r\n          </ng-template>\r\n        </li>\r\n      </ul>\r\n      <div [ngbNavOutlet]=\"justifiednavpills\"></div>\r\n    </div><!-- End Justified Tabs -->\r\n\r\n  </div>\r\n  <!-- end modal dialog-->\r\n</ng-template>\r\n<!-- end modal-->\r\n\r\n\r\n\r\n\r\n\r\n<!-- Scrollable Modal -->\r\n<ng-template #scrollDataModal let-modal>\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title mt-0\">Factura de Venta</h5>\r\n    <button type=\"button\" class=\"btn-close\" (click)=\"modal.dismiss('Cross click')\" aria-label=\"Close\">\r\n\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <div class=\"invoice-title\">\r\n              <h4 class=\"float-end font-size-16\">Factura #MN0131 <span\r\n                  class=\"badge bg-success font-size-12 ms-2\">Paid</span></h4>\r\n              <div class=\"mb-4\">\r\n                <img src=\"assets/images/logo-dark.png\" alt=\"logo\" height=\"20\" />\r\n              </div>\r\n              <div class=\"text-muted\">\r\n                <p class=\"mb-1\"><i class=\"uil uil-map-marker me-1\"></i>641 Counts Lane Wilmore, KY 40390</p>\r\n                <p class=\"mb-1\"><i class=\"uil uil-envelope-alt me-1\"></i> abc@123.com</p>\r\n                <p><i class=\"uil uil-phone me-1\"></i> 012-345-6789</p>\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"my-4\">\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-6\">\r\n                <div class=\"text-muted\">\r\n                  <h5 class=\"font-size-16 mb-3\">Facturado a:</h5>\r\n                  <h5 class=\"font-size-15 mb-2\">Preston Miller</h5>\r\n                  <p class=\"mb-1\">4450 Fancher Drive Dallas, TX 75247</p>\r\n                  <p class=\"mb-1\">PrestonMiller@armyspy.com</p>\r\n                  <p>001-234-5678</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-6\">\r\n                <div class=\"text-muted text-sm-end\">\r\n                  <div>\r\n                    <h5 class=\"font-size-16 mb-1\">N de Factura:</h5>\r\n                    <p>#MN0131</p>\r\n                  </div>\r\n                  <div class=\"mt-4\">\r\n                    <h5 class=\"font-size-16 mb-1\">Fecha de la Factura:</h5>\r\n                    <p>09 Jul, 2020</p>\r\n                  </div>\r\n                  <div class=\"mt-4\">\r\n                    <h5 class=\"font-size-16 mb-1\">N de pedido:</h5>\r\n                    <p>#1123456</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"py-2\">\r\n              <h5 class=\"font-size-15\">Resumen del Pedido</h5>\r\n\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-nowrap table-centered mb-0\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th style=\"width: 70px;\">No.</th>\r\n                      <th>Detalle</th>\r\n                      <th>Precio</th>\r\n                      <th>Cantidad</th>\r\n                      <th class=\"text-end\" style=\"width: 120px;\">Total</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <th scope=\"row\">01</th>\r\n                      <td>\r\n                        <h5 class=\"font-size-15 mb-1\">Nike N012 Running Shoes</h5>\r\n                        <ul class=\"list-inline mb-0\">\r\n                          <li class=\"list-inline-item\">Color : <span class=\"fw-medium\">Gray</span></li>\r\n                          <li class=\"list-inline-item\">Size : <span class=\"fw-medium\">08</span></li>\r\n                        </ul>\r\n                      </td>\r\n                      <td>$260</td>\r\n                      <td>1</td>\r\n                      <td class=\"text-end\">PEN 260.00</td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <th scope=\"row\">02</th>\r\n                      <td>\r\n                        <h5 class=\"font-size-15 mb-1\">Adidas Running Shoes</h5>\r\n                        <ul class=\"list-inline mb-0\">\r\n                          <li class=\"list-inline-item\">Color : <span class=\"fw-medium\">Black</span></li>\r\n                          <li class=\"list-inline-item\">Size : <span class=\"fw-medium\">09</span></li>\r\n                        </ul>\r\n                      </td>\r\n                      <td>$250</td>\r\n                      <td>1</td>\r\n                      <td class=\"text-end\">PEN 250.00</td>\r\n                    </tr>\r\n\r\n\r\n                    <tr>\r\n                      <th scope=\"row\" colspan=\"4\" class=\"text-end\">Sub Total</th>\r\n                      <td class=\"text-end\">PEN 510.00</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\" colspan=\"4\" class=\"border-0 text-end\">\r\n                        Descuento :</th>\r\n                      <td class=\"border-0 text-end\">- PEN 50.00</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\" colspan=\"4\" class=\"border-0 text-end\">\r\n                        Costo de envo :</th>\r\n                      <td class=\"border-0 text-end\">PEN 25.00</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\" colspan=\"4\" class=\"border-0 text-end\">\r\n                        Impuesto (IGV)</th>\r\n                      <td class=\"border-0 text-end\">PEN 13.00</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th scope=\"row\" colspan=\"4\" class=\"border-0 text-end\">Total</th>\r\n                      <td class=\"border-0 text-end\">\r\n                        <h4 class=\"m-0\">PEN 498.00</h4>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- end row -->\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <a href=\"javascript(0)\" class=\"btn btn-success waves-effect waves-light me-1\"><i class=\"fa fa-download\"></i></a>\r\n    <a href=\"javascript:window.print()\" class=\"btn btn-success waves-effect waves-light me-1\"><i\r\n        class=\"fa fa-print\"></i></a>\r\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"modal.close('Close click')\">Cerrar</button>\r\n    <button type=\"button\" class=\"btn btn-primary\">Guardar cambios</button>\r\n  </div>\r\n</ng-template>","import { Directive, EventEmitter, Input, Output } from '@angular/core';\r\nimport { VentasModel } from 'src/models/venta';\r\n\r\nexport type SortColumn = keyof VentasModel | '';\r\nexport type SortDirection = 'asc' | 'desc' | '';\r\nconst rotate: { [key: string]: SortDirection } = { 'asc': 'desc', 'desc': '', '': 'asc' };\r\n\r\nexport interface SortEvent {\r\n  column: SortColumn;\r\n  direction: SortDirection;\r\n}\r\n\r\n@Directive({\r\n  selector: 'th[sortable]',\r\n  host: {\r\n    '[class.asc]': 'direction === \"asc\"',\r\n    '[class.desc]': 'direction === \"desc\"',\r\n    '(click)': 'rotate()'\r\n  }\r\n})\r\nexport class NgbdSortableHeader {\r\n\r\n  @Input() sortable: SortColumn = '';\r\n  @Input() direction: SortDirection = '';\r\n  @Output() sort = new EventEmitter<SortEvent>();\r\n\r\n  rotate() {\r\n    this.direction = rotate[this.direction];\r\n    this.sort.emit({ column: this.sortable, direction: this.direction });\r\n  }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { SedesModel } from 'src/models/sedes';\r\nimport * as XLSX from 'xlsx';\r\nimport saveFile from 'save-as-file';\r\nimport { VentaService } from 'src/app/services/venta.service';\r\nimport { VentasModel } from 'src/models/venta';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-deleted-sales',\r\n  templateUrl: './deleted-sales.component.html',\r\n  styleUrls: ['./deleted-sales.component.scss']\r\n})\r\nexport class DeletedSalesComponent implements OnInit {\r\n\r\n  role = 'Admin'\r\n  formSedes: FormGroup;\r\n  listSedes: Array<SedesModel>;\r\n  nombre_sedes: string = \"campoSede\";\r\n  idSede:string = \"\";\r\n\r\n  // bread crumb items\r\n  breadCrumbItems: Array<{}>;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private usuarioService: UsuarioService,\r\n    private ventaService: VentaService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.breadCrumbItems = [{ label: 'Ventas' }, { label: 'Ventas Eliminas', active: true }];\r\n    this.getListSedes();\r\n    this.crearFormulario()\r\n  }\r\n\r\n  getListSedes() {\r\n    this.listSedes = JSON.parse(localStorage.getItem('sedes'));\r\n    this.idSede = this.usuarioService.getSedebyUser();\r\n  }\r\n  \r\n  crearFormulario() {\r\n    this.formSedes = this.fb.group({\r\n      [this.nombre_sedes]: [this.idSede,[Validators.required]]\r\n    })\r\n  }\r\n\r\n  fS(campo: string) {\r\n    return this.formSedes.get(campo);\r\n  }\r\n  exportarVentasEliminadas() {\r\n    if (this.formSedes.valid) {\r\n      let data = [];\r\n      const EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n      const EXCEL_EXTENSION = '.xlsx';\r\n      this.ventaService.getVentasEliminadasbySede(this.fS(this.nombre_sedes).value).subscribe(res=>{\r\n        if(res.length > 0){\r\n          data = res.map((ventas:VentasModel) => {\r\n            let accesorios = ventas.list_accesorios.map(acc => {\r\n              return {\r\n                \"PRECIO VENTA\": acc.precio_accesorio_v,\r\n                \"PRECIO COMPRA\": acc.precio_accesorio_c,\r\n                \"CANTIDAD VENDIDA\": acc.cant_vendida,\r\n                \"NOMBRE\": acc.nombre_accesorio,\r\n                \"SUMA TOTAL\": acc.precio\r\n              }\r\n            })\r\n            let monturas = ventas.list_monturas.map(mont => {\r\n              return {\r\n                \"PRECIO VENTA\": mont.precio_montura_v,\r\n                \"PRECIO COMPRA\": mont.precio_montura_c,\r\n                \"CANTIDAD VENDIDA\": mont.cant_vendida,\r\n                \"MARCA\": mont.marca,\r\n                \"MATERIAL\": mont.material,\r\n                \"COLOR\": mont.color,\r\n                \"SUMA TOTAL\": mont.precio\r\n              }\r\n            })\r\n            let lunas = ventas.list_lunas.map(lun => {\r\n              return {\r\n                \"PRECIO VENTA\": lun.precio_luna_v,\r\n                \"PRECIO COMPRA\": lun.precio_luna_c,\r\n                \"CANTIDAD VENDIDA\": lun.cant_vendida,\r\n                \"MATERIAL\": lun.material,\r\n                \"SUMA TOTAL\": lun.precio\r\n              }\r\n            })\r\n            return {\r\n              \"FECHA\": new Date(ventas.fecha_creacion_venta).toLocaleDateString('en-GB') ,\r\n              \"NOMBRE CLIENTE\": ventas.nombre_cliente,\r\n              \"ACCESORIOS\": JSON.stringify(accesorios),\r\n            \"LUNAS\": JSON.stringify(lunas),\r\n            \"MONTURAS\": JSON.stringify(monturas),\r\n              \"TOTAL\": ventas.tipo_venta[0].precio_total,\r\n              \"USUARIO\": ventas.nombre_vendedor.toUpperCase(),\r\n              \"VENDEDOR\": ventas.nombre_jalador? ventas.nombre_jalador.toUpperCase() : null,\r\n              \"ENCARGADO MEDICION\": ventas.encargado_medicion? ventas.encargado_medicion.toUpperCase():null,\r\n              \"FORMA DE PAGO\": ventas.tipo_venta[0].forma_pago,\r\n            }\r\n          }); \r\n          const worksheet = XLSX.utils.json_to_sheet(data);\r\n              const workbook = {\r\n                Sheets: {\r\n                  'hoja': worksheet\r\n                },\r\n                SheetNames: ['hoja']\r\n              }\r\n    \r\n              const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n              const blobData = new Blob([excelBuffer], { type: EXCEL_TYPE });\r\n              const nombreSede = this.listSedes.find(res => (res.id_sede == this.fS(this.nombre_sedes).value));\r\n              saveFile(blobData, 'ventas_eliminadas' + '_' + nombreSede.nombre_sede);\r\n        }\r\n        else {\r\n          this.mostrarMensaje();\r\n        }\r\n       \r\n      })\r\n      \r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n  mostrarMensaje() {\r\n    Swal.fire({\r\n      title: 'Bsqueda finalizada',\r\n      text: 'No existen ventas elimindas',\r\n      icon: 'error',\r\n      confirmButtonColor: '#34c38f',\r\n    })\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n\r\n    <!-- start page title -->\r\n    <app-page-title title=\"Ventas Eliminadas\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title>\r\n    <!-- end page title -->\r\n  \r\n    <div class=\"row justify-content-center Absolute-Center\">\r\n      <div class=\"col-sm-12 col-lg-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n              <p class=\"card-title-desc text-danger\">* Campo requerido</p> \r\n              <div class=\"row\">\r\n                <div class=\"col-12 col-sm-12\">\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"validationCustom01\">Sede *</label>\r\n                    <div class=\"btn-toolbar\" role=\"toolbar\">\r\n                        <div class=\"col-12 d-grid\" *appRole=\"role\">\r\n                          <form [formGroup]=\"formSedes\">\r\n                            <div ngbDropdown>\r\n                              <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\"\r\n                                bindLabel=\"nombre_sede\" formControlName=\"{{this.nombre_sedes}}\">\r\n                              </ng-select>\r\n                            </div>\r\n                          </form>\r\n                        </div>\r\n                      </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            <div class=\"row my-2\">\r\n              <div class=\"col\">\r\n                <div class=\"text-sm-end mt-2 mt-sm-0\">\r\n                  <button class=\"btn btn-success\" (click)=\"exportarVentasEliminadas()\">\r\n                    <i class=\"uil uil-store-alt me-1\"></i> Descargar Archivo\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- end card -->\r\n      </div> <!-- end col -->\r\n    </div>\r\n    <!-- end row -->\r\n  \r\n\r\n  </div>\r\n  ","import { Component, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { Observable } from 'rxjs';\r\nimport { TransactionService } from './sale.service';\r\nimport { NgbdSortableHeader, SortEvent } from './sortable.directive';\r\nimport { VentasModel } from 'src/models/venta';\r\nimport Spanish from 'flatpickr/dist/l10n/es.js';\r\nimport { FlatpickrOptions } from 'ng2-flatpickr';\r\nimport { VentaService } from 'src/app/services/venta.service';\r\nimport Swal from 'sweetalert2';\r\nimport { Sweetalert } from 'src/utils/sweetalert';\r\nimport { NgbModal, NgbNavChangeEvent } from '@ng-bootstrap/ng-bootstrap'\r\n\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\nimport saveFile from 'save-as-file';\r\nimport { getBase64ImageFromURL, getBase64ImageFromUrl2, getBase64ImageFromUrl3, round } from 'src/utils/functions';\r\nimport { ClienteService } from 'src/app/services/cliente.service';\r\nimport { CustomersModel } from 'src/models/customer';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { TipoVentaModel } from 'src/models/tipo_venta';\r\nimport { SedesModel } from 'src/models/sedes';\r\nimport * as XLSX from 'xlsx';\r\n\r\n\r\n@Component({\r\n  selector: 'app-list-sales',\r\n  templateUrl: './list-sales.component.html',\r\n  styleUrls: ['./list-sales.component.scss'],\r\n  providers: [TransactionService, DecimalPipe]\r\n})\r\n\r\nexport class ListSalesComponent implements OnInit {\r\n\r\n  role = 'Admin'\r\n  formSedes: FormGroup;\r\n  listSedes: Array<SedesModel>;\r\n  nombre_sedes: string = \"campoSede\";\r\n  idSede: string = \"\";\r\n\r\n  mostrarSpinner = false;\r\n\r\n  formCreditoActualizacion: FormGroup;\r\n  submitted_CreditoActualizacion = false;\r\n  cantidadRecibida_CreditoActualizacion: string = \"campoCantidadRecibidaCreditoActualizacion\";\r\n  fechaVenta_CreditoActualizacion: string = \"campoFechaVentaCreditoActualizacion\";\r\n  usuario_CreditoActualizacion: string = \"campoUsuarioCreditoActualizacion\";\r\n  nombreCreditoActualizacion: string = \"campoNombreCreditoActualizacion\";\r\n  precioTotal_CreditoActualizacion: string = \"campoPrecioTotalCreditoActualizacion\";\r\n  pago_CreditoActualizacion: string = \"campoPagoCreditoActualizacion\";\r\n  cambio_CreditoActualizacion: string = \"campoCambioCreditoActualizacion\";\r\n  observaciones_CreditoActualizacion: string = \"campoObservacionesCreditoActualizacion\";\r\n  metodoPagoCreditoActualizacion: string = \"campoMetodoPagoCreditoActualizacion\";\r\n\r\n  numberPattern = '[0-9]+';\r\n  fechaVenta: Date;\r\n  precioTotalVenta: number;\r\n\r\n  activePago = 1;\r\n  listMetodosPagos = ['Fsico', 'Yape', 'Plin', 'Interbancario'];\r\n\r\n  // rango de fecha\r\n  exampleOptions: FlatpickrOptions = {\r\n    altInputClass: 'form-control',\r\n    locale: Spanish.es,\r\n  };\r\n\r\n  // bread crumb items\r\n  breadCrumbItems: Array<{}>;\r\n  term: any;\r\n\r\n  transactions$: Observable<VentasModel[]>;\r\n  total$: Observable<number>;\r\n\r\n  formDateRange: FormGroup;\r\n  fechaDesde: string = 'campoFechaDesde';\r\n  fechaHasta: string = 'campoFechaHasta';\r\n\r\n  usuario: any;\r\n  venta = new VentasModel;\r\n  tipoPago: Array<TipoVentaModel> = [];\r\n\r\n  @ViewChildren(NgbdSortableHeader) headers: QueryList<NgbdSortableHeader>;\r\n  decimalPattern = /^\\d+(\\.\\d{1,2})?$/;\r\n  excelVentas: Array<VentasModel> = [];\r\n\r\n  sedeActual = new SedesModel;\r\n  constructor(\r\n    public service: TransactionService,\r\n    private fb: FormBuilder,\r\n    private ventasService: VentaService,\r\n    private modalService: NgbModal,\r\n    private customerService: ClienteService,\r\n    private usuarioService: UsuarioService,\r\n    private ventaService: VentaService,\r\n  ) {\r\n    this.transactions$ = service.transactions$;\r\n    this.total$ = service.total$;\r\n    service.mostrar.subscribe(res => {\r\n      this.mostrarSpinner = res;\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.breadCrumbItems = [{ label: 'Venta' }, { label: 'Lista de Ventas', active: true }];\r\n    this.getListSedes();\r\n    this.crearFormulario();\r\n  }\r\n\r\n  getListSedes() {\r\n    this.listSedes = JSON.parse(localStorage.getItem('sedes'));\r\n    this.idSede = this.usuarioService.getSedebyUser();\r\n    this.sedeActual = this.getSedeActual(this.idSede,this.listSedes);\r\n  }\r\n\r\n  getSedeActual (idSede:string, sedes:any): SedesModel {\r\n    let sedeActual = sedes.find(sede => sede.id_sede === idSede);\r\n    return sedeActual;\r\n  }\r\n\r\n  onSort({ column, direction }: SortEvent) {\r\n    // resetting other headers\r\n    this.headers.forEach(header => {\r\n      if (header.sortable !== column) {\r\n        header.direction = '';\r\n      }\r\n    });\r\n\r\n    this.service.sortColumn = column;\r\n    this.service.sortDirection = direction;\r\n  }\r\n\r\n  /**\r\n   * Open center modal\r\n   * @param centerDataModalActualizar center modal data\r\n   */\r\n  centerModalActualizar(centerDataModalActualizar: any, venta: VentasModel) {\r\n    this.crearFormularioActualizar();\r\n    this.fechaVenta = new Date(Date.now());\r\n    /* venta.tipo_venta = venta.tipo_venta.sort((a,b)=> {\r\n      return  new Date(a.fecha_pago).getTime() - new Date(b.fecha_pago).getTime()\r\n    }); */\r\n    const user = {\r\n      nombre: venta.nombre_cliente,\r\n      deuda: venta.tipo_venta[0].deuda,\r\n      listDeudas: venta.tipo_venta\r\n    }\r\n    this.usuario = user;\r\n    this.venta.id_ventas = venta.id_ventas;\r\n    this.venta.id_cliente = venta.id_cliente;\r\n    this.tipoPago = venta.tipo_venta;\r\n    this.g(this.precioTotal_CreditoActualizacion).setValue((this.usuario.deuda).toFixed(2))\r\n    this.modalService.open(centerDataModalActualizar, { centered: true, windowClass: 'modal-holder' });\r\n    this.g(this.fechaVenta_CreditoActualizacion).setValue(this.fechaVenta.toLocaleDateString());\r\n  }\r\n  /**\r\n   * Close event modal\r\n   */\r\n  closeEventModal() {\r\n    /* this.formCreditoActualizacion = this.fb.group({\r\n      title: '',\r\n      category: '',\r\n    }); */\r\n    this.modalService.dismissAll();\r\n  }\r\n  /**\r\n   * Save the event\r\n   */\r\n  saveEvent() {\r\n    if (this.formCreditoActualizacion.valid) {\r\n\r\n    }\r\n    this.submitted_CreditoActualizacion = true;\r\n  }\r\n\r\n  crearFormulario() {\r\n    this.formDateRange = this.fb.group({\r\n      [this.fechaDesde]: [null, [Validators.required]],\r\n      [this.fechaHasta]: []\r\n    });\r\n\r\n    this.formSedes = this.fb.group({\r\n      [this.nombre_sedes]: [this.idSede]\r\n    })\r\n  }\r\n\r\n  crearFormularioActualizar() {\r\n    this.formCreditoActualizacion = this.fb.group({\r\n      [this.cantidadRecibida_CreditoActualizacion]: [null, [\r\n        Validators.required,\r\n        Validators.pattern(this.decimalPattern),\r\n      ]],\r\n      [this.fechaVenta_CreditoActualizacion]: [{ value: null, disabled: true }],\r\n      [this.usuario_CreditoActualizacion]: [null],\r\n      [this.precioTotal_CreditoActualizacion]: [{ value: null, disabled: true }],\r\n      [this.pago_CreditoActualizacion]: [{ value: null, disabled: true }],\r\n      [this.cambio_CreditoActualizacion]: [{ value: null, disabled: true }],\r\n      [this.observaciones_CreditoActualizacion]: [null],\r\n      [this.metodoPagoCreditoActualizacion]: [null, [\r\n        Validators.required\r\n      ]],\r\n\r\n    })\r\n  }\r\n\r\n\r\n  g(campo: any) {\r\n    return this.formCreditoActualizacion.get(campo);\r\n  }\r\n\r\n  updatePago(event: any) {\r\n    this.g(this.pago_CreditoActualizacion).setValue(this.g(this.cantidadRecibida_CreditoActualizacion).value);\r\n    const deuda = Number(round(this.g(this.cantidadRecibida_CreditoActualizacion).value - this.usuario.deuda, 1).toFixed(2));\r\n    this.g(this.cambio_CreditoActualizacion).setValue(Math.abs(deuda));\r\n  }\r\n\r\n  guardarActualizacionDeuda() {\r\n    if (this.formCreditoActualizacion.valid) {\r\n      this.venta.id_vendedor = this.usuarioService.getUser().id_usuario;\r\n      this.venta.nombre_vendedor = this.usuarioService.getUser().nombres + ' ' + this.usuarioService.getUser().apellidos;\r\n      this.venta.id_sede = this.usuarioService.getSedebyUser();\r\n      let deuda = 0;\r\n      deuda = round(this.tipoPago[0].deuda - this.g(this.cantidadRecibida_CreditoActualizacion).value, 1);\r\n      const pago: TipoVentaModel = {\r\n        forma_pago: \"credito\",\r\n        cantidad_recibida: Number(this.g(this.cantidadRecibida_CreditoActualizacion).value),\r\n        deuda: deuda,\r\n        cuotas: this.tipoPago[0].cuotas,\r\n        precio_total: this.tipoPago[0].precio_total,\r\n        metodo_pago: this.g(this.metodoPagoCreditoActualizacion).value,\r\n        fecha_pago: new Date(Date.now()),\r\n        observaciones: this.g(this.observaciones_CreditoActualizacion).value\r\n      }\r\n      let listPago: Array<TipoVentaModel> = [];\r\n\r\n      if (this.tipoPago.length + 1 == Number(this.tipoPago[0].cuotas) && deuda > 0) {\r\n        Sweetalert(\"error\", \"Es su ltima cuota, tiene que cancelar la totalidad\");\r\n        return\r\n      }\r\n      //controla que la cantidad recibida sea menor a la deuda\r\n      if (Number(this.g(this.cantidadRecibida_CreditoActualizacion).value > this.g(this.precioTotal_CreditoActualizacion).value)) {\r\n        Sweetalert(\"error\", \"El pago debe ser menor a la deuda\");\r\n        return\r\n      }\r\n\r\n      if (deuda <= 0) {\r\n        pago.deuda = 0;\r\n        listPago.push(pago);\r\n        listPago.push(...this.tipoPago)\r\n        this.venta.tipo_venta = listPago;\r\n        Swal.fire({\r\n          title: 'Est seguro que desea cancelar la totalidad de la deuda?',\r\n          text: 'No se podr revertir esto!',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#34c38f',\r\n          cancelButtonColor: '#f46a6a',\r\n          confirmButtonText: 'Si, cancelar deuda!'\r\n        }).then(result => {\r\n          if (result.value) {\r\n            Sweetalert(\"loading\", \"Cargando...\");\r\n            this.ventasService.updatePagoCuotas(this.venta.id_ventas, this.venta).subscribe(res => {\r\n              Sweetalert(\"close\", null);\r\n              Sweetalert(\"success\", \"Venta completada\");\r\n              this.modalService.dismissAll();\r\n              this.updateListVentas();\r\n            }, error => {\r\n              Sweetalert(\"close\", null);\r\n              Sweetalert(\"error\", \"Error en la conexin\");\r\n            },\r\n            );\r\n          }\r\n          else if (\r\n\r\n            result.dismiss === Swal.DismissReason.cancel\r\n          ) {\r\n            Swal.fire(\r\n              'Cancelado',\r\n              'Venta no eliminada',\r\n              'error'\r\n            );\r\n          }\r\n        }\r\n        );\r\n      } else {\r\n        listPago.push(pago);\r\n        listPago.push(...this.tipoPago)\r\n        this.venta.tipo_venta = listPago;\r\n        this.ventasService.updatePagoCuotas(this.venta.id_ventas, this.venta).subscribe(res => {\r\n          this.modalService.dismissAll();\r\n          this.updateListVentas();\r\n        })\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  f(campo: any) {\r\n    return this.formDateRange.get(campo);\r\n  }\r\n\r\n  filterDateRange() {\r\n    if (this.formDateRange.valid) {\r\n      this.idSede = this.fS(this.nombre_sedes).value;\r\n      let fechaIni = new Date(this.f(this.fechaDesde).value + 'T00:00');\r\n      let fechaFin: Date;\r\n      if (this.f(this.fechaHasta).value != null) {\r\n        fechaFin = new Date(this.f(this.fechaHasta).value + 'T23:59');\r\n      } else {\r\n        fechaFin = new Date(Date.now());\r\n        fechaFin.setHours(23, 59, 0)\r\n      }\r\n      //fechaIni.setDate(fechaIni.getDate() - 1)\r\n      /* fechaFin.setDate(fechaFin.getDate() + 1)\r\n      fechaIni.setHours(0,0,0);\r\n      fechaFin.setHours(23,59,0) */\r\n      this.ventasService.getVentasByDate(fechaIni, fechaFin, this.idSede).subscribe(res => {\r\n        this.service.updateTable(res);\r\n      })\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  eliminar(data: VentasModel) {\r\n    Swal.fire({\r\n      title: 'Est seguro que desea eliminar la venta?',\r\n      text: 'No se podr revertir esto!',\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#34c38f',\r\n      cancelButtonColor: '#f46a6a',\r\n      confirmButtonText: 'Si, eliminar!'\r\n    }).then(result => {\r\n      if (result.value) {\r\n        Sweetalert(\"loading\", \"Cargando...\");\r\n        this.ventasService.darBajaVenta(data.id_ventas).subscribe(res => {\r\n          Sweetalert(\"close\", null);\r\n          Sweetalert(\"success\", \"Venta eliminada\");\r\n          this.updateListVentas();\r\n        }, error => {\r\n          Sweetalert(\"close\", null);\r\n          Sweetalert(\"error\", \"Error en la conexin\");\r\n        },\r\n        );\r\n      }\r\n      else if (\r\n        /* Read more about handling dismissals below */\r\n        result.dismiss === Swal.DismissReason.cancel\r\n      ) {\r\n        Swal.fire(\r\n          'Cancelado',\r\n          'Venta no eliminada',\r\n          'error'\r\n        );\r\n      }\r\n    }\r\n    );\r\n  }\r\n\r\n  updateListVentas() {\r\n    this.ventasService.getVentasbySede(this.idSede).subscribe(res => {\r\n      this.service.updateTable(res);\r\n    })\r\n  }\r\n\r\n  createPDF(venta: VentasModel) {\r\n    this.customerService.getAllClientbyId(venta.id_cliente).subscribe((res: CustomersModel) => {\r\n      let tmp = Object.assign({},res[0],venta);\r\n      const {direccion: direccionCliente,telefono:telefonoCliente, ...rest} = tmp; \r\n      const updatedObject = { direccionCliente,telefonoCliente, ...rest };\r\n      const objPDF = Object.assign({},updatedObject,this.sedeActual)\r\n      this.ventaService.getPDF(objPDF).subscribe(res =>{\r\n        const byteArray = new Uint8Array(\r\n          atob(res)\r\n            .split(\"\")\r\n            .map(char => char.charCodeAt(0))\r\n        );\r\n\r\n\r\n        const blob = new Blob([byteArray], {type:'application/pdf'});\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement(\"a\");\r\n        a.style.display = 'none';\r\n        document.body.appendChild(a);\r\n        a.href = url;\r\n        a.download = \"venta\";\r\n        a.click();\r\n      }) \r\n    })\r\n  }\r\n\r\n\r\n\r\n  async generatePDF(venta: VentasModel, cliente: CustomersModel) {\r\n    var fonts = {\r\n      Roboto: {\r\n        normal: 'fonts/Roboto-Regular.ttf',\r\n        bold: 'fonts/Roboto-Medium.ttf',\r\n        italics: 'fonts/Roboto-Italic.ttf',\r\n        bolditalics: 'fonts/Roboto-MediumItalic.ttf'\r\n      },\r\n    };\r\n\r\n    var estadoBoleta = \"Pagado\"\r\n    var fecha_hoy = new Date(venta.fecha_creacion_venta).toLocaleDateString('en-GB');\r\n    //var fecha_hoy = new Date (Date.now()).toLocaleDateString('en-GB');\r\n    var fecha_entrega = new Date(venta.fecha_creacion_venta).toLocaleDateString(\"es-CL\", {\r\n      weekday: \"long\", // narrow, short\r\n      year: \"numeric\", // 2-digit\r\n      month: \"long\", // numeric, 2-digit, narrow, long\r\n      day: \"numeric\" // 2-digit\r\n    });\r\n    var hora_entrega = new Date(venta.fecha_creacion_venta).toLocaleTimeString(\"es-CL\", {\r\n      timeZone: \"America/Bogota\",\r\n      hour12: true, // false\r\n      hour: \"numeric\", // 2-digit\r\n      minute: \"2-digit\", // numeric\r\n      second: \"2-digit\" // numeric\r\n    });\r\n\r\n\r\n    var simboloNuevoSol = 'S/. ';\r\n    //var numeroBoleta = '0000418';\r\n    var propietarioEmpresa = 'Ral J. Condori Ramos'\r\n    // var sedeEmpresa = venta.id_sede;\r\n    var direccionEmpresa = this.sedeActual.direccion;\r\n    var felefonoEmpresa = this.sedeActual.telefono;\r\n    var rucEmpresa = this.sedeActual.ruc;\r\n    var primeraNota = 'Todo trabajo se efectuara con un adelanto del 50%.';\r\n    var segundaNota = 'La empresa no se responsabiliza de los pedidos no recogidos despus de un mes.';\r\n\r\n\r\n    var nombresCliente = cliente.nombres;\r\n    var apellidosCliente = cliente.apellidos;\r\n    var dniCliente = cliente.dni ? cliente.dni : \"Sin especificar.\";;\r\n    // var fnacimientoCliente = cliente.fecha_nacimiento ? new Date(cliente.fecha_nacimiento).toLocaleDateString('en-GB') : \"Sin especificar.\";\r\n    var direccionCliente = cliente.direccion ? cliente.direccion : \"Sin especificar.\";\r\n    // var telefonoCliente = cliente.telefono ? cliente.telefono : \"Sin especificar.\";\r\n\r\n    var od_esf_Cliente = cliente.medidas[0].od_esferico > 0? '+'+cliente.medidas[0].od_esferico.toFixed(2): cliente.medidas[0].od_esferico.toFixed(2) ;\r\n    var od_cil_Cliente = cliente.medidas[0].od_cilindrico > 0 ? '+'+cliente.medidas[0].od_cilindrico.toFixed(2) : cliente.medidas[0].od_cilindrico.toFixed(2);\r\n    var od_eje_Cliente = cliente.medidas[0].od_eje;\r\n\r\n    var oi_esf_Cliente = cliente.medidas[0].oi_esferico > 0? '+'+cliente.medidas[0].oi_esferico.toFixed(2): cliente.medidas[0].oi_esferico.toFixed(2) ;\r\n    var oi_cil_Cliente = cliente.medidas[0].oi_cilindrico > 0 ? '+'+cliente.medidas[0].oi_cilindrico.toFixed(2) : cliente.medidas[0].oi_cilindrico.toFixed(2);\r\n    var oi_eje_Cliente = cliente.medidas[0].oi_eje;\r\n\r\n    var dip_Cliente = cliente.medidas[0].dip;\r\n    var add_Cliente = cliente.medidas[0].add > 0 ? '+'+cliente.medidas[0].add.toFixed(2): cliente.medidas[0].add.toFixed(2)\r\n\r\n    var externalDataRetrievedFromServer = [];\r\n    // var peruIGV = 0.18;\r\n\r\n    function buildData() {\r\n      var numOrdenItems = 0;\r\n      var totalMonturas, totallunas, totalAccesorios = 0;\r\n      var subTotal = 0;\r\n\r\n      // Monturas\r\n      if (venta.list_monturas.length > 0) {\r\n        for (var i = 0; i < venta.list_monturas.length; i++) {\r\n          numOrdenItems += 1;\r\n          totalMonturas = venta.list_monturas[i].precio_montura_v * venta.list_monturas[i].cant_vendida;\r\n          subTotal += totalMonturas;\r\n          externalDataRetrievedFromServer.push({ num_orden: numOrdenItems, detalle: venta.list_monturas[i].marca +' Cd. int.: '+ venta.list_monturas[i].codigo + ' Color: ' + venta.list_monturas[i].color, precio: venta.list_monturas[i].precio_montura_v, cantidad: venta.list_monturas[i].cant_vendida, total: totalMonturas },) // Aade\r\n        }\r\n      }\r\n\r\n      // Lunas\r\n      if (venta.list_lunas.length > 0) {\r\n        for (var i = 0; i < venta.list_lunas.length; i++) {\r\n          numOrdenItems += 1;\r\n          totallunas = venta.list_lunas[i].precio_luna_v * venta.list_lunas[i].cant_vendida;\r\n          subTotal += totallunas;\r\n          externalDataRetrievedFromServer.push({ num_orden: numOrdenItems, detalle: venta.list_lunas[i].material, precio: venta.list_lunas[i].precio_luna_v, cantidad: venta.list_lunas[i].cant_vendida, total: totallunas },) // Aade\r\n        }\r\n      }\r\n\r\n      // Accesorios\r\n      if (venta.list_accesorios.length > 0) {\r\n        for (var i = 0; i < venta.list_accesorios.length; i++) {\r\n          numOrdenItems += 1;\r\n          totalAccesorios = venta.list_accesorios[i].precio_accesorio_v * venta.list_accesorios[i].cant_vendida;\r\n          subTotal += totalAccesorios;\r\n          externalDataRetrievedFromServer.push({ num_orden: numOrdenItems, detalle: venta.list_accesorios[i].nombre_accesorio, precio: venta.list_accesorios[i].precio_accesorio_v, cantidad: venta.list_accesorios[i].cant_vendida, total: totalAccesorios },) // Aade\r\n        }\r\n      }\r\n      return subTotal;\r\n    }\r\n\r\n    function buildTableBody(data, columns, subtotal) {\r\n      var body = [];\r\n\r\n      body.push([{ text: 'No.', style: 'title', alignment: 'center', fillColor: '#d8e3fc', margin: [0, 3, 0, 3]}, { text: 'Detalle',  style: 'title', alignment: 'center', fillColor: '#d8e3fc', margin: [0, 3, 0, 3]}, { text: 'P. Unit.',  style: 'title', alignment: 'center', fillColor: '#d8e3fc', margin: [0, 3, 0, 3]}, { text: 'Cant.',  style: 'title', alignment: 'center', fillColor: '#d8e3fc', margin: [0, 3, 0, 3] }, { text: 'Importe',  style: 'title', alignment: 'center', fillColor: '#d8e3fc', margin: [0, 3, 0, 3] }]);\r\n\r\n      data.forEach(function (row) {\r\n        var dataRow = [];\r\n\r\n        columns.forEach(function (column) {\r\n          if (column === 'num_orden') {\r\n            dataRow.push({ text: row[column].toString(), style: 'text', alignment: 'center', margin: [0, 2, 0, 2] },);\r\n          } else if (column === 'detalle'){\r\n            dataRow.push({ text: row[column].toString(), style: 'text', alignment: 'left', margin: [0, 2, 0, 2] },);\r\n          } else {\r\n            dataRow.push({ text: row[column].toString(), style: 'text', alignment: 'right', margin: [0, 2, 0, 2] },);\r\n          }\r\n        })\r\n\r\n        body.push(dataRow);\r\n      });\r\n\r\n      /* var totalIGV = round(subtotal * peruIGV, 2);\r\n      var total = round(subtotal + totalIGV, 1);  */\r\n\r\n      var total = round(subtotal, 1);\r\n\r\n      /* body.push([{ text: ' ', rowSpan: 3, colSpan: 2}, { }, {text: 'Sub. Total:', style: 'tableHeader', alignment: 'right', colSpan: 2 }, { }, { text: simboloNuevoSol + subtotal, style: 'contenido', alignment: 'right' }]);\r\n      body.push([{ }, { }, { text: 'IGV (18%) :', style: 'tableHeader', alignment: 'right', colSpan: 2}, { }, { text: simboloNuevoSol + totalIGV, style: 'contenido', alignment: 'right' }]); */\r\n      /* body.push([{ text: '', borderColor: ['#FFFFFF', , , '#FFFFFF'], colSpan: 3 }, {  }, {  }, { text: 'Total:', style: 'tableHeader', alignment: 'right' }, { text: simboloNuevoSol + total, style: 'contenido', alignment: 'right' }]); */\r\n      body.push([{ text: '', border: [false, false, false, false], colSpan: 2 }, {}, { text: 'Total:', style: 'title', alignment: 'right', colSpan: 2, margin: [0, 2, 0, 2] }, {}, { text: simboloNuevoSol + total, style: 'title', alignment: 'right', margin: [0, 2, 0, 2] }]);\r\n\r\n      return body;\r\n    }\r\n\r\n    function table(data, columns) {\r\n      var subtotal = buildData();\r\n      return {\r\n        style: 'tableBasic',\r\n        color: '#444',\r\n        table: {\r\n          widths: [25, '*', 45, 35, 55],\r\n          headerRows: 1,\r\n          body: buildTableBody(data, columns, subtotal)\r\n        }\r\n      };\r\n    }\r\n\r\n    function estadoBoletaFunc(estado) {\r\n      return {\r\n        text: estado, background: 'yellow'\r\n      };\r\n    }\r\n\r\n\r\n    const pdfDefinition: any = {\r\n      pageSize: 'A4',\r\n      //pageOrientation: 'landscape',\r\n      pageMargins: [ 40, 10, 40, 10 ], // left, top, right, botton\r\n      content: [\r\n\r\n        // LOGO y DATOS DE LA EMPRESA\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: [340, '*'],\r\n            body: [\r\n              [\r\n                [\r\n                  {\r\n                    table: {\r\n                      widths: ['*'],\r\n                      body: [\r\n                         [{ image: \"data:image/png;base64,\", width: 230}],\r\n                        //[{ image: 'MyImage', width: 230}],\r\n                        [{ text: 'De ' + propietarioEmpresa, alignment: 'center' }],\r\n                      ]\r\n                    },\r\n                    layout: {\r\n                      defaultBorder: false,\r\n                    }\r\n                  },\r\n                ],             \r\n                [\r\n                  {\r\n                    table: {\r\n                      widths: ['*'],\r\n                      body: [\r\n                        [{ text: 'R.U.C. ' + rucEmpresa, style: 'title',alignment: 'center', margin: [0, 6, 0, 6] }],\r\n                        [{ text: 'BOLETA DE VENTA' , style: 'title2', alignment: 'center' , fillColor: '#2D4497', fillOpacity: 0.80, margin: [0, 6, 0, 6] }],\r\n                        //[{ text: '001- N ' + numeroBoleta, style: 'title', color: 'red', alignment: 'center', margin: [0, 6, 0, 6] }],\r\n                      ]\r\n                    },\r\n                  },\r\n                ],\r\n              ]\r\n            ]\r\n          },\r\n          layout: {\r\n            defaultBorder: false,\r\n          }\r\n        },\r\n\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: ['*', '*'],\r\n            body: [\r\n              [{ text: direccionEmpresa, style: 'header', fillColor: '#2D4497', fillOpacity: 0.80}, { text: 'Cel: ' + felefonoEmpresa,  style: 'header', fillColor: '#2D4497', fillOpacity: 0.80 }],\r\n            ]\r\n          },\r\n          layout: {\r\n            defaultBorder: false,\r\n          }\r\n        },\r\n\r\n\r\n        // DATOS DEL CLIENTE\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: ['*', '*'],\r\n            body: [\r\n              [{ text: 'Seor(a): ' + nombresCliente + apellidosCliente, style: 'title', alignment: 'left', Span: 1 }, { }],\r\n              [{ text: 'Direccin: ' + direccionCliente, style: 'text', alignment: 'left'}, { text: 'DNI: ' + dniCliente, style: 'text', alignment: 'left'}],\r\n            ]\r\n          },\r\n          layout: {\r\n            vLineWidth: function (i, node) {\r\n              return (i === 0 || i === node.table.widths.length) ? 1 : 0;\r\n            },\r\n          }\r\n        },\r\n\r\n        // RESUMEN DEL PEDIDO\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: [150],\r\n            heights: [15],\r\n            body: [\r\n              [{ text: 'RESUMEN DEL PEDIDO: ', style: 'title2', alignment: 'left' , fillColor: '#2D4497', fillOpacity: 0.80 } ],\r\n            ]\r\n          },\r\n          layout: {\r\n            defaultBorder: false,\r\n            paddingLeft: function(i, node) { return 10; },\r\n          }\r\n        },\r\n\r\n\r\n        table(externalDataRetrievedFromServer, ['num_orden', 'detalle', 'precio', 'cantidad', 'total']),\r\n\r\n        // DETALLE DE LA MEDIDA\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: [150],\r\n            heights: [15],\r\n            body: [\r\n              [{ text: 'DETALLE DE LA MEDIDA: ', style: 'title2', alignment: 'left' , fillColor: '#2D4497', fillOpacity: 0.80 } ],\r\n            ]\r\n          },\r\n          layout: {\r\n            defaultBorder: false,\r\n            paddingLeft: function(i, node) { return 10; },\r\n          }\r\n        },\r\n\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: ['*', '*', '*', '*', '*', '*'],\r\n            heights: [15, 15, 15],\r\n            headerRows: 2,\r\n            body: [\r\n              [{ text: 'REF.', style: 'title', alignment: 'center', margin: [0, 2, 0, 2] }, { text: 'ESF.'        , style: 'title', alignment: 'center', margin: [0, 2, 0, 2]}, { text: 'CIL.'        , style: 'title', alignment: 'center', margin: [0, 2, 0, 2] }, { text: 'EJE.'        , style: 'title', alignment: 'center', margin: [0, 2, 0, 2] }, { text: 'AV.', style: 'title', alignment: 'center', margin: [0, 2, 0, 2] }, { text: 'DIP.'     , style: 'title', alignment: 'center', margin: [0, 2, 0, 2] }],\r\n              [{ text: 'O.D.', style: 'title', alignment: 'center', margin: [0, 1, 0, 1] }, { text: od_esf_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1]}, { text: od_cil_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }, { text: od_eje_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }, { text: ''   , style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }, { text: dip_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }],\r\n              [{ text: 'O.I.', style: 'title', alignment: 'center', margin: [0, 1, 0, 1] }, { text: oi_esf_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1]}, { text: oi_cil_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }, { text: oi_eje_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }, { text: ''   , style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }, { text: dip_Cliente, style: 'text' , alignment: 'center', margin: [0, 1, 0, 1] }],\r\n            ]\r\n          },\r\n          layout: {\r\n            fillColor: function (rowIndex) {\r\n              return (rowIndex === 0) ? '#d8e3fc' : null;\r\n            }\r\n          }\r\n        },\r\n\r\n        // VISION DE CERCA \r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: [150, '*', 150],\r\n            heights: [15],\r\n            body: [\r\n              [\r\n                { text: 'VISIN DE CERCA: ', alignment: 'left', style: 'title2', fillColor: '#2D4497', fillOpacity: 0.80},\r\n                [\r\n                  {\r\n                    table: {\r\n                      widths: ['auto', '*'],\r\n                      body: [\r\n                        [ \r\n                          { text: 'ADD.', style: 'title', alignment: 'center', fillColor: '#d8e3fc'},\r\n                          { text: add_Cliente, style: 'text', alignment: 'center' }\r\n                        ],\r\n                      ]\r\n                    },\r\n                  },\r\n                ],\r\n                { }\r\n              ]\r\n            ]\r\n          },\r\n          layout: {\r\n            defaultBorder: false,\r\n            paddingLeft: function(i, node) { return 10; },\r\n          }\r\n        },\r\n\r\n\r\n\r\n        // FECHA DE ENTREGA\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: [140, '*', 50, 'auto'],\r\n            body: [\r\n              [{ text: 'FECHA DE ENTREGA: ', style: 'title2', alignment: 'left', fillColor: '#2D4497', fillOpacity: 0.80 }, {text: fecha_entrega, style: 'text', alignment: 'left', margin: [0, 1, 0, 1] }, { text: 'HORA: ', style: 'title2', alignment: 'left', fillColor: '#2D4497', fillOpacity: 0.80 }, {text: hora_entrega, style: 'text', alignment: 'left', margin: [0, 1, 0, 1] } ],\r\n            ]\r\n          },\r\n          layout: {\r\n            defaultBorder: false,\r\n            paddingLeft: function(i, node) { return 10; },\r\n          }\r\n        },\r\n\r\n        // NOTAS\r\n        {\r\n          style: 'tableBasic',\r\n          table: {\r\n            widths: [350, '*'],\r\n            body: [\r\n              [{ text: 'NOTA: ', color: '#2D4497', style: 'subtitle', alignment: 'left' }, { } ],\r\n              [{ text: primeraNota, color: '#2D4497', style: 'small', alignment: 'left' }, { }],\r\n              [{ text: segundaNota, color: '#2D4497', style: 'small', alignment: 'left' }, { }],\r\n            ]\r\n          },\r\n          layout: {\r\n            defaultBorder: false,\r\n          }\r\n        },\r\n\r\n      ],\r\n      styles: {\r\n\r\n        header: {\r\n          fontSize: 15,\r\n          bold: true,\r\n          color: 'white',\r\n          alignment: 'center',\r\n          margin: [0, 0, 0, 0],\r\n        },\r\n\r\n        title: {\r\n          fontSize: 13,\r\n          bold: true,\r\n          color: '#2D4497',\r\n          margin: [0, 0, 0, 0],\r\n        },\r\n\r\n        title2: {\r\n          fontSize: 13,\r\n          bold: true,\r\n          color: 'white',\r\n          margin: [0, 0, 0, 0],\r\n        },\r\n\r\n        subtitle: {\r\n          fontSize: 12,\r\n          bold: true,\r\n          color: '#2D4497',\r\n          margin: [0, 0, 0, 0],\r\n        },\r\n\r\n        text: {\r\n          fontSize: 11,\r\n          color: '#2D4497',\r\n          margin: [0, 0, 0, 0],\r\n        },\r\n\r\n        small: {\r\n          fontSize: 9,\r\n          color: '#2D4497',\r\n          margin: [0, 0, 0, 0],\r\n        },\r\n\r\n        tableBasic: {\r\n          color: '#2D4497',\r\n          margin: [0, 5, 0, 5],\r\n        },\r\n\r\n      },\r\n\r\n    }\r\n\r\n    const pdf = pdfMake.createPdf(pdfDefinition);\r\n    pdf.open();\r\n  }\r\n\r\n  fS(campo: string) {\r\n    return this.formSedes.get(campo);\r\n  }\r\n\r\n  changeSedes() {\r\n    this.idSede = this.fS(this.nombre_sedes).value;\r\n    this.getListVentas(this.idSede);\r\n    this.sedeActual = this.getSedeActual(this.idSede,this.listSedes);\r\n  }\r\n\r\n  getListVentas(sede: string) {\r\n    this.ventasService.getVentasbySede(sede).subscribe(res => {\r\n      this.service.updateTable(res)\r\n    })\r\n  }\r\n\r\n  exportarVentas() {\r\n    if (this.formSedes.valid && this.formDateRange.valid) {\r\n      let data = [];\r\n      const EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n      const EXCEL_EXTENSION = '.xlsx';\r\n      this.idSede = this.fS(this.nombre_sedes).value;\r\n      let fechaIni = new Date(this.f(this.fechaDesde).value + 'T00:00');\r\n      let fechaFin: Date;\r\n      if (this.f(this.fechaHasta).value != null) {\r\n        fechaFin = new Date(this.f(this.fechaHasta).value + 'T23:59');\r\n      } else {\r\n        fechaFin = new Date(Date.now());\r\n        fechaFin.setHours(23, 59, 0)\r\n      }\r\n      let monturas ={};\r\n      let lunas ={};\r\n      let accesorios ={};\r\n\r\n      \r\n\r\n      this.ventaService.getVentasByDate(fechaIni, fechaFin, this.idSede).subscribe(res => {\r\n        this.excelVentas = res;\r\n        \r\n        data = this.excelVentas.map((ventas: VentasModel) => {\r\n\r\n          let monturasTemp = {};\r\n          let lunasTemp = {};\r\n          let accesoriosTemp = {};\r\n\r\n          for(var ind = 0; ind < ventas.list_monturas.length; ind++){\r\n            monturasTemp[`MONT ${(ind+1)} CODIGO`] = ventas.list_monturas[ind].codigo\r\n            monturasTemp[`MONT ${(ind+1)} P VENTA`] = ventas.list_monturas[ind].precio_montura_v\r\n            monturasTemp[`MONT ${(ind+1)} P COMPRA`] = ventas.list_monturas[ind].precio_montura_c\r\n            monturasTemp[`MONT ${(ind+1)} CANT VENDIDA`] = ventas.list_monturas[ind].cant_vendida\r\n            monturasTemp[`MONT ${(ind+1)} MARCA`] = ventas.list_monturas[ind].marca\r\n            monturasTemp[`MONT ${(ind+1)} MATERIAL`] = ventas.list_monturas[ind].material\r\n            monturasTemp[`MONT ${(ind+1)} COLOR`] = ventas.list_monturas[ind].color\r\n          }\r\n          monturas = {...monturasTemp};\r\n          for(var ind = 0; ind < ventas.list_lunas.length; ind++){\r\n            lunasTemp[`LUN ${(ind+1)} P VENTA`] = ventas.list_lunas[ind].precio_luna_v\r\n            lunasTemp[`LUN ${(ind+1)} P COMPRA`] = ventas.list_lunas[ind].precio_luna_c\r\n            lunasTemp[`LUN ${(ind+1)} CANT VENDIDA`] = ventas.list_lunas[ind].cant_vendida\r\n            lunasTemp[`LUN ${(ind+1)} MATERIAL`] = ventas.list_lunas[ind].material\r\n          }\r\n          lunas = {...lunasTemp};\r\n          for(var ind = 0; ind < ventas.list_accesorios.length; ind++){\r\n            accesoriosTemp[`LUN ${(ind+1)} P VENTA`] = ventas.list_accesorios[ind].precio_accesorio_v\r\n            accesoriosTemp[`LUN ${(ind+1)} P COMPRA`] = ventas.list_accesorios[ind].precio_accesorio_c\r\n            accesoriosTemp[`LUN ${(ind+1)} CANT VENDIDA`] = ventas.list_accesorios[ind].cant_vendida\r\n            accesoriosTemp[`LUN ${(ind+1)} NOMBRE`] = ventas.list_accesorios[ind].nombre_accesorio\r\n          }\r\n          accesorios = {...accesoriosTemp};\r\n\r\n          if (ventas.hasOwnProperty(\"medidas\")) {\r\n            return Object.assign({},{\r\n              \"FECHA\": new Date(ventas.fecha_creacion_venta).toLocaleDateString('en-GB'),\r\n              \"NOMBRE CLIENTE\": ventas.nombre_cliente,\r\n              //\"ACCESORIOS\": JSON.stringify(accesorios),\r\n              //\"LUNAS\": JSON.stringify(lunas),\r\n              //\"MONTURAS\": JSON.stringify(monturas),\r\n              \"TOTAL\": ventas.tipo_venta[0].precio_total == 0 ? \"+0.00\": ventas.tipo_venta[0].precio_total ,\r\n              \"ESF D\": ventas.medidas[0].od_esferico == 0? \"+0.00\": ventas.medidas[0].od_esferico,\r\n              \"CYL D\": ventas.medidas[0].od_cilindrico == 0 ? \"+0.00\" : ventas.medidas[0].od_cilindrico,\r\n              \"EJE D\": ventas.medidas[0].od_eje == 0 ? \"+0.00\" : ventas.medidas[0].od_eje,\r\n              \"ESF I\": ventas.medidas[0].oi_esferico == 0 ? \"+0.00\" : ventas.medidas[0].oi_esferico,\r\n              \"CYL I\": ventas.medidas[0].oi_cilindrico == 0 ? \"+0.00\" : ventas.medidas[0].oi_cilindrico,\r\n              \"EJE I\": ventas.medidas[0].oi_eje == 0 ? \"+0.00\" : ventas.medidas[0].oi_eje,\r\n              \"DIP\": ventas.medidas[0].dip == 0 ? \"+0.00\" : ventas.medidas[0].dip,\r\n              \"ADD\": ventas.medidas[0].add == 0 ? \"+0.00\" : ventas.medidas[0].add,\r\n              \"USUARIO\": ventas.nombre_vendedor.toUpperCase(),\r\n              \"VENDEDOR\": ventas.nombre_jalador ? ventas.nombre_jalador.toUpperCase() : null,\r\n              \"ENCARGADO MEDICION\": ventas.encargado_medicion ? ventas.encargado_medicion.toUpperCase() : null,\r\n              \"FORMA DE PAGO\": ventas.tipo_venta[0].forma_pago.toUpperCase(),\r\n              \"ESTADO\": ventas.tipo_venta[0].deuda > 0 ? \"DEUDA\" : \"PAGADO\"\r\n            },monturas,lunas,accesorios)\r\n          } else {\r\n            return Object.assign({},{\r\n              \"FECHA\": new Date(ventas.fecha_creacion_venta).toLocaleDateString('en-GB'),\r\n              \"NOMBRE CLIENTE\": ventas.nombre_cliente,\r\n              //\"ACCESORIOS\": JSON.stringify(accesorios),\r\n              //\"LUNAS\": JSON.stringify(lunas),\r\n              //\"MONTURAS\": JSON.stringify(monturas),\r\n              \"TOTAL\": ventas.tipo_venta[0].precio_total == 0 ? \"+0.00\": ventas.tipo_venta[0].precio_total ,\r\n              \"USUARIO\": ventas.nombre_vendedor.toUpperCase(),\r\n              \"VENDEDOR\": ventas.nombre_jalador ? ventas.nombre_jalador.toUpperCase() : null,\r\n              \"ENCARGADO MEDICION\": ventas.encargado_medicion ? ventas.encargado_medicion.toUpperCase() : null,\r\n              \"FORMA DE PAGO\": ventas.tipo_venta[0].forma_pago,\r\n              \"ESTADO\": ventas.tipo_venta[0].deuda > 0 ? \"DEUDA\" : \"PAGADO\",\r\n            },monturas,lunas,accesorios )\r\n          }\r\n\r\n        });\r\n\r\n        const worksheet = XLSX.utils.json_to_sheet(data);\r\n        const workbook = {\r\n          Sheets: {\r\n            'hoja': worksheet\r\n          },\r\n          SheetNames: ['hoja']\r\n        }\r\n\r\n        const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n        const blobData = new Blob([excelBuffer], { type: EXCEL_TYPE });\r\n        const nombreSede = this.listSedes.find(res => (res.id_sede == this.fS(this.nombre_sedes).value));\r\n        saveFile(blobData, 'ventas' + '_' + nombreSede.nombre_sede);\r\n      })\r\n\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n","<div class=\"container-fluid\">\r\n\r\n  <app-page-title title=\"Ventas\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6 mb-2\">\r\n      <div class=\"form-inline\">\r\n        <div class=\"search-box ml-2\">\r\n          <div class=\"position-relative\">\r\n            <input type=\"text\" class=\"form-control border-light rounded\" placeholder=\"Buscar venta\" name=\"searchTerm\"\r\n            aria-controls=\"tickets-table\" [(ngModel)]=\"service.searchTerm\">\r\n            <i class=\"uil uil-search search-icon\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6 mb-2\">\r\n      <div>\r\n        <div class=\"btn-toolbar\" role=\"toolbar\">\r\n          <div class=\"col-12 col-md-6 d-grid mb-2 chat-search-box px-1\" *appRole=\"role\">\r\n            <form [formGroup]=\"formSedes\">\r\n              <div ngbDropdown>\r\n                <ng-select [items]=\"listSedes\" placeholder=\"Seleccione la sede\" bindValue=\"id_sede\"\r\n                  bindLabel=\"nombre_sede\" formControlName=\"{{this.nombre_sedes}}\" (change)=\"changeSedes()\">\r\n                </ng-select>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"col-12 col-md-6 d-grid\" *appRole=\"role\">\r\n            <div class=\"btn-group mb-2\">\r\n              <input type=\"button\" class=\"btn btn-primary btn-block\" value=\"Descargar Archivo\" [disabled]=\"!formDateRange.valid\"\r\n                (click)=\"exportarVentas()\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n<div class=\"row md-2\">\r\n  <div class=\"col-md-6 d-grid mb-2 chat-search-box px-1\" *appRole=\"role\">\r\n    <div class=\"position-relative\">\r\n      <form [formGroup]=\"formDateRange\">\r\n        <div class=\"input-daterange input-group\">\r\n          <input type=\"date\" class=\"form-control\" id=\"billing-fechanacimiento\"\r\n          placeholder=\"Seleccione la fecha\" formControlName=\"{{this.fechaDesde}}\" />\r\n          <input type=\"date\" class=\"form-control\" id=\"billing-fechanacimiento\"\r\n          placeholder=\"Seleccione la fecha\" formControlName=\"{{this.fechaHasta}}\" />\r\n          <button type=\"button\" class=\"btn btn-primary\" (click)=\"filterDateRange()\"><i\r\n              class=\"mdi mdi-filter-variant\"></i></button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-6\">\r\n    <div class=\"dataTables_length text-md-end\"><label class=\"d-inline-flex align-items-center\">Mostrar<select name=\"pageSize\"\r\n          [(ngModel)]=\"service.pageSize\"\r\n          class=\"custom-select custom-select-sm form-control form-control-sm form-select form-select-sm\">\r\n          <option [ngValue]=\"10\">10</option>\r\n          <option [ngValue]=\"25\">25</option>\r\n          <option [ngValue]=\"50\">50</option>\r\n          <option [ngValue]=\"100\">100</option>\r\n        </select> entradas</label></div>\r\n  </div>\r\n</div>\r\n\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div>\r\n        <div class=\"table-responsive mb-4\">\r\n            <form>\r\n              <table class=\"table datatables table-centered table-nowrap mb-0 align-middle table-card-list\"style=\"border-spacing: 0 12px; width: 100%;\">\r\n                <thead>\r\n                  <tr class=\"bg-transparent\">\r\n                    <th scope=\"col\" sortable=\"orden\" (sort)=\"onSort($event)\">Ord.</th>\r\n                    <th scope=\"col\" sortable=\"fecha_creacion_venta\" (sort)=\"onSort($event)\">Fecha</th>\r\n                    <th scope=\"col\" sortable=\"nombre_cliente\" (sort)=\"onSort($event)\">Nombre del Cliente</th>\r\n                    <th scope=\"col\" sortable=\"\" (sort)=\"onSort($event)\">Total</th>\r\n                    <th scope=\"col\" sortable=\"nombre_vendedor\" (sort)=\"onSort($event)\">Vendedor</th>\r\n                    <th scope=\"col\" sortable=\"\" (sort)=\"onSort($event)\">Estado de Pago</th>\r\n                    <th scope=\"col\" sortable=\"\" (sort)=\"onSort($event)\">Descargar Pdf</th>\r\n                    <th style=\"width: 170px;\">Accin</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n\r\n                  <tr *ngFor=\"let data of transactions$ | async; let i = index\" class=\"odd\">\r\n\r\n                    <td>\r\n                      <ngb-highlight [result]=\"(i+1) + (service.page-1)*service.pageSize\" [term]=\"service.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.fecha_creacion_venta| date: 'dd/MM/yyyy'\"\r\n                        [term]=\"service.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <div class=\"avatar-xs d-inline-block me-2\">\r\n                        <span class=\"avatar-title rounded-circle bg-light text-body\">\r\n                          {{data.nombre_cliente.charAt(0)}}\r\n                        </span>\r\n                      </div>\r\n                      <ngb-highlight [result]=\"data.nombre_cliente.toUpperCase()\" [term]=\"service.searchTerm\"></ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.tipo_venta[0].precio_total | currency:'S/ '\" [term]=\"service.searchTerm\">\r\n                      </ngb-highlight>\r\n                    </td>\r\n                    <td>\r\n                      <ngb-highlight [result]=\"data.nombre_vendedor.toUpperCase()\" [term]=\"service.searchTerm\">\r\n                      </ngb-highlight>\r\n                    </td>\r\n                    <td *ngIf=\"data.tipo_venta[0].deuda>0\">\r\n                      <span class=\"text-danger\">Deuda &nbsp;</span>\r\n                      <span class=\"badge rounded-pill bg-soft-success font-size-12\"\r\n                        [ngClass]=\" { 'bg-soft-danger': data.tipo_venta[0].deuda > 0}\">\r\n                        {{data.tipo_venta[0].deuda}}\r\n                      </span>\r\n                    </td>\r\n                    <td *ngIf=\"data.tipo_venta[0].deuda == 0\">\r\n                      <span class=\"text-success\">Pagado</span>\r\n                    </td>\r\n                    <td>\r\n                      <div>\r\n                        <button (click)=\"createPDF(data)\" class=\"btn btn-light btn-sm w-xs\">Pdf <i class=\"uil uil-download-alt ms-2\"></i></button>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <a *ngIf=\"data.tipo_venta[0].deuda != 0\" (click)=\"centerModalActualizar(centerDataModalActualizarVenta,data)\" class=\"px-3 text-primary\"\r\n                        placement=\"top\" ngbTooltip=\"Editar\"><i class=\"uil uil-pen font-size-18\"></i></a>\r\n                      <a (click)=\"eliminar(data)\" class=\"px-3 text-danger\" placement=\"top\" ngbTooltip=\"Eliminar\" *appRole=\"role\"><i\r\n                          class=\"uil uil-trash-alt font-size-18\" *appRole=\"role\"></i></a>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </form>\r\n        </div>\r\n\r\n        <div class=\"row\" *ngIf=\"!mostrarSpinner\">\r\n          <div class=\"col-12\">\r\n            <div class=\"text-center my-3\">\r\n              <a href=\"javascript:void(0);\" class=\"text-primary\"><i\r\n                  class=\"mdi mdi-loading mdi-spin font-size-20 align-middle me-2\"></i> Cargando </a>\r\n            </div>\r\n          </div> <!-- end col-->\r\n        </div>\r\n\r\n        <!-- End table -->\r\n        <div class=\"row justify-content-md-between align-items-md-center\">\r\n          <!-- <div class=\"col-sm-12 col-md-5\">\r\n            <div class=\"dataTables_info mb-2\" id=\"tickets-table_info\" role=\"status\" aria-live=\"polite\">Page 2 of 84</div>\r\n          </div> -->\r\n          <!-- Pagination -->\r\n          <div class=\"col-12\">\r\n            <div class=\"text-md-end float-md-end pagination-rounded\">\r\n              <ngb-pagination [collectionSize]=\"total$ | async\" [(page)]=\"service.page\" [pageSize]=\"service.pageSize\" [maxSize]=\"5\" [rotate]=\"true\" [boundaryLinks]=\"true\">\r\n              </ngb-pagination>\r\n            </div>\r\n          </div>\r\n          <!-- End Pagination -->\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n  <!-- Actualizar Venta - Center Modal -->\r\n  <ng-template #centerDataModalActualizarVenta let-modal>\r\n    <div class=\"modal-header\">\r\n      <h5 class=\"modal-title\" id=\"modal-title\">Actualizar Venta - Al Credito</h5>\r\n      <button type=\"button\" class=\"btn-close\" (click)=\"closeEventModal()\">\r\n      </button>\r\n    </div>\r\n    <div class=\"modal-body p-4\">\r\n      <div class=\"col-lg-14\">\r\n        <form [formGroup]=\"formCreditoActualizacion\">\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"mb-3\">\r\n                <label class=\"control-label\">Nombres y Apellidos del Cliente</label>\r\n                <h5>{{usuario.nombre}}</h5>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"text-muted text-sm-end\">\r\n                <div class=\"mt-4\">\r\n                  <div class=\"text-danger font-size-16\">Deuda &nbsp;</div>\r\n                  <div class=\"badge rounded-pill bg-soft-success font-size-16\" [ngClass]=\" { 'bg-soft-danger': 1 > 0}\">\r\n                    {{usuario.deuda|currency:'S/ '}} </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"border-top pt-4\">\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-4\">\r\n                <div class=\"mb-3\">\r\n                  <label class=\"control-label\">Cantidad Recibida</label>\r\n                  <input class=\"form-control\" placeholder=\"Cantidad en soles\" type=\"text\"\r\n                    name=\"nameCantidadRecibidaCredito\" (change)=\"updatePago($event)\"\r\n                    formControlName=\"{{this.cantidadRecibida_CreditoActualizacion}}\" />\r\n                  <div class=\"text-danger\"\r\n                    *ngIf=\"formCreditoActualizacion.controls['campoCantidadRecibidaCreditoActualizacion'].invalid && (formCreditoActualizacion.controls['campoCantidadRecibidaCreditoActualizacion'].dirty || formCreditoActualizacion.controls['campoCantidadRecibidaCreditoActualizacion'].touched)\">\r\n                    <div class=\"text-danger\"\r\n                      *ngIf=\"formCreditoActualizacion.controls['campoCantidadRecibidaCreditoActualizacion'].errors?.required\">\r\n                      Campo requerido\r\n                    </div>\r\n                    <div class=\"text-danger\"\r\n                      *ngIf=\"formCreditoActualizacion.controls['campoCantidadRecibidaCreditoActualizacion'].errors?.pattern\">\r\n                      Ingrese solo nmeros\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"mb-3\">\r\n                  <label class=\"form-label\">Mtodo</label>\r\n                  <ng-select name=\"selectMetodo\" [items]=\"listMetodosPagos\"\r\n                    formControlName=\"{{this.metodoPagoCreditoActualizacion}}\" placeholder=\"Seleccione\">\r\n                  </ng-select>\r\n                  <div class=\"text-danger\"\r\n                    *ngIf=\"formCreditoActualizacion.controls['campoMetodoPagoCreditoActualizacion'].invalid && (formCreditoActualizacion.controls['campoMetodoPagoCreditoActualizacion'].dirty || formCreditoActualizacion.controls['campoMetodoPagoCreditoActualizacion'].touched)\">\r\n                    <div class=\"text-danger\"\r\n                      *ngIf=\"formCreditoActualizacion.controls['campoMetodoPagoCreditoActualizacion'].errors?.required\">\r\n                      Campo requerido\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"mb-3\">\r\n                  <label class=\"control-label\">Fecha</label>\r\n                  <input class=\"form-control\" placeholder=\"Seleccione la fecha\" type=\"text\"\r\n                    name=\"nameFechaRegistroCredito\" formControlName=\"{{this.fechaVenta_CreditoActualizacion}}\"\r\n                    [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                  <div *ngIf=\"submitted && form.title.errors\" class=\"invalid-feedback\">\r\n                    <span *ngIf=\"form.title.errors.required\">This value is required.</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <div class=\"mb-3\">\r\n                  <label class=\"control-label\">Informacin de Pagos: {{usuario.listDeudas[0].cuotas}} cuotas</label>\r\n\r\n                  <div class=\"row\">\r\n                    <div class=\"col-sm-12\">\r\n                      <div class=\"table-responsive\">\r\n                        <table class=\"table table-sm m-0 table-centered\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th style=\"width: 77px;\">N Cuotas</th>\r\n                              <th>Monto</th>\r\n                              <th>Mtodo</th>\r\n                              <th>Fecha</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr *ngFor=\"let pago of usuario.listDeudas; let i = index\">\r\n                              <th scope=\"row\">{{i+1}}</th>\r\n                              <td>{{pago.cantidad_recibida|currency:'S/ '}}</td>\r\n                              <td>{{pago.metodo_pago}}</td>\r\n                              <td>{{pago.fecha_pago| date: 'dd/MM/yyyy hh:mm:ss'}}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <label class=\"control-label\" style=\"text-align: left;\">Montos:</label>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-4\">\r\n                <div class=\"mb-3\">\r\n                  <label class=\"control-label\">Total</label>\r\n                  <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"nameTotalCredito\"\r\n                    formControlName=\"{{this.precioTotal_CreditoActualizacion}}\"\r\n                    [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"mb-3\">\r\n                  <label class=\"control-label\">Pago</label>\r\n                  <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"namePagoCredito\"\r\n                    formControlName=\"{{this.pago_CreditoActualizacion}}\"\r\n                    [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"mb-3\">\r\n                  <label class=\"control-label\">Deuda</label>\r\n                  <input class=\"form-control\" placeholder=\"S/ 000.00\" type=\"text\" name=\"nameCambioCredito\"\r\n                    formControlName=\"{{this.cambio_CreditoActualizacion}}\"\r\n                    [ngClass]=\"{'is-invalid': submitted && form.title.errors}\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <div class=\"mb-4\">\r\n                  <label class=\"form-label\" for=\"billing-observaciones\">Observaciones</label>\r\n                  <textarea class=\"form-control\" id=\"billing-observaciones\" rows=\"3\"\r\n                    placeholder=\"Ingrese las observaciones\"\r\n                    formControlName=\"{{this.observaciones_CreditoActualizacion}}\"></textarea>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class=\"text-end mt-2\">\r\n            <button type=\"button\" class=\"btn btn-danger\" (click)=\"closeEventModal()\">\r\n              Cerrar\r\n            </button>\r\n            <button type=\"submit\" class=\"btn btn-success ms-1\" (click)=\"guardarActualizacionDeuda()\"\r\n              [disabled]=\"!formCreditoActualizacion.valid\" id=\"btn-save-event\">\r\n              Registrar Venta\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div><!-- End Justified Tabs -->\r\n    </div>\r\n  </ng-template>","import { Injectable, PipeTransform } from '@angular/core';\r\n\r\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\r\n\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { debounceTime, delay, switchMap, tap } from 'rxjs/operators';\r\nimport { SortColumn, SortDirection } from './sortable.directive';\r\nimport { VentaService } from 'src/app/services/venta.service';\r\nimport { VentasModel } from 'src/models/venta';\r\nimport { MonturasModel } from 'src/models/monturas';\r\nimport { LunasModel } from 'src/models/lunas';\r\nimport { AccesorioModel } from 'src/models/accesorio';\r\nimport { TipoVentaModel } from 'src/models/tipo_venta';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { MedidasModel } from 'src/models/medidas';\r\n\r\ninterface SearchResult {\r\n  transactions: VentasModel[];\r\n  total: number;\r\n}\r\ninterface State {\r\n  page: number;\r\n  pageSize: number;\r\n  searchTerm: string;\r\n  sortColumn: SortColumn;\r\n  sortDirection: SortDirection;\r\n}\r\n\r\nconst compare = (v1: string | number | boolean | MonturasModel[] | LunasModel[] | AccesorioModel[] | Date | TipoVentaModel[] | MedidasModel[], v2: string | number | boolean | MonturasModel[] | LunasModel[] | AccesorioModel[] | Date | TipoVentaModel[] | MedidasModel[]) => v1 < v2 ? -1 : v1 > v2 ? 1 : 0;\r\n\r\nfunction sort(transactions: VentasModel[], column: SortColumn, direction: string): VentasModel[] {\r\n  if (direction === '' || column === '') {\r\n    return transactions;\r\n  } else {\r\n    return [...transactions].sort((a, b) => {\r\n      const res = compare(a[column], b[column]);\r\n      return direction === 'asc' ? res : -res;\r\n    });\r\n  }\r\n}\r\n\r\nfunction matches(transaction: VentasModel, term: string, pipe: PipeTransform) {\r\n  return String(transaction.fecha_creacion_venta)?.toLowerCase().includes(term.toLowerCase())\r\n  || transaction.nombre_cliente?.toLowerCase().includes(term.toLowerCase())\r\n  || String(transaction.tipo_venta[0].precio_total)?.toLowerCase().includes(term.toLowerCase())\r\n  || transaction.nombre_vendedor?.toLowerCase().includes(term.toLowerCase());\r\n\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class TransactionService {\r\n  private _loading$ = new BehaviorSubject<boolean>(true);\r\n  private _search$ = new Subject<void>();\r\n  private _total$ = new BehaviorSubject<number>(0);\r\n  private _mostrar$ = new BehaviorSubject<boolean>(false);\r\n  private _ventas$ = new BehaviorSubject<VentasModel[]>([]);\r\n\r\n  ventaList: VentasModel[] = [];\r\n\r\n  private _state: State = {\r\n    page: 1,\r\n    pageSize: 10,\r\n    searchTerm: '',\r\n    sortColumn: '',\r\n    sortDirection: ''\r\n  };\r\n  constructor(\r\n    private pipe: DecimalPipe,\r\n    private ventaService: VentaService,\r\n    private usuarioService: UsuarioService\r\n    ) {\r\n    this.getAllVentas();\r\n  }\r\n\r\n  updateTable (data) {\r\n    this.ventaList = data;\r\n      this._mostrar$.next(true);\r\n      this._search$.pipe(\r\n        tap(() => this._loading$.next(true)),\r\n        debounceTime(200),\r\n        switchMap(() => this._search()),\r\n        delay(200),\r\n        tap(() => this._loading$.next(false))\r\n      ).subscribe(result => {\r\n        this._ventas$.next(result.transactions);\r\n        this._total$.next(result.total);\r\n      });\r\n  \r\n      this._search$.next();\r\n  }\r\n\r\n  get transactions$() { return this._ventas$.asObservable(); }\r\n  get total$() { return this._total$.asObservable(); }\r\n  get loading$() { return this._loading$.asObservable(); }\r\n  get page() { return this._state.page; }\r\n  get pageSize() { return this._state.pageSize; }\r\n  get searchTerm() { return this._state.searchTerm; }\r\n  get mostrar() { return this._mostrar$.asObservable();}\r\n\r\n  set page(page: number) { this._set({ page }); }\r\n  set pageSize(pageSize: number) { this._set({ pageSize }); }\r\n  set searchTerm(searchTerm: string) { this._set({ searchTerm }); }\r\n  set sortColumn(sortColumn: SortColumn) { this._set({ sortColumn }); }\r\n  set sortDirection(sortDirection: SortDirection) { this._set({ sortDirection }); }\r\n\r\n  private _set(patch: Partial<State>) {\r\n    Object.assign(this._state, patch);\r\n    this._search$.next();\r\n  }\r\n\r\n\r\n  private _search(): Observable<SearchResult> {\r\n    const { sortColumn, sortDirection, pageSize, page, searchTerm } = this._state;\r\n\r\n    // 1. sort\r\n    let transactions = sort(this.ventaList, sortColumn, sortDirection);\r\n\r\n    // 2. filter\r\n    transactions = transactions.filter(transaction => matches(transaction, searchTerm, this.pipe));\r\n    const total = transactions.length;\r\n\r\n    // 3. paginate\r\n    \r\n    transactions = transactions.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);\r\n    return of({ transactions, total });\r\n  }\r\n  //Servicio \r\n  getAllVentas() {\r\n    this.ventaService.getVentasbySede(this.usuarioService.getSedebyUser()).subscribe( res=>{\r\n      this.ventaList = res;\r\n      this._mostrar$.next(true);\r\n      this._search$.pipe(\r\n        tap(() => this._loading$.next(true)),\r\n        debounceTime(200),\r\n        switchMap(() => this._search()),\r\n        delay(200),\r\n        tap(() => this._loading$.next(false))\r\n      ).subscribe(result => {\r\n        this._ventas$.next(result.transactions);\r\n        this._total$.next(result.total);\r\n      });\r\n  \r\n      this._search$.next();\r\n    })\r\n  }\r\n}","import { Directive, EventEmitter, Input, Output } from '@angular/core';\r\nimport { VentasModel } from 'src/models/venta';\r\n\r\nexport type SortColumn = keyof VentasModel | '';\r\nexport type SortDirection = 'asc' | 'desc' | '';\r\nconst rotate: { [key: string]: SortDirection } = { 'asc': 'desc', 'desc': '', '': 'asc' };\r\n\r\nexport interface SortEvent {\r\n  column: SortColumn;\r\n  direction: SortDirection;\r\n}\r\n\r\n@Directive({\r\n  selector: 'th[sortable]',\r\n  host: {\r\n    '[class.asc]': 'direction === \"asc\"',\r\n    '[class.desc]': 'direction === \"desc\"',\r\n    '(click)': 'rotate()'\r\n  }\r\n})\r\nexport class NgbdSortableHeader {\r\n\r\n  @Input() sortable: SortColumn = '';\r\n  @Input() direction: SortDirection = '';\r\n  @Output() sort = new EventEmitter<SortEvent>();\r\n\r\n  rotate() {\r\n    this.direction = rotate[this.direction];\r\n    this.sort.emit({ column: this.sortable, direction: this.direction });\r\n  }\r\n}","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { AuthGuard } from \"src/app/core/guards/auth.guard\";\r\nimport { AddSaleComponent } from \"./add-sale/add-sale.component\";\r\nimport { ListSalesComponent } from \"./list-sales/list-sales.component\";\r\nimport { DeletedSalesComponent } from \"./deleted-sales/deleted-sales.component\";\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'addsale',\r\n        component: AddSaleComponent,\r\n        data: {\r\n            role: ['Vendedor','Admin'],\r\n          }, canActivate: [AuthGuard]\r\n    }, \r\n    {\r\n        path: 'listsales',\r\n        component: ListSalesComponent,\r\n        data: {\r\n            role: ['Vendedor','Admin'],\r\n          }, canActivate: [AuthGuard]\r\n    },\r\n    {\r\n        path: 'deletesales',\r\n        component: DeletedSalesComponent,\r\n        data: {\r\n            role: ['Vendedor','Admin'],\r\n          }, canActivate: [AuthGuard]\r\n    } \r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class SaleRoutingModule {}","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { NgbAccordionModule, NgbCollapseModule, NgbDropdownModule, NgbPaginationModule, NgbTooltipModule, NgbTypeaheadModule, NgbModule, NgbNavModule, } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { NgSelectModule } from \"@ng-select/ng-select\";\r\nimport { Ng2SearchPipeModule } from \"ng2-search-filter\";\r\nimport { Ng5SliderModule } from \"ng5-slider\";\r\nimport { DropzoneModule, DROPZONE_CONFIG } from \"ngx-dropzone-wrapper\";\r\nimport { config } from \"rxjs\";\r\nimport { UIModule } from \"src/app/shared/ui/ui.module\";\r\nimport { AddSaleComponent } from \"./add-sale/add-sale.component\";\r\nimport { SaleRoutingModule } from \"./sale-routing.module\";\r\nimport { ListSalesComponent } from \"./list-sales/list-sales.component\";\r\nimport { AutocompleteLibModule } from \"angular-ng-autocomplete\";\r\nimport { DirectivesModule } from \"src/app/directives/role.module\";\r\nimport { DeletedSalesComponent } from './deleted-sales/deleted-sales.component';\r\n\r\n\r\n@NgModule({\r\n    // tslint:disable-next-line: max-line-length\r\n    declarations: [AddSaleComponent, ListSalesComponent, DeletedSalesComponent ],\r\n    imports: [\r\n      SaleRoutingModule,\r\n      CommonModule,\r\n      ReactiveFormsModule,\r\n      FormsModule,\r\n      Ng2SearchPipeModule,\r\n      NgbDropdownModule,\r\n      DropzoneModule,\r\n      UIModule,\r\n      Ng5SliderModule,\r\n      NgSelectModule,\r\n      NgbPaginationModule,\r\n      NgbTooltipModule,\r\n      NgbAccordionModule,\r\n      NgbTypeaheadModule,\r\n      NgbCollapseModule,\r\n      NgbNavModule,\r\n      NgbModule,\r\n      AutocompleteLibModule,\r\n      NgbModule,\r\n      DirectivesModule\r\n    ],\r\n    exports:[\r\n      //RoleDirective\r\n    ],\r\n    providers: [\r\n      {\r\n        provide: DROPZONE_CONFIG,\r\n        useValue: config\r\n      }\r\n    ]\r\n  })\r\n  export class SaleModule { }","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { VentasModel } from 'src/models/venta';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VentaService {\r\n\r\n  constructor(    private http: HttpClient\r\n    ) { }\r\n  getVentas(): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllVentas');\r\n  }\r\n\r\n  getVentasbySede(idSede:string): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllVentasBySede/'+idSede);\r\n  }\r\n\r\n  getVentasByDate(fechaIni:any,fechaFin:any, idSede: string): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllVentasByDate/'+fechaIni+'/'+fechaFin+'/'+idSede)\r\n  }\r\n\r\n  darBajaVenta(idVenta: string): Observable<any> {\r\n    return this.http.put<any>(environment.urlBackend+'unsubscribeVentasById/'+idVenta,idVenta);\r\n  }\r\n\r\n  updatePagoCuotas(idVenta: string, venta:VentasModel): Observable<any> {\r\n    return this.http.put<any>(environment.urlBackend+'updatePagoCuotasVentaById/'+idVenta,venta);\r\n  }\r\n\r\n  getVentasEliminadasbySede(idSede: string): Observable<any> {\r\n    return this.http.get<any>(environment.urlBackend+'getAllVentasEliminadasBySede/'+idSede);\r\n  }\r\n\r\n  getPDF(objPDF:any): Observable<any> {\r\n    return this.http.post<any>(environment.urlBackend+'getPDF', objPDF);\r\n  }\r\n}\r\n","export class TipoVentaModel {\r\n    forma_pago: string;\r\n    cantidad_recibida: number;\r\n    deuda: number;\r\n    cuotas: string;\r\n    precio_total: number;\r\n    metodo_pago: string;\r\n    fecha_pago: Date;\r\n    observaciones: string;\r\n}","import { AccesorioModel } from \"./accesorio\";\r\nimport { LunasModel } from \"./lunas\";\r\nimport { MedidasModel } from \"./medidas\";\r\nimport { MonturasModel } from \"./monturas\";\r\nimport { TipoVentaModel } from \"./tipo_venta\";\r\n\r\nexport class VentasModel {\r\n    id_ventas?: string;\r\n    list_monturas: Array <MonturasModel> = [];\r\n    list_lunas: Array <LunasModel> = [];\r\n    list_accesorios: Array <AccesorioModel> = [];\r\n    id_vendedor: string;\r\n    nombre_vendedor: string;\r\n    fecha_creacion_venta: Date;\r\n    tipo_venta: Array<TipoVentaModel> = [];\r\n    id_sede: string;\r\n    id_cliente: string;\r\n    nombre_cliente: string;\r\n    habilitado: boolean;\r\n    nombre_jalador:string;\r\n    encargado_medicion:string;\r\n    medidas: Array<MedidasModel>\r\n}"],"names":[],"sourceRoot":"webpack:///"}