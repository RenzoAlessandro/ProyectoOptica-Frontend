"use strict";(self.webpackChunkminible_ng=self.webpackChunkminible_ng||[]).push([[327],{2974:(Q,x,u)=>{u.d(x,{o:()=>c});var g=u(83668);let c=(()=>{class p{}return p.\u0275fac=function(N){return new(N||p)},p.\u0275mod=g.oAB({type:p}),p.\u0275inj=g.cJS({imports:[[]]}),p})()},88327:(Q,x,u)=>{u.r(x),u.d(x,{ProductsModule:()=>at});var g=u(86019),c=u(49133),p=u(20154),v=u(40345),N=u(98816),L=u(16541),w=u(63091),Z=u(56225),_=u(75407),f=u(77044),b=u(34976),T=u(43514),d=u(63782),e=u(83668),S=u(91917),E=u(20566),U=u(11950),H=u(48185);function Y(o,n){}function j(o,n){if(1&o&&e.YNc(0,Y,0,0,"ng-template",18),2&o){e.oxw();const t=e.MAs(27);e.Q6J("ngTemplateOutlet",t)}}function G(o,n){}function z(o,n){if(1&o&&e.YNc(0,G,0,0,"ng-template",18),2&o){e.oxw();const t=e.MAs(29);e.Q6J("ngTemplateOutlet",t)}}function B(o,n){}function K(o,n){if(1&o&&e.YNc(0,B,0,0,"ng-template",18),2&o){e.oxw();const t=e.MAs(31);e.Q6J("ngTemplateOutlet",t)}}function X(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function $(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function W(o,n){if(1&o&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e._UZ(2,"ng-select",45),e.qZA(),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.s9C("formControlName",t.nombre_sedesMontura),e.Q6J("items",t.listSedes)}}function ee(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function te(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function oe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function re(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function ae(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo letras "),e.qZA())}function ie(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function ne(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros y opcional hasta 2 decimales "),e.qZA())}function ce(o,n){1&o&&(e.TgZ(0,"span"),e._uU(1," Campo requerido "),e.qZA())}function se(o,n){1&o&&(e.TgZ(0,"span"),e._uU(1," Ingrese solo n\xfameros y opcional hasta 2 decimales "),e.qZA())}function le(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function de(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros enteros "),e.qZA())}const h=function(o){return{"is-invalid":o}};function ue(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"div"),e.TgZ(3,"form",21),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().saveEvent()}),e.TgZ(4,"p",22),e._uU(5,"* Campo requerido"),e.qZA(),e.TgZ(6,"div",23),e.TgZ(7,"div",24),e.TgZ(8,"div",25),e.TgZ(9,"label",26),e._uU(10,"Fecha"),e.qZA(),e._UZ(11,"input",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",23),e.TgZ(13,"div",28),e.TgZ(14,"div",25),e.TgZ(15,"label",26),e._uU(16,"Material *"),e.qZA(),e._UZ(17,"input",29),e.TgZ(18,"div",30),e.YNc(19,X,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",28),e.TgZ(21,"div",25),e.TgZ(22,"label",26),e._uU(23,"Marca *"),e.qZA(),e._UZ(24,"input",32),e.TgZ(25,"div",30),e.YNc(26,$,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",28),e.TgZ(28,"div",25),e.TgZ(29,"label",26),e._uU(30,"Sede *"),e.qZA(),e.TgZ(31,"div",33),e.YNc(32,W,3,2,"div",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",23),e.TgZ(34,"div",28),e.TgZ(35,"div",25),e.TgZ(36,"label",26),e._uU(37,"C\xf3digo Interno *"),e.qZA(),e._UZ(38,"input",35),e.TgZ(39,"div",30),e.YNc(40,ee,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",28),e.TgZ(42,"div",25),e.TgZ(43,"label",26),e._uU(44,"C\xf3digo Montura *"),e.qZA(),e._UZ(45,"input",36),e.TgZ(46,"div",30),e.YNc(47,te,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",28),e.TgZ(49,"div",25),e.TgZ(50,"label",26),e._uU(51,"Talla *"),e.qZA(),e._UZ(52,"input",37),e.TgZ(53,"div",30),e.YNc(54,oe,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",23),e.TgZ(56,"div",28),e.TgZ(57,"div",25),e.TgZ(58,"label",26),e._uU(59,"Color *"),e.qZA(),e._UZ(60,"input",38),e.TgZ(61,"div",30),e.YNc(62,re,2,0,"div",31),e.YNc(63,ae,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",28),e.TgZ(65,"div",25),e.TgZ(66,"label",26),e._uU(67,"Precio de Compra *"),e.qZA(),e._UZ(68,"input",39),e.TgZ(69,"div",30),e.YNc(70,ie,2,0,"div",31),e.YNc(71,ne,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"div",28),e.TgZ(73,"div",25),e.TgZ(74,"label",26),e._uU(75,"Precio de Venta *"),e.qZA(),e._UZ(76,"input",39),e.TgZ(77,"div",30),e.YNc(78,ce,2,0,"span",31),e.YNc(79,se,2,0,"span",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"div",23),e.TgZ(81,"div",28),e.TgZ(82,"div",25),e.TgZ(83,"label",26),e._uU(84,"Stock *"),e.qZA(),e._UZ(85,"input",40),e.TgZ(86,"div",30),e.YNc(87,le,2,0,"div",31),e.YNc(88,de,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(89,"div",41),e.TgZ(90,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().guardarMonturas()}),e._uU(91," Registrar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.formMonturas),e.xp6(8),e.s9C("formControlName",t.fecha_registro_montura),e.xp6(6),e.s9C("formControlName",t.material_montura),e.Q6J("ngClass",e.VKq(35,h,t.formM.campoMaterialMontura.invalid&&(t.formM.campoMaterialMontura.dirty||t.formM.campoMaterialMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoMaterialMontura.errors?null:t.formM.campoMaterialMontura.errors.required),e.xp6(5),e.s9C("formControlName",t.marca_montura),e.Q6J("ngClass",e.VKq(37,h,t.formM.campoMarcaMontura.invalid&&(t.formM.campoMarcaMontura.dirty||t.formM.campoMarcaMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoMarcaMontura.errors?null:t.formM.campoMarcaMontura.errors.required),e.xp6(6),e.Q6J("appRole",t.role),e.xp6(6),e.s9C("formControlName",t.codigo_montura),e.Q6J("ngClass",e.VKq(39,h,t.formM.campoCodigoMontura.invalid&&(t.formM.campoCodigoMontura.dirty||t.formM.campoCodigoMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoCodigoMontura.errors?null:t.formM.campoCodigoMontura.errors.required),e.xp6(5),e.s9C("formControlName",t.codigo_montura_caja),e.Q6J("ngClass",e.VKq(41,h,t.formM.campoCodigoMonturaCaja.invalid&&(t.formM.campoCodigoMonturaCaja.dirty||t.formM.campoCodigoMonturaCaja.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoCodigoMonturaCaja.errors?null:t.formM.campoCodigoMonturaCaja.errors.required),e.xp6(5),e.s9C("formControlName",t.talla_montura),e.Q6J("ngClass",e.VKq(43,h,t.formM.campoTallaMontura.invalid&&(t.formM.campoTallaMontura.dirty||t.formM.campoTallaMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoTallaMontura.errors?null:t.formM.campoTallaMontura.errors.required),e.xp6(6),e.s9C("formControlName",t.color_montura),e.Q6J("ngClass",e.VKq(45,h,t.formM.campoColorMontura.invalid&&(t.formM.campoColorMontura.dirty||t.formM.campoColorMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoColorMontura.errors?null:t.formM.campoColorMontura.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formM.campoColorMontura.errors?null:t.formM.campoColorMontura.errors.pattern),e.xp6(5),e.s9C("formControlName",t.precio_compra_montura),e.Q6J("ngClass",e.VKq(47,h,t.formM.campoCompraMontura.invalid&&(t.formM.campoCompraMontura.dirty||t.formM.campoCompraMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoCompraMontura.errors?null:t.formM.campoCompraMontura.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formM.campoCompraMontura.errors?null:t.formM.campoCompraMontura.errors.pattern),e.xp6(5),e.s9C("formControlName",t.precio_venta_montura),e.Q6J("ngClass",e.VKq(49,h,t.formM.campoVentaMontura.invalid&&(t.formM.campoVentaMontura.dirty||t.formM.campoVentaMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoVentaMontura.errors?null:t.formM.campoVentaMontura.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formM.campoVentaMontura.errors?null:t.formM.campoVentaMontura.errors.pattern),e.xp6(6),e.s9C("formControlName",t.cantidad_montura),e.Q6J("ngClass",e.VKq(51,h,t.formM.campoCantidadMontura.invalid&&(t.formM.campoCantidadMontura.dirty||t.formM.campoCantidadMontura.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formM.campoCantidadMontura.errors?null:t.formM.campoCantidadMontura.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formM.campoCantidadMontura.errors?null:t.formM.campoCantidadMontura.errors.pattern),e.xp6(2),e.Q6J("disabled",!t.formMonturas.valid)}}function me(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function pe(o,n){if(1&o&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e._UZ(2,"ng-select",45),e.qZA(),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.s9C("formControlName",t.nombre_sedesLuna),e.Q6J("items",t.listSedes)}}function ge(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function _e(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros enteros "),e.qZA())}function he(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function Ze(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros y opcional hasta 2 decimales "),e.qZA())}function fe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function Ae(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros y opcional hasta 2 decimales "),e.qZA())}function be(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"div"),e.TgZ(3,"form",21),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().saveEvent()}),e.TgZ(4,"p",22),e._uU(5,"* Campo requerido"),e.qZA(),e.TgZ(6,"div",23),e.TgZ(7,"div",24),e.TgZ(8,"div",25),e.TgZ(9,"label",26),e._uU(10,"Fecha"),e.qZA(),e._UZ(11,"input",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",23),e.TgZ(13,"div",28),e.TgZ(14,"div",25),e.TgZ(15,"label",26),e._uU(16,"Material *"),e.qZA(),e._UZ(17,"input",46),e.TgZ(18,"div",30),e.YNc(19,me,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",28),e.TgZ(21,"div",25),e.TgZ(22,"label",26),e._uU(23,"Sede *"),e.qZA(),e.TgZ(24,"div",33),e.YNc(25,pe,3,2,"div",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",23),e.TgZ(27,"div",28),e.TgZ(28,"div",25),e.TgZ(29,"label",26),e._uU(30,"Stock *"),e.qZA(),e._UZ(31,"input",40),e.TgZ(32,"div",30),e.YNc(33,ge,2,0,"div",31),e.YNc(34,_e,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",28),e.TgZ(36,"div",25),e.TgZ(37,"label",26),e._uU(38,"Precio de Compra *"),e.qZA(),e._UZ(39,"input",39),e.TgZ(40,"div",30),e.YNc(41,he,2,0,"div",31),e.YNc(42,Ze,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",28),e.TgZ(44,"div",25),e.TgZ(45,"label",26),e._uU(46,"Precio de Venta *"),e.qZA(),e._UZ(47,"input",39),e.TgZ(48,"div",30),e.YNc(49,fe,2,0,"div",31),e.YNc(50,Ae,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",41),e.TgZ(52,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().guardarLunas()}),e._uU(53," Registrar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.formLunas),e.xp6(8),e.s9C("formControlName",t.fecha_registro_luna),e.xp6(6),e.s9C("formControlName",t.material_luna),e.Q6J("ngClass",e.VKq(19,h,t.formL.campoMaterialLuna.invalid&&(t.formL.campoMaterialLuna.dirty||t.formL.campoMaterialLuna.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formL.campoMaterialLuna.errors?null:t.formL.campoMaterialLuna.errors.required),e.xp6(6),e.Q6J("appRole",t.role),e.xp6(6),e.s9C("formControlName",t.cantidad_luna),e.Q6J("ngClass",e.VKq(21,h,t.formL.campoCantidadLuna.invalid&&(t.formL.campoCantidadLuna.dirty||t.formL.campoCantidadLuna.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formL.campoCantidadLuna.errors?null:t.formL.campoCantidadLuna.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formL.campoCantidadLuna.errors?null:t.formL.campoCantidadLuna.errors.pattern),e.xp6(5),e.s9C("formControlName",t.precio_compra_luna),e.Q6J("ngClass",e.VKq(23,h,t.formL.campoCompraLuna.invalid&&(t.formL.campoCompraLuna.dirty||t.formL.campoCompraLuna.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formL.campoCompraLuna.errors?null:t.formL.campoCompraLuna.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formL.campoCompraLuna.errors?null:t.formL.campoCompraLuna.errors.pattern),e.xp6(5),e.s9C("formControlName",t.precio_venta_luna),e.Q6J("ngClass",e.VKq(25,h,t.formL.campoVentaLuna.invalid&&(t.formL.campoVentaLuna.dirty||t.formL.campoVentaLuna.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formL.campoVentaLuna.errors?null:t.formL.campoVentaLuna.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formL.campoVentaLuna.errors?null:t.formL.campoVentaLuna.errors.pattern),e.xp6(2),e.Q6J("disabled",!t.formLunas.valid)}}function Te(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function ve(o,n){if(1&o&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e._UZ(2,"ng-select",45),e.qZA(),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.s9C("formControlName",t.nombre_sedesAccesorio),e.Q6J("items",t.listSedes)}}function Ce(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function qe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros enteros "),e.qZA())}function xe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function Ne(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros y opcional hasta 2 decimales "),e.qZA())}function Ee(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Campo requerido "),e.qZA())}function Me(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros y opcional hasta 2 decimales "),e.qZA())}function Ie(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"div"),e.TgZ(3,"form",21),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().saveEvent()}),e.TgZ(4,"p",22),e._uU(5,"* Campo requerido"),e.qZA(),e.TgZ(6,"div",23),e.TgZ(7,"div",24),e.TgZ(8,"div",25),e.TgZ(9,"label",26),e._uU(10,"Fecha"),e.qZA(),e._UZ(11,"input",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",23),e.TgZ(13,"div",28),e.TgZ(14,"div",25),e.TgZ(15,"label",26),e._uU(16,"Nombre del Accesorio *"),e.qZA(),e._UZ(17,"input",47),e.TgZ(18,"div",30),e.YNc(19,Te,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",28),e.TgZ(21,"div",25),e.TgZ(22,"label",26),e._uU(23,"Sede *"),e.qZA(),e.TgZ(24,"div",33),e.YNc(25,ve,3,2,"div",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",23),e.TgZ(27,"div",28),e.TgZ(28,"div",25),e.TgZ(29,"label",26),e._uU(30,"Stock *"),e.qZA(),e._UZ(31,"input",48),e.TgZ(32,"div",30),e.YNc(33,Ce,2,0,"div",31),e.YNc(34,qe,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",28),e.TgZ(36,"div",25),e.TgZ(37,"label",26),e._uU(38,"Precio de Compra *"),e.qZA(),e._UZ(39,"input",49),e.TgZ(40,"div",30),e.YNc(41,xe,2,0,"div",31),e.YNc(42,Ne,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",28),e.TgZ(44,"div",25),e.TgZ(45,"label",26),e._uU(46,"Precio de Venta *"),e.qZA(),e._UZ(47,"input",50),e.TgZ(48,"div",30),e.YNc(49,Ee,2,0,"div",31),e.YNc(50,Me,2,0,"div",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",41),e.TgZ(52,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().guardarAccesorios()}),e._uU(53," Registrar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.formAccesorios),e.xp6(8),e.s9C("formControlName",t.fecha_registro_accesorio),e.xp6(6),e.s9C("formControlName",t.nombre_accesorio),e.Q6J("ngClass",e.VKq(19,h,t.formA.campoNombreAccesorio.invalid&&(t.formA.campoNombreAccesorio.dirty||t.formA.campoNombreAccesorio.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formA.campoNombreAccesorio.errors?null:t.formA.campoNombreAccesorio.errors.required),e.xp6(6),e.Q6J("appRole",t.role),e.xp6(6),e.s9C("formControlName",t.cantidad_accesorio),e.Q6J("ngClass",e.VKq(21,h,t.formA.campoCantidadAccesorio.invalid&&(t.formA.campoCantidadAccesorio.dirty||t.formA.campoCantidadAccesorio.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formA.campoCantidadAccesorio.errors?null:t.formA.campoCantidadAccesorio.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formA.campoCantidadAccesorio.errors?null:t.formA.campoCantidadAccesorio.errors.pattern),e.xp6(5),e.s9C("formControlName",t.precio_compra_accesorio),e.Q6J("ngClass",e.VKq(23,h,t.formA.campoCompraAccesorio.invalid&&(t.formA.campoCompraAccesorio.dirty||t.formA.campoCompraAccesorio.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formA.campoCompraAccesorio.errors?null:t.formA.campoCompraAccesorio.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formA.campoCompraAccesorio.errors?null:t.formA.campoCompraAccesorio.errors.pattern),e.xp6(5),e.s9C("formControlName",t.precio_venta_accesorio),e.Q6J("ngClass",e.VKq(25,h,t.formA.campoVentaAccesorio.invalid&&(t.formA.campoVentaAccesorio.dirty||t.formA.campoVentaAccesorio.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formA.campoVentaAccesorio.errors?null:t.formA.campoVentaAccesorio.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formA.campoVentaAccesorio.errors?null:t.formA.campoVentaAccesorio.errors.pattern),e.xp6(2),e.Q6J("disabled",!t.formAccesorios.valid)}}let Pe=(()=>{class o{constructor(t,r,a,s){this.fb=t,this.productosService=r,this.userService=a,this.usuarioService=s,this.role="Admin",this.idSede="",this.submitted=!1,this.orden_montura="campoOrdenMontura",this.material_montura="campoMaterialMontura",this.marca_montura="campoMarcaMontura",this.talla_montura="campoTallaMontura",this.color_montura="campoColorMontura",this.codigo_montura="campoCodigoMontura",this.codigo_montura_caja="campoCodigoMonturaCaja",this.cantidad_montura="campoCantidadMontura",this.precio_compra_montura="campoCompraMontura",this.precio_venta_montura="campoVentaMontura",this.fecha_registro_montura="campoFechaRegistroMontura",this.fecha_modificacion_montura="campoFechaModificacionMontura",this.nombre_sedesMontura="campoSedeMOntura",this.orden_luna="campoOrdenLuna",this.material_luna="campoMaterialLuna",this.cantidad_luna="campoCantidadLuna",this.precio_compra_luna="campoCompraLuna",this.precio_venta_luna="campoVentaLuna",this.fecha_registro_luna="campoFechaRegistroLuna",this.fecha_modificacion_luna="campoFechaModificacionLuna",this.nombre_sedesLuna="campoSedeLuna",this.orden_accesorio="campoOrdenAccesorio",this.nombre_accesorio="campoNombreAccesorio",this.cantidad_accesorio="campoCantidadAccesorio",this.precio_compra_accesorio="campoCompraAccesorio",this.precio_venta_accesorio="campoVentaAccesorio",this.fecha_registro_accesorio="campoFechaRegistroAccesorio",this.fecha_modificacion_accesorio="campoFechaModificacionAccesorio",this.nombre_sedesAccesorio="campoSedeAccesorio",this.lunas=new b.I,this.monturas=new T.c,this.accesorios=new f.N,this.numberPattern="[0-9]+",this.decimalPattern=/^\d+(\.\d{2})?$/,this.lettersPattern="[a-zA-Z ]*"}ngOnInit(){this.breadCrumbItems=[{label:"Productos"},{label:"A\xf1adir Productos",active:!0}],this.getListSedes(),this.crearFormulario()}getListSedes(){this.listSedes=JSON.parse(localStorage.getItem("sedes")),this.idSede=this.usuarioService.getSedebyUser()}crearFormulario(){this.fecha_actual=new Date(Date.now()),this.formMonturas=this.fb.group({[this.material_montura]:[null,[c.kI.required]],[this.marca_montura]:[null,[c.kI.required]],[this.talla_montura]:[null,[c.kI.required]],[this.color_montura]:[null,[c.kI.required,c.kI.pattern(this.lettersPattern)]],[this.codigo_montura]:[null,[c.kI.required]],[this.codigo_montura_caja]:[null,[c.kI.required]],[this.cantidad_montura]:[null,[c.kI.required,c.kI.pattern(this.numberPattern)]],[this.precio_compra_montura]:[null,[c.kI.required,c.kI.pattern(this.decimalPattern)]],[this.precio_venta_montura]:[null,[c.kI.required,c.kI.pattern(this.decimalPattern)]],[this.fecha_registro_montura]:[{value:this.fecha_actual.toLocaleDateString(),disabled:!0}],[this.fecha_modificacion_montura]:[],[this.nombre_sedesMontura]:[this.idSede,[c.kI.required]]}),this.formLunas=this.fb.group({[this.material_luna]:[null,[c.kI.required]],[this.cantidad_luna]:[null,[c.kI.required,c.kI.pattern(this.numberPattern)]],[this.precio_compra_luna]:[null,[c.kI.required,c.kI.pattern(this.decimalPattern)]],[this.precio_venta_luna]:[null,[c.kI.required,c.kI.pattern(this.decimalPattern)]],[this.fecha_registro_luna]:[{value:this.fecha_actual.toLocaleDateString(),disabled:!0}],[this.fecha_modificacion_luna]:[],[this.nombre_sedesLuna]:[this.idSede,[c.kI.required]]}),this.formAccesorios=this.fb.group({[this.nombre_accesorio]:[null,[c.kI.required]],[this.cantidad_accesorio]:[null,[c.kI.required,c.kI.pattern(this.numberPattern)]],[this.precio_compra_accesorio]:[null,[c.kI.required,c.kI.pattern(this.decimalPattern)]],[this.precio_venta_accesorio]:[null,[c.kI.required,c.kI.pattern(this.decimalPattern)]],[this.fecha_registro_accesorio]:[{value:this.fecha_actual.toLocaleDateString(),disabled:!0}],[this.fecha_modificacion_accesorio]:[],[this.nombre_sedesAccesorio]:[this.idSede,[c.kI.required]]})}saveEvent(){this.submitted=!0}fA(t){return this.formAccesorios.get(t)}fL(t){return this.formLunas.get(t)}fM(t){return this.formMonturas.get(t)}guardarAccesorios(){this.formAccesorios.valid&&(this.accesorios.nombre_accesorio=this.fA(this.nombre_accesorio).value,this.accesorios.cantidad=Number(this.fA(this.cantidad_accesorio).value),this.accesorios.fecha_creacion_accesorio=new Date(Date.now()),this.accesorios.precio_accesorio_v=Number(this.fA(this.precio_venta_accesorio).value),this.accesorios.precio_accesorio_c=Number(this.fA(this.precio_compra_accesorio).value),this.accesorios.fecha_modificacion_accesorio=new Date(Date.now()),this.accesorios.id_sede=this.fA(this.nombre_sedesAccesorio).value,this.accesorios.habilitado=!0,this.accesorios.tipo="accesorio",(0,d.H)("loading","Cargando..."),this.productosService.createAccesorios(this.accesorios).subscribe(t=>{(0,d.H)("close",null),(0,d.H)("success","Accesorio guardado"),this.formAccesorios.reset(),this.fA(this.fecha_registro_accesorio).setValue(this.fecha_actual.toLocaleDateString())}))}guardarLunas(){this.formLunas.valid&&(this.lunas.material=this.fL(this.material_luna).value,this.lunas.precio_luna_c=Number(this.fL(this.precio_compra_luna).value),this.lunas.precio_luna_v=Number(this.fL(this.precio_venta_luna).value),this.lunas.fecha_creacion_luna=new Date(Date.now()),this.lunas.fecha_modificacion_luna=new Date(Date.now()),this.lunas.cantidad=Number(this.fL(this.cantidad_luna).value),this.lunas.id_sede=this.fL(this.nombre_sedesLuna).value,this.lunas.habilitado=!0,this.lunas.tipo="luna",(0,d.H)("loading","Cargando..."),this.productosService.createLunas(this.lunas).subscribe(t=>{(0,d.H)("close",null),(0,d.H)("success","Luna guardada"),this.formLunas.reset(),this.fL(this.fecha_registro_luna).setValue(this.fecha_actual.toLocaleDateString())}))}guardarMonturas(){this.formMonturas.valid&&(this.monturas.material=this.fM(this.material_montura).value,this.monturas.marca=this.fM(this.marca_montura).value,this.monturas.talla=this.fM(this.talla_montura).value,this.monturas.color=this.fM(this.color_montura).value,this.monturas.codigo=this.fM(this.codigo_montura).value,this.monturas.codigo_montura=this.fM(this.codigo_montura_caja).value,this.monturas.precio_montura_c=Number(this.fM(this.precio_compra_montura).value),this.monturas.precio_montura_v=Number(this.fM(this.precio_venta_montura).value),this.monturas.fecha_creacion_monturas=new Date(Date.now()),this.monturas.fecha_modificacion_monturas=new Date(Date.now()),this.monturas.cantidad=Number(this.fM(this.cantidad_montura).value),this.monturas.id_sede=this.fM(this.nombre_sedesMontura).value,this.monturas.habilitado=!0,this.monturas.tipo="montura",(0,d.H)("loading","Cargando..."),this.productosService.createMonturas(this.monturas).subscribe(t=>{(0,d.H)("close",null),(0,d.H)("success","Montura guardada"),this.formMonturas.reset(),this.fM(this.fecha_registro_montura).setValue(this.fecha_actual.toLocaleDateString())}))}get formM(){return this.formMonturas.controls}get formL(){return this.formLunas.controls}get formA(){return this.formAccesorios.controls}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(S.k),e.Y36(E.i),e.Y36(E.i))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-product"]],decls:32,vars:6,consts:[[1,"container-fluid"],["title","Registrar un Producto",3,"breadcrumbItems"],[1,"row","mb-4"],[1,"col-xl-12"],[1,"card","mb-0"],["ngbNav","",1,"nav","nav-tabs","nav-justified","nav-tabs-custom",3,"activeId"],["justifiednav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","",1,"nav-link"],[1,"uil","uil-nerd","font-size-20"],[1,"d-none","d-sm-block"],["ngbNavContent",""],[1,"uil","uil-panorama-h-alt","font-size-20"],[1,"uil","uil-box","font-size-20"],[3,"ngbNavOutlet"],["TabContentAbout",""],["TabContentTasks",""],["TabContentMessages",""],[3,"ngTemplateOutlet"],[1,"tab-content","p-4"],[1,"tab-pane","active"],[3,"formGroup","ngSubmit"],[1,"card-title-desc","text-danger"],[1,"row"],[1,"col-12","col-sm-3"],[1,"mb-3"],[1,"control-label"],["placeholder","Seleccione la fecha","type","text","name","title",1,"form-control",3,"formControlName"],[1,"col-12","col-sm-4"],["placeholder","Material de la montura","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["placeholder","Marca de la montura","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],["role","toolbar",1,"btn-toolbar"],["class","col-12 d-grid",4,"appRole"],["placeholder","C\xf3digo interno","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],["placeholder","C\xf3digo montura","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],["placeholder","Talla de la montura","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],["placeholder","Color de la montura","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],["placeholder","Precio","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],["placeholder","Cantidad","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],[1,"text-end","mt-2"],["type","submit","id","btn-save-event",1,"btn","btn-success","ms-1",3,"disabled","click"],[1,"col-12","d-grid"],["ngbDropdown",""],["placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items","formControlName"],["placeholder","Material de la luna","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],["placeholder","Accesorio","type","text","name","accesorio",1,"form-control",3,"formControlName","ngClass"],["placeholder","Cantidad","type","text","name","cantidad",1,"form-control",3,"formControlName","ngClass"],["placeholder","Precio","type","text","name","accesorio_compra",1,"form-control",3,"formControlName","ngClass"],["placeholder","Precio","type","text","name","accesorio_venta",1,"form-control",3,"formControlName","ngClass"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"ul",5,6),e.TgZ(7,"li",7),e.TgZ(8,"a",8),e._UZ(9,"i",9),e.TgZ(10,"span",10),e._uU(11,"Montura"),e.qZA(),e.qZA(),e.YNc(12,j,1,1,"ng-template",11),e.qZA(),e.TgZ(13,"li",7),e.TgZ(14,"a",8),e._UZ(15,"i",12),e.TgZ(16,"span",10),e._uU(17,"Luna"),e.qZA(),e.qZA(),e.YNc(18,z,1,1,"ng-template",11),e.qZA(),e.TgZ(19,"li",7),e.TgZ(20,"a",8),e._UZ(21,"i",13),e.TgZ(22,"span",10),e._uU(23,"Accesorio"),e.qZA(),e.qZA(),e.YNc(24,K,1,1,"ng-template",11),e.qZA(),e.qZA(),e._UZ(25,"div",14),e.qZA(),e.YNc(26,ue,92,53,"ng-template",null,15,e.W1O),e.YNc(28,be,54,27,"ng-template",null,16,e.W1O),e.YNc(30,Ie,54,27,"ng-template",null,17,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(6);e.xp6(1),e.Q6J("breadcrumbItems",r.breadCrumbItems),e.xp6(4),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(6),e.Q6J("ngbNavItem",2),e.xp6(6),e.Q6J("ngbNavItem",3),e.xp6(6),e.Q6J("ngbNavOutlet",a)}},directives:[U.V,p.Pz,p.nv,p.Vx,p.uN,p.tO,g.tP,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,g.mk,g.O5,H.g,p.jt,v.w9],styles:[""]}),o})();var Se=u(72156),Ue=u(59801),C=u(45788),J=u(19039),O=u(4680);class F{constructor(){this.cabeceraExcelCodMontura="CODIGO MONTURA",this.cabeceraExcelIdMont="ID MONTURA",this.cabeceraExcelMaterial="MATERIAL",this.cabeceraExcelMarca="MARCA",this.cabeceraExcelCodigo="CODIGO",this.cabeceraExcelTalla="TALLA",this.cabeceraExcelColor="COLOR",this.cabeceraExcelCantidad="CANTIDAD",this.cabeceraExcelPCompra="PRECIO COMPRA",this.cabeceraExcelPVenta="PRECIO VENTA",this.cabeceraExcelFIngreso="FECHA INGRESO",this.cabeceraExcelTipo="TIPO",this.cabeceraExcelSede="SEDE",this.cabeceraExcelIdLun="ID LUNA",this.cabeceraExcelIdAccesorio="ID ACCESORIO",this.cabeceraExcelNombre="NOMBRE"}}var y=u(91918);function Oe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"ngx-dropzone-preview",26),e.NdJ("removed",function(){const s=e.CHM(t).$implicit;return e.oxw().onRemove(s)}),e.TgZ(1,"ngx-dropzone-label"),e._uU(2),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit;e.Q6J("file",t)("removable",!0),e.xp6(2),e.hij("",t.name," ")}}let ye=(()=>{class o{constructor(t,r,a,s){this.fb=t,this.productoService=r,this.usuarioService=a,this.label=s,this.sede="campoSede",this.producto="campoProducto",this.sedeC="campoSedeC",this.productoC="campoProductoC",this.productos="campoProductos",this.files=[],this.errorImagen="",this.listProductos=[{id:1,nombre:"Monturas"},{id:2,nombre:"Lunas"},{id:3,nombre:"Accesorios"}],this.filebutton=!1,this.idSede=""}ngOnInit(){this.getListSedes(),this.crearFormulario(),this.breadCrumbItems=[{label:"Productos"},{label:"Actualizaci\xf3n por Excel",active:!0}],this.message="<div class='mb-3'><i class=\"display-4 text-muted uil uil-cloud-upload\"></i></div>Suelte los archivos aqu\xed o haga clic para cargar."}getListSedes(){this.listSedes=JSON.parse(localStorage.getItem("sedes")),this.idSede=this.usuarioService.getSedebyUser()}crearFormulario(){this.formExportar=this.fb.group({sede:[this.idSede,[c.kI.required]],producto:[null,[c.kI.required]]}),this.formExportarCrear=this.fb.group({[this.sedeC]:[this.idSede,[c.kI.required]],[this.productoC]:[null,[c.kI.required]]}),this.formImportar=this.fb.group({productos:[null,[c.kI.required]]})}f(t){return this.formExportar.get(t)}fC(t){return this.formExportarCrear.get(t)}exportarProductos(){if((0,d.H)("loading","Cargando..."),this.formExportar.valid){let t="";switch(this.f("producto").value){case 1:t="montura";break;case 2:t="luna";break;case 3:t="accesorio"}this.productoService.getProductosbySede(this.f("sede").value,t).subscribe(r=>{if((0,d.H)("close",null),0==r.length)(0,d.H)("success","No existen productos");else{let l=[];switch(t){case"montura":l=r.map(m=>({"ID MONTURA":m.id_producto,"PRECIO COMPRA":m.precio_montura_c,"PRECIO VENTA":m.precio_montura_v,TALLA:m.talla,CODIGO:m.codigo,"CODIGO MONTURA":m.codigo_montura,MARCA:m.marca,CANTIDAD:m.cantidad,COLOR:m.color,MATERIAL:m.material,TIPO:m.tipo,SEDE:m.id_sede,"FECHA INGRESO":new Date(m.fecha_creacion_monturas).toLocaleDateString("en-GB")}));break;case"luna":l=r.map(m=>({"ID LUNA":m.id_producto,"PRECIO COMPRA":m.precio_luna_c,"PRECIO VENTA":m.precio_luna_v,CANTIDAD:m.cantidad,MATERIAL:m.material,TIPO:m.tipo,SEDE:m.id_sede,"FECHA INGRESO":new Date(m.fecha_creacion_luna).toLocaleDateString("en-GB")}));break;case"accesorio":l=r.map(m=>({"ID ACCESORIO":m.id_producto,NOMBRE:m.nombre_accesorio,"PRECIO COMPRA":m.precio_accesorio_c,"PRECIO VENTA":m.precio_accesorio_v,CANTIDAD:m.cantidad,TIPO:m.tipo,SEDE:m.id_sede,"FECHA INGRESO":new Date(m.fecha_creacion_accesorio).toLocaleDateString("en-GB")}))}const M={Sheets:{hoja:C.P6.json_to_sheet(l)},SheetNames:["hoja"]},I=C.cW(M,{bookType:"xlsx",type:"array"}),P=new Blob([I],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),A=this.listSedes.find(m=>m.id_sede==this.f("sede").value);(0,J.Z)(P,t+"_"+A.nombre_sede)}})}}onSelect(t){this.files.push(...t.addedFiles),this.files.length>1?(this.errorImagen="Solo un archivo",this.files=[],this.filebutton=!1):(this.errorImagen="",this.filebutton=!0)}onRemove(t){this.filebutton=!1,this.files.splice(this.files.indexOf(t),1)}uploadFile(){const t=new FileReader;t.readAsBinaryString(this.files[0]),t.onload=r=>{let l,s=C.ij(r.target.result,{type:"binary"});if(s.SheetNames.forEach(i=>{l=C.P6.sheet_to_json(s.Sheets[i],{raw:!1,defval:""})}),this.validarCampoFecha(l))switch(l[0].TIPO.toLowerCase()){case"montura":l[0].hasOwnProperty(this.label.cabeceraExcelIdMont)?this.actualizarProducto(l,l[0].TIPO):this.crearProducto(l,l[0].TIPO);break;case"luna":l[0].hasOwnProperty(this.label.cabeceraExcelIdLun)?this.actualizarProducto(l,l[0].TIPO):this.crearProducto(l,l[0].TIPO);break;case"accesorio":l[0].hasOwnProperty(this.label.cabeceraExcelIdAccesorio)?this.actualizarProducto(l,l[0].TIPO):this.crearProducto(l,l[0].TIPO)}else(0,d.H)("error","Excel con fechas incorrectas")}}actualizarProducto(t,r){let a;this.validarCabeceraExcelUpdate(t,r)?(a=this.objExceltoDBUpdate(t,r),this.validarIdSede(t,a[0].id_sede)&&this.validarTipo(t,r)?((0,d.H)("loading","Cargando..."),this.productoService.updateProductsbyExcel(a).subscribe(l=>{(0,d.H)("close",null),(0,d.H)("success","Lista de "+r+" actualizada"),this.files=[],this.filebutton=!1})):(0,d.H)("error","Columna ID SEDE o TIPO incorrectos o faltantes")):(0,d.H)("error","Excel con cabecera incorrecta")}crearProducto(t,r){let a;if(this.validarCabeceraExcelCreate(t,r)){if(a=this.objExceltoDBCreate(t,r),!this.validarIdSede(t,a[0].id_sede)||!this.validarTipo(t,r))return void(0,d.H)("error","Columna ID SEDE o TIPO incorrectos o faltantes");(0,d.H)("loading","Cargando..."),this.productoService.createProductsbyExcel(a).subscribe(l=>{(0,d.H)("close",null),(0,d.H)("success","Lista de "+r+" creada"),this.files=[],this.filebutton=!1})}else(0,d.H)("error","Excel con cabecera incorrecta")}objExceltoDBCreate(t,r){let a,s,l;switch(r.toLowerCase()){case"montura":return a=t.map(i=>({material:""==i.MATERIAL?"SIN ESPECIFICAR":i.MATERIAL,marca:""==i.MARCA?"SIN ESPECIFICAR":i.MARCA,codigo:""==i.CODIGO?"SIN ESPECIFICAR":i.CODIGO,codigo_montura:""==i["CODIGO MONTURA"]?"SIN ESPECIFICAR":i["CODIGO MONTURA"],talla:""==i.TALLA?"SIN ESPECIFICAR":i.TALLA,color:""==i.COLOR?"SIN ESPECIFICAR":i.COLOR,precio_montura_c:isNaN(Number(i[this.label.cabeceraExcelPCompra]))?0:Number(i[this.label.cabeceraExcelPCompra]),precio_montura_v:isNaN(Number(i[this.label.cabeceraExcelPVenta]))?0:Number(i[this.label.cabeceraExcelPVenta]),cantidad:isNaN(Number(i.CANTIDAD))?0:Number(i.CANTIDAD),id_sede:i.SEDE,habilitado:!0,fecha_creacion_monturas:(0,O.p6)(i[this.label.cabeceraExcelFIngreso]),fecha_modificacion_monturas:new Date(Date.now())})),a.forEach(i=>{i.tipo=r.toLowerCase()}),a;case"luna":return s=t.map(i=>({material:""==i.MATERIAL?"SIN ESPECIFICAR":i.MATERIAL,precio_luna_c:isNaN(Number(i[this.label.cabeceraExcelPCompra]))?0:Number(i[this.label.cabeceraExcelPCompra]),precio_luna_v:isNaN(Number(i[this.label.cabeceraExcelPVenta]))?0:Number(i[this.label.cabeceraExcelPVenta]),cantidad:isNaN(Number(i.CANTIDAD))?0:Number(i.CANTIDAD),id_sede:i.SEDE,habilitado:!0,fecha_creacion_luna:(0,O.p6)(i[this.label.cabeceraExcelFIngreso]),fecha_modificacion_luna:new Date(Date.now())})),s.forEach(i=>{i.tipo=r.toLowerCase()}),s;case"accesorio":return l=t.map(i=>({nombre_accesorio:""==i.NOMBRE?"SIN ESPECIFICAR":i.NOMBRE,precio_accesorio_c:isNaN(Number(i[this.label.cabeceraExcelPCompra]))?0:Number(i[this.label.cabeceraExcelPCompra]),precio_accesorio_v:isNaN(Number(i[this.label.cabeceraExcelPVenta]))?0:Number(i[this.label.cabeceraExcelPVenta]),fecha_creacion_accesorio:(0,O.p6)(i[this.label.cabeceraExcelFIngreso]),fecha_modificacion_accesorio:new Date(Date.now()),cantidad:isNaN(Number(i.CANTIDAD))?0:Number(i.CANTIDAD),id_sede:i.SEDE,habilitado:!0})),l.forEach(i=>{i.tipo=r.toLowerCase()}),l}}objExceltoDBUpdate(t,r){let a,s,l;switch(r.toLowerCase()){case"montura":return a=t.map(i=>({id_producto:i["ID MONTURA"],precio_montura_c:isNaN(Number(i[this.label.cabeceraExcelPCompra]))?0:Number(i[this.label.cabeceraExcelPCompra]),precio_montura_v:isNaN(Number(i[this.label.cabeceraExcelPVenta]))?0:Number(i[this.label.cabeceraExcelPVenta]),cantidad:isNaN(Number(i.CANTIDAD))?0:Number(i.CANTIDAD),fecha_modificacion_monturas:new Date(Date.now()),tipo:i.TIPO,id_sede:i.SEDE,codigo_montura:i["CODIGO MONTURA"]})),a;case"luna":return s=t.map(i=>({id_producto:i["ID LUNA"],precio_luna_c:isNaN(Number(i[this.label.cabeceraExcelPCompra]))?0:Number(i[this.label.cabeceraExcelPCompra]),precio_luna_v:isNaN(Number(i[this.label.cabeceraExcelPVenta]))?0:Number(i[this.label.cabeceraExcelPVenta]),cantidad:isNaN(Number(i.CANTIDAD))?0:Number(i.CANTIDAD),fecha_modificacion_luna:new Date(Date.now()),tipo:i.TIPO,id_sede:i.SEDE})),s;case"accesorio":return l=t.map(i=>({id_producto:i["ID ACCESORIO"],precio_accesorio_c:isNaN(Number(i[this.label.cabeceraExcelPCompra]))?0:Number(i[this.label.cabeceraExcelPCompra]),precio_accesorio_v:isNaN(Number(i[this.label.cabeceraExcelPVenta]))?0:Number(i[this.label.cabeceraExcelPVenta]),fecha_modificacion_accesorio:new Date(Date.now()),cantidad:isNaN(Number(i.CANTIDAD))?0:Number(i.CANTIDAD),id_sede:i.SEDE,tipo:i.TIPO})),l}}validarCabeceraExcelCreate(t,r){switch(r.toLowerCase()){case"montura":return 12==Object.keys(t[0]).length&&t[0].hasOwnProperty(this.label.cabeceraExcelCodMontura)&&t[0].hasOwnProperty(this.label.cabeceraExcelMaterial)&&t[0].hasOwnProperty(this.label.cabeceraExcelMarca)&&t[0].hasOwnProperty(this.label.cabeceraExcelCodigo)&&t[0].hasOwnProperty("TALLA")&&t[0].hasOwnProperty("COLOR")&&t[0].hasOwnProperty(this.label.cabeceraExcelCantidad)&&t[0].hasOwnProperty(this.label.cabeceraExcelPCompra)&&t[0].hasOwnProperty(this.label.cabeceraExcelPVenta)&&t[0].hasOwnProperty(this.label.cabeceraExcelFIngreso)&&t[0].hasOwnProperty(this.label.cabeceraExcelTipo)&&t[0].hasOwnProperty(this.label.cabeceraExcelSede);case"luna":return 7==Object.keys(t[0]).length&&t[0].hasOwnProperty(this.label.cabeceraExcelMaterial)&&t[0].hasOwnProperty(this.label.cabeceraExcelCantidad)&&t[0].hasOwnProperty(this.label.cabeceraExcelPCompra)&&t[0].hasOwnProperty(this.label.cabeceraExcelPVenta)&&t[0].hasOwnProperty(this.label.cabeceraExcelFIngreso)&&t[0].hasOwnProperty(this.label.cabeceraExcelTipo)&&t[0].hasOwnProperty(this.label.cabeceraExcelSede);case"accesorio":return 7==Object.keys(t[0]).length&&t[0].hasOwnProperty(this.label.cabeceraExcelNombre)&&t[0].hasOwnProperty(this.label.cabeceraExcelCantidad)&&t[0].hasOwnProperty(this.label.cabeceraExcelPCompra)&&t[0].hasOwnProperty(this.label.cabeceraExcelPVenta)&&t[0].hasOwnProperty(this.label.cabeceraExcelFIngreso)&&t[0].hasOwnProperty(this.label.cabeceraExcelTipo)&&t[0].hasOwnProperty(this.label.cabeceraExcelSede);default:return!1}}validarCabeceraExcelUpdate(t,r){switch(r.toLowerCase()){case"montura":return 13==Object.keys(t[0]).length&&t[0].hasOwnProperty(this.label.cabeceraExcelCodMontura)&&t[0].hasOwnProperty(this.label.cabeceraExcelIdMont)&&t[0].hasOwnProperty(this.label.cabeceraExcelMaterial)&&t[0].hasOwnProperty(this.label.cabeceraExcelMarca)&&t[0].hasOwnProperty(this.label.cabeceraExcelCodigo)&&t[0].hasOwnProperty(this.label.cabeceraExcelTalla)&&t[0].hasOwnProperty(this.label.cabeceraExcelColor)&&t[0].hasOwnProperty(this.label.cabeceraExcelCantidad)&&t[0].hasOwnProperty(this.label.cabeceraExcelPCompra)&&t[0].hasOwnProperty(this.label.cabeceraExcelPVenta)&&t[0].hasOwnProperty(this.label.cabeceraExcelFIngreso)&&t[0].hasOwnProperty(this.label.cabeceraExcelTipo)&&t[0].hasOwnProperty(this.label.cabeceraExcelSede);case"luna":return 8==Object.keys(t[0]).length&&t[0].hasOwnProperty(this.label.cabeceraExcelIdLun)&&t[0].hasOwnProperty(this.label.cabeceraExcelMaterial)&&t[0].hasOwnProperty(this.label.cabeceraExcelCantidad)&&t[0].hasOwnProperty(this.label.cabeceraExcelPCompra)&&t[0].hasOwnProperty(this.label.cabeceraExcelPVenta)&&t[0].hasOwnProperty(this.label.cabeceraExcelFIngreso)&&t[0].hasOwnProperty(this.label.cabeceraExcelTipo)&&t[0].hasOwnProperty(this.label.cabeceraExcelSede);case"accesorio":return 8==Object.keys(t[0]).length&&t[0].hasOwnProperty(this.label.cabeceraExcelIdAccesorio)&&t[0].hasOwnProperty(this.label.cabeceraExcelNombre)&&t[0].hasOwnProperty(this.label.cabeceraExcelCantidad)&&t[0].hasOwnProperty(this.label.cabeceraExcelPCompra)&&t[0].hasOwnProperty(this.label.cabeceraExcelPVenta)&&t[0].hasOwnProperty(this.label.cabeceraExcelFIngreso)&&t[0].hasOwnProperty(this.label.cabeceraExcelTipo)&&t[0].hasOwnProperty(this.label.cabeceraExcelSede);default:return!1}}validarIdSede(t,r){return t.every(a=>a[this.label.cabeceraExcelSede]===r)}validarTipo(t,r){switch(r){case"montura":case"luna":case"accesorio":return t.every(a=>a[this.label.cabeceraExcelTipo]===r);default:return!1}}validarCampoFecha(t){return t.every(r=>10==r[this.label.cabeceraExcelFIngreso].length&&Date.parse((0,O.wd)(r[this.label.cabeceraExcelFIngreso])))}descargarPlantilla(){if(this.formExportarCrear.valid){let t="";switch(this.fC(this.productoC).value){case 1:t="montura";break;case 2:t="luna";break;case 3:t="accesorio"}let r=this.fC(this.sedeC).value;const a="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8";let l=[];switch(t){case"montura":l[0]={"PRECIO COMPRA":0,"PRECIO VENTA":0,TALLA:0,CODIGO:0,"CODIGO MONTURA":"--",MARCA:"MARCA",CANTIDAD:0,COLOR:"COLOR",MATERIAL:"MATERIAL",TIPO:t,SEDE:r,"FECHA INGRESO":new Date(Date.now()).toLocaleDateString("en-GB")};break;case"luna":l[0]={"PRECIO COMPRA":0,"PRECIO VENTA":0,CANTIDAD:0,MATERIAL:"MATERIAL",TIPO:t,SEDE:r,"FECHA INGRESO":new Date(Date.now()).toLocaleDateString("en-GB")};break;case"accesorio":l[0]={NOMBRE:"NOMBRE","PRECIO COMPRA":0,"PRECIO VENTA":0,CANTIDAD:0,TIPO:t,SEDE:r,"FECHA INGRESO":new Date(Date.now()).toLocaleDateString("en-GB")}}const M={Sheets:{hoja:C.P6.json_to_sheet(l)},SheetNames:["hoja"]},I=C.cW(M,{bookType:"xlsx",type:"array"}),P=new Blob([I],{type:a}),A=this.listSedes.find(m=>m.id_sede==r);(0,J.Z)(P,t+"_"+A.nombre_sede)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(S.k),e.Y36(E.i),e.Y36(F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-excel"]],decls:89,vars:15,consts:[[1,"container-fluid"],["title","Actualici\xf3n de Stock por Archivo Excel",3,"breadcrumbItems"],[1,"row"],[1,"col-12","col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-title-desc"],["role","alert",1,"alert","alert-danger"],[1,"alert-heading"],[3,"formGroup"],[1,"mb-1"],["ngbDropdown","",1,"mt-2","me-1"],["formControlName","sede","placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items"],["formControlName","producto","placeholder","Seleccione el producto","bindValue","id","bindLabel","nombre",3,"items"],[1,"col-12","d-grid"],["type","button",1,"btn","btn-primary","btn-block","mt-2","me-1",3,"disabled","click"],[1,"uil","uil-cloud-download","me-2"],["placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items","formControlName"],["placeholder","Seleccione el producto","bindValue","id","bindLabel","nombre",3,"items","formControlName"],[1,"col-12"],["ngx-dropzone","",1,"custom-dropzone",3,"accept","change"],[1,"display-4","text-muted","uil","uil-cloud-upload"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._uU(7,"Exportar para Actualizar"),e.qZA(),e.TgZ(8,"p",7),e._uU(9,"Seleccione la "),e.TgZ(10,"strong"),e._uU(11,"sede"),e.qZA(),e._uU(12," y "),e.TgZ(13,"strong"),e._uU(14,"tipo de producto"),e.qZA(),e._uU(15," para generar la tabla Excel a modificar. "),e.qZA(),e.TgZ(16,"div",8),e.TgZ(17,"h4",9),e._uU(18,"Advertencia al Actualizar!"),e.qZA(),e.TgZ(19,"p"),e._uU(20,"No modificar las siguientes columnas: ID MONTURA, TALLA, CODIGO, MARCA, COLOR, MATERIAL, TIPO, SEDE y FECHA INGRESO. Solo se podr\xe1 modificar las siguientes columnas: PRECIO COMPRA, PRECIO VENTA y CANTIDAD (solo digitos). No se permite eliminar productos por excel, a tal efecto ir a Men\xfa -> Listas de Productos."),e.qZA(),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"form",10),e.TgZ(23,"div",11),e.TgZ(24,"div",2),e.TgZ(25,"div",3),e.TgZ(26,"div",12),e._UZ(27,"ng-select",13),e.qZA(),e.qZA(),e.TgZ(28,"div",3),e.TgZ(29,"div",12),e._UZ(30,"ng-select",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",15),e.TgZ(32,"button",16),e.NdJ("click",function(){return r.exportarProductos()}),e._UZ(33,"i",17),e._uU(34," Descargar Archivo "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",3),e.TgZ(36,"div",4),e.TgZ(37,"div",5),e.TgZ(38,"div",6),e._uU(39,"Exportar para Crear"),e.qZA(),e.TgZ(40,"p",7),e._uU(41,"Seleccione la "),e.TgZ(42,"strong"),e._uU(43,"sede"),e.qZA(),e._uU(44," y "),e.TgZ(45,"strong"),e._uU(46,"tipo de producto"),e.qZA(),e._uU(47," para generar la tabla Excel a modificar. "),e.qZA(),e.TgZ(48,"div",8),e.TgZ(49,"h4",9),e._uU(50,"Advertencia al Crear!"),e.qZA(),e._UZ(51,"hr"),e.TgZ(52,"p"),e._uU(53,"Cada elemento (nuevo producto) debe reutilizarse copiando el TIPO y SEDE. (TIPO en min\xfasculas)."),e.qZA(),e._UZ(54,"hr"),e.qZA(),e.TgZ(55,"div"),e.TgZ(56,"form",10),e.TgZ(57,"div",11),e.TgZ(58,"div",2),e.TgZ(59,"div",3),e.TgZ(60,"div",12),e._UZ(61,"ng-select",18),e.qZA(),e.qZA(),e.TgZ(62,"div",3),e.TgZ(63,"div",12),e._UZ(64,"ng-select",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",15),e.TgZ(66,"button",16),e.NdJ("click",function(){return r.descargarPlantilla()}),e._UZ(67,"i",17),e._uU(68," Descargar Archivo "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",2),e.TgZ(70,"div",20),e.TgZ(71,"div",4),e.TgZ(72,"div",5),e.TgZ(73,"div",6),e._uU(74,"Importar"),e.qZA(),e.TgZ(75,"p",7),e._uU(76,"Cargue el archivo mofificado. "),e.qZA(),e.TgZ(77,"div"),e.TgZ(78,"form",10),e.TgZ(79,"div",21),e.NdJ("change",function(s){return r.onSelect(s)}),e.TgZ(80,"ngx-dropzone-label"),e.TgZ(81,"div"),e._UZ(82,"i",22),e.TgZ(83,"h3"),e._uU(84,"Suelte los archivos aqu\xed o haga clic para cargar."),e.qZA(),e.qZA(),e.qZA(),e.YNc(85,Oe,3,3,"ngx-dropzone-preview",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",24),e.TgZ(87,"button",25),e.NdJ("click",function(){return r.uploadFile()}),e._uU(88,"Subir Archivo"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("breadcrumbItems",r.breadCrumbItems),e.xp6(21),e.Q6J("formGroup",r.formExportar),e.xp6(5),e.Q6J("items",r.listSedes),e.xp6(3),e.Q6J("items",r.listProductos),e.xp6(2),e.Q6J("disabled",!r.formExportar.valid),e.xp6(24),e.Q6J("formGroup",r.formExportarCrear),e.xp6(5),e.s9C("formControlName",r.sedeC),e.Q6J("items",r.listSedes),e.xp6(3),e.s9C("formControlName",r.productoC),e.Q6J("items",r.listProductos),e.xp6(2),e.Q6J("disabled",!r.formExportarCrear.valid),e.xp6(12),e.Q6J("formGroup",r.formImportar),e.xp6(1),e.Q6J("accept","text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),e.xp6(6),e.Q6J("ngForOf",r.files),e.xp6(2),e.Q6J("disabled",!r.filebutton))},directives:[U.V,c._Y,c.JL,c.sg,p.jt,v.w9,c.JJ,c.u,y._f,y.NP,g.sg,y.dt],styles:["ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{margin:20px}.custom-dropzone[_ngcontent-%COMP%]{border-radius:5px;font-size:1vh}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:5px solid #eb4f4f}.icon[_ngcontent-%COMP%]{width:15%;height:15%}"]}),o})();const Le={asc:"desc",desc:"","":"asc"};let we=(()=>{class o{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=Le[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.lG2({type:o,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.rotate()}),2&t&&e.ekj("asc","asc"===r.direction)("desc","desc"===r.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),o})();var D=u(94774);const Je=["autocomplete"];function De(o,n){1&o&&e._UZ(0,"a",34),2&o&&e.Q6J("innerHTML",n.$implicit.id_producto,e.oJD)}function Qe(o,n){1&o&&e._UZ(0,"div",34),2&o&&e.Q6J("innerHTML",n.$implicit,e.oJD)}function Fe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._UZ(3,"ngb-highlight",35),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"ngb-highlight",35),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"ngb-highlight",35),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"ngb-highlight",35),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"ngb-highlight",35),e.qZA(),e.TgZ(12,"td"),e._UZ(13,"ngb-highlight",35),e.qZA(),e.TgZ(14,"td"),e._UZ(15,"ngb-highlight",35),e.qZA(),e.TgZ(16,"td"),e._UZ(17,"ngb-highlight",35),e.qZA(),e.TgZ(18,"td"),e._UZ(19,"ngb-highlight",35),e.qZA(),e.TgZ(20,"td"),e._UZ(21,"ngb-highlight",35),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"td"),e.TgZ(24,"a",36),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw().eliminar(s,l)}),e._UZ(25,"i",37),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit,r=n.index;e.xp6(3),e.Q6J("result",r+1),e.xp6(2),e.Q6J("result",t.material),e.xp6(2),e.Q6J("result",t.marca),e.xp6(2),e.Q6J("result",t.codigo),e.xp6(2),e.Q6J("result",t.talla),e.xp6(2),e.Q6J("result",t.color),e.xp6(2),e.Q6J("result",t.cantidad),e.xp6(2),e.Q6J("result",t.precio_montura_c),e.xp6(2),e.Q6J("result",t.precio_montura_v),e.xp6(2),e.Q6J("result",e.xi3(22,10,t.fecha_creacion_monturas,"dd/MM/yyyy"))}}function ke(o,n){1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"div",24),e.TgZ(2,"div",38),e.TgZ(3,"a",39),e._UZ(4,"i",40),e._uU(5," Cargando "),e.qZA(),e.qZA(),e.qZA(),e.qZA())}let Re=(()=>{class o{constructor(t,r,a){this.fb=t,this.usuarioService=r,this.monturasService=a,this.mostrarSpinner=!1,this.isMasterSel=!1,this.listSedes=[],this.checkedMonturasList=[],this.listAllProducts=[],this.keyword="id_producto",this.products=[],this.nombre_sedes="campoSede",this.idSede="",this.monturasList=[]}ngOnInit(){(0,d.H)("loading","Cargando..."),this.getListSedes(),this.getListMonturas(),this.crearFormulario(),this.breadCrumbItems=[{label:"Productos"},{label:"Inventario de Monturas",active:!0}]}getListMonturas(){this.monturasService.getProductosbySede(this.usuarioService.getSedebyUser(),"montura").subscribe(t=>{(0,d.H)("close",null),this.listMonturas=t;const r={isSelected:!1};this.listMonturas.forEach(a=>{Object.assign(a,r)}),this.mostrarSpinner=!0})}crearFormulario(){this.formInventario=this.fb.group({[this.nombre_sedes]:[this.idSede]})}fS(t){return this.formInventario.get(t)}changeSede(){this.products=[],this.idSede=this.fS(this.nombre_sedes).value,(0,d.H)("loading","Cargando..."),this.updateListMonturas(this.idSede)}updateListMonturas(t){this.monturasService.getProductosbySede(t,"montura").subscribe(r=>{(0,d.H)("close",null),this.listMonturas=r;const a={isSelected:!1};this.listMonturas.forEach(s=>{Object.assign(s,a)}),this.mostrarSpinner=!0})}getListSedes(){this.listSedes=JSON.parse(localStorage.getItem("sedes")),this.idSede=this.usuarioService.getSedebyUser()}removeProduct(){this.products=this.products.filter(t=>!1!==t.isSelected)}eliminar(t,r){this.products[r].isSelected=!1,this.removeProduct()}selectEvent(t){if(this.products.find(a=>a.id_producto===t.id_producto))return(0,d.H)("error","Este producto ya fue registrado"),this.autocomplete.clear(),void this.autocomplete.close();"montura"===t.tipo&&(this.products.push(Object.assign(Object.assign({},t),{isSelected:!0})),this.autocomplete.clear(),this.autocomplete.close())}onChangeSearch(t){}onFocused(t){this.autocomplete.close()}exportarMonturas(){const a=this.filterArrays(this.listMonturas,this.products);this.products.push(...a);let s=[];s=this.products.map(A=>({"ID MONTURA":A.id_producto,TALLA:A.talla,"CODIGO MONTURA":A.codigo_montura,CODIGO:A.codigo,MARCA:A.marca,CANTIDAD:A.cantidad,COLOR:A.color,MATERIAL:A.material,INVENTARIO:A.isSelected?"SI":"NO","FECHA INGRESO":new Date(A.fecha_creacion_monturas).toLocaleDateString("en-GB")}));const i={Sheets:{hoja:C.P6.json_to_sheet(s)},SheetNames:["hoja"]},M=C.cW(i,{bookType:"xlsx",type:"array"}),I=new Blob([M],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),P=this.listSedes.find(A=>A.id_sede==this.fS(this.nombre_sedes).value);(0,J.Z)(I,"monturas_"+P.nombre_sede),this.products=[]}filterArrays(t,r){let a=[];return a=t.filter(s=>!r.find(l=>l.id_producto===s.id_producto)),a}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(E.i),e.Y36(S.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-inventario"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Je,5),e.Gf(we,5)),2&t){let a;e.iGM(a=e.CRH())&&(r.autocomplete=a.first),e.iGM(a=e.CRH())&&(r.headers=a)}},features:[e._Bn([g.JJ])],decls:74,vars:16,consts:[[1,"container-fluid"],["title","Inventario de Monturas",3,"breadcrumbItems"],[1,"row"],[1,"col-12","mb-2"],["role","toolbar",1,"btn-toolbar"],[1,"col-12","col-md-3","d-grid","mb-2"],[3,"formGroup"],["ngbDropdown",""],["placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items","formControlName","change"],[1,"col-12","col-md-6","d-grid","mb-2","px-2"],[1,"position-relative"],["placeholder","Buscar productos","historyIdentifier","","focusFirst","true","minQueryLength","8",3,"data","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","inputFocused","keyup.enter"],["autocomplete",""],["itemTemplate",""],["notFoundTemplate",""],[1,"col-12","col-md-3","d-grid"],[1,"btn-group","mb-2"],["type","button","value","Descargar Archivo",1,"btn","btn-primary","btn-block",3,"disabled","click"],[1,"row","md-2"],[1,"col-sm-12","col-md-12"],[1,"dataTables_length","text-md-end"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"custom-select","custom-select-sm","form-control","form-control-sm","form-select","form-select-sm"],[3,"ngValue"],[1,"col-12"],[1,"table-responsive","mb-4"],[1,"table","table-centered","table-nowrap","mb-0","align-middle","table-card-list",2,"border-spacing","0 12px","width","100%"],[1,"bg-transparent"],[2,"width","20px"],[2,"width","170px"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center"],[1,"text-md-end","float-md-end","pagination-rounded"],[3,"innerHTML"],[3,"result","term"],["placement","top","ngbTooltip","Eliminar",1,"px-2","text-danger",3,"click"],[1,"uil","uil-trash-alt","font-size-18"],[1,"text-center","my-3"],["href","javascript:void(0);",1,"text-primary"],[1,"mdi","mdi-loading","mdi-spin","font-size-20","align-middle","me-2"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div"),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.TgZ(8,"div",7),e.TgZ(9,"ng-select",8),e.NdJ("change",function(){return r.changeSede()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e.TgZ(12,"ng-autocomplete",11,12),e.NdJ("selected",function(s){return r.selectEvent(s)})("inputChanged",function(s){return r.onChangeSearch(s)})("inputFocused",function(s){return r.onFocused(s)})("keyup.enter",function(s){return r.selectEvent(s)}),e.qZA(),e.YNc(14,De,1,1,"ng-template",null,13,e.W1O),e.YNc(16,Qe,1,1,"ng-template",null,14,e.W1O),e.qZA(),e.qZA(),e.TgZ(18,"div",15),e.TgZ(19,"div",16),e.TgZ(20,"input",17),e.NdJ("click",function(){return r.exportarMonturas()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",18),e.TgZ(22,"div",19),e.TgZ(23,"div",20),e.TgZ(24,"label",21),e._uU(25,"Mostrar"),e.TgZ(26,"select",22),e.TgZ(27,"option",23),e._uU(28,"10"),e.qZA(),e.TgZ(29,"option",23),e._uU(30,"25"),e.qZA(),e.TgZ(31,"option",23),e._uU(32,"50"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"100"),e.qZA(),e.TgZ(35,"option",23),e._uU(36,"200"),e.qZA(),e.qZA(),e._uU(37," entradas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",2),e.TgZ(39,"div",24),e.TgZ(40,"div",25),e.TgZ(41,"form"),e.TgZ(42,"table",26),e.TgZ(43,"thead"),e.TgZ(44,"tr",27),e._UZ(45,"th",28),e.TgZ(46,"th"),e._uU(47,"Ord."),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Material"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Marca"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"C\xf3d."),e.qZA(),e.TgZ(54,"th"),e._uU(55,"Talla"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"Color"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Stock"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"P. Compra"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"P. Venta"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"Fecha de ing."),e.qZA(),e.TgZ(66,"th",29),e._uU(67,"Acci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"tbody"),e.YNc(69,Fe,26,13,"tr",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(70,ke,6,0,"div",31),e.TgZ(71,"div",32),e.TgZ(72,"div",24),e._UZ(73,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(15),s=e.MAs(17);e.xp6(1),e.Q6J("breadcrumbItems",r.breadCrumbItems),e.xp6(6),e.Q6J("formGroup",r.formInventario),e.xp6(2),e.s9C("formControlName",r.nombre_sedes),e.Q6J("items",r.listSedes),e.xp6(3),e.Q6J("data",r.listMonturas)("searchKeyword",r.keyword)("itemTemplate",a)("notFoundTemplate",s),e.xp6(8),e.Q6J("disabled",!(r.products.length>0)),e.xp6(7),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(2),e.Q6J("ngValue",200),e.xp6(34),e.Q6J("ngForOf",r.products),e.xp6(1),e.Q6J("ngIf",!r.mostrarSpinner)}},directives:[U.V,c._Y,c.JL,c.sg,p.jt,v.w9,c.JJ,c.u,D.YR,c.YN,c.Kr,c.F,g.sg,g.O5,p._h,p._L],pipes:[g.uU],styles:[""]}),o})();var q=u(85298),Ve=u(1659),k=u.n(Ve);const He=["autocomplete"];function Ye(o,n){1&o&&e._UZ(0,"a",33),2&o&&e.Q6J("innerHTML",n.$implicit.id_producto,e.oJD)}function je(o,n){1&o&&e._UZ(0,"div",33),2&o&&e.Q6J("innerHTML",n.$implicit,e.oJD)}function Ge(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",38),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"ngb-highlight",38),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"ngb-highlight",38),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"ngb-highlight",38),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"ngb-highlight",38),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"ngb-highlight",38),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"ngb-highlight",38),e.qZA(),e.TgZ(15,"td"),e._UZ(16,"ngb-highlight",38),e.qZA(),e.TgZ(17,"td"),e._UZ(18,"ngb-highlight",38),e.qZA(),e.TgZ(19,"td"),e._UZ(20,"ngb-highlight",38),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td"),e.TgZ(23,"a",39),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw(2).eliminar(s,l)}),e._UZ(24,"i",40),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit,r=n.index;e.xp6(2),e.Q6J("result",r+1),e.xp6(2),e.Q6J("result",t.material),e.xp6(2),e.Q6J("result",t.marca),e.xp6(2),e.Q6J("result",t.codigo),e.xp6(2),e.Q6J("result",t.talla),e.xp6(2),e.Q6J("result",t.color),e.xp6(2),e.Q6J("result",t.cantidad),e.xp6(2),e.Q6J("result",t.precio_montura_c),e.xp6(2),e.Q6J("result",t.precio_montura_v),e.xp6(2),e.Q6J("result",e.xi3(21,10,t.fecha_creacion_monturas,"dd/MM/yyyy"))}}function ze(o,n){if(1&o&&(e.TgZ(0,"table",34),e.TgZ(1,"thead"),e.TgZ(2,"tr",35),e.TgZ(3,"th"),e._uU(4,"Ord."),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Material"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Marca"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"C\xf3d."),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Talla"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Color"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Stock"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"P. Compra"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"P. Venta"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Fecha de ing."),e.qZA(),e.TgZ(23,"th",36),e._uU(24,"Acci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,Ge,25,13,"tr",37),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(26),e.Q6J("ngForOf",t.products)}}function Be(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",38),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"ngb-highlight",38),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"ngb-highlight",38),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"ngb-highlight",38),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"ngb-highlight",38),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"ngb-highlight",38),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"a",39),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw(2).eliminar(s,l)}),e._UZ(16,"i",40),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit,r=n.index;e.xp6(2),e.Q6J("result",r+1),e.xp6(2),e.Q6J("result",t.material),e.xp6(2),e.Q6J("result",t.cantidad),e.xp6(2),e.Q6J("result",t.precio_luna_c),e.xp6(2),e.Q6J("result",t.precio_luna_v),e.xp6(2),e.Q6J("result",e.xi3(13,6,t.fecha_creacion_luna,"dd/MM/yyyy"))}}function Ke(o,n){if(1&o&&(e.TgZ(0,"table",34),e.TgZ(1,"thead"),e.TgZ(2,"tr",35),e.TgZ(3,"th"),e._uU(4,"Ord."),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Material"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Stock"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"P. Compra"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"P. Venta"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Fecha de ing."),e.qZA(),e.TgZ(15,"th",36),e._uU(16,"Acci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,Be,17,9,"tr",37),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.products)}}function Xe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",38),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"ngb-highlight",38),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"ngb-highlight",38),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"ngb-highlight",38),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"ngb-highlight",38),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"ngb-highlight",38),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"a",39),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw(2).eliminar(s,l)}),e._UZ(16,"i",40),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit,r=n.index;e.xp6(2),e.Q6J("result",r+1),e.xp6(2),e.Q6J("result",t.nombre_accesorio),e.xp6(2),e.Q6J("result",t.cantidad),e.xp6(2),e.Q6J("result",t.precio_accesorio_c),e.xp6(2),e.Q6J("result",t.precio_accesorio_v),e.xp6(2),e.Q6J("result",e.xi3(13,6,t.fecha_creacion_accesorio,"dd/MM/yyyy"))}}function $e(o,n){if(1&o&&(e.TgZ(0,"table",34),e.TgZ(1,"thead"),e.TgZ(2,"tr",35),e.TgZ(3,"th"),e._uU(4,"Ord."),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Stock"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"P. Compra"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"P. Venta"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Fecha de ing."),e.qZA(),e.TgZ(15,"th",36),e._uU(16,"Acci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,Xe,17,9,"tr",37),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.products)}}const et=[{path:"addproducts",component:Pe,data:{role:["Admin"]},canActivate:[q.a]},{path:"accesorios",component:_.c,data:{role:["Vendedor","Admin"]},canActivate:[q.a]},{path:"lunas",component:Se.N,data:{role:["Vendedor","Admin"]},canActivate:[q.a]},{path:"monturas",component:Ue.x,data:{role:["Vendedor","Admin"]},canActivate:[q.a]},{path:"updateexcel",component:ye,data:{role:["Admin"]},canActivate:[q.a]},{path:"inventario",component:Re,data:{role:["Admin"]},canActivate:[q.a]},{path:"traslados",component:(()=>{class o{constructor(t,r,a){this.fb=t,this.usuarioService=r,this.productosService=a,this.mostrarSpinner=!1,this.listSedes=[],this.products=[],this.nombre_sedes="campoSede",this.nombre_sedeDestino="campoSedeDestino",this.idSede="",this.idSedeDestino="",this.keyword="id_producto",this.producto="campoProducto",this.listProductos=[{id:1,nombre:"Monturas"},{id:2,nombre:"Lunas"},{id:3,nombre:"Accesorios"}],this.tipoProducto=0}ngOnInit(){this.getListSedes(),this.crearFormulario(),this.breadCrumbItems=[{label:"Productos"},{label:"Traslado de Productos",active:!0}]}getListSedes(){this.listSedes=JSON.parse(localStorage.getItem("sedes")),this.idSede=this.usuarioService.getSedebyUser()}crearFormulario(){this.formInventario=this.fb.group({[this.nombre_sedes]:[this.idSede,[c.kI.required]],[this.producto]:[null,[c.kI.required]]}),this.formSede=this.fb.group({[this.nombre_sedeDestino]:[null,[c.kI.required]]})}fS(t){return this.formInventario.get(t)}fD(t){return this.formSede.get(t)}changeSede(){this.products=[],this.idSede=this.fS(this.nombre_sedes).value,this.tipoProducto=this.fS(this.producto).value,null!=this.idSede&&null!=this.tipoProducto&&((0,d.H)("loading","Cargando..."),this.updateListProducts(this.idSede,this.tipoProducto))}eliminar(t,r){this.removeProduct(t.id_producto)}removeProduct(t){this.products=this.products.filter(r=>r.id_producto!==t)}updateListProducts(t,r){switch(r){case 1:this.productosService.getMonturasforSale(t).subscribe(a=>{(0,d.H)("close",null),this.listProducts=a,this.mostrarSpinner=!0});break;case 2:this.productosService.getLunasforSale(t).subscribe(a=>{(0,d.H)("close",null),this.listProducts=a,this.mostrarSpinner=!0});break;case 3:this.productosService.getAccesoriosforSale(t).subscribe(a=>{(0,d.H)("close",null),this.listProducts=a,this.mostrarSpinner=!0})}}selectEvent(t){if(this.products.find(a=>a.id_producto===t.id_producto))return(0,d.H)("error","Este producto ya fue registrado"),this.autocomplete.clear(),void this.autocomplete.close();switch(t.tipo){case"montura":case"luna":case"accesorio":this.products.push(Object.assign({},t)),this.autocomplete.clear(),this.autocomplete.close()}}onChangeSearch(t){}onFocused(t){this.autocomplete.close()}trasladoSedes(){const t=k().mixin({customClass:{cancelButton:"btn btn-danger ms-2",confirmButton:"btn btn-success"},buttonsStyling:!1});t.fire({title:"\xbfEst\xe1 seguro de realizar el traslado?",text:"\xa1No se podr\xe1 revertir esto!",icon:"warning",cancelButtonText:"No, cancelar!",confirmButtonText:"Si, trasladar!",showCancelButton:!0}).then(r=>{if(r.value&&this.formSede.valid){(0,d.H)("loading","Cargando...");let a=this.fD(this.nombre_sedeDestino).value,s=this.usuarioService.getUser().nombres+" "+this.usuarioService.getUser().apellidos;this.products.forEach(l=>{l.hasOwnProperty("traslado")||Object.assign(l,{traslado:[]})}),this.productosService.updateSedeofListProducts(s,a,this.products).subscribe(l=>{(0,d.H)("close",null),(0,d.H)("success","Traslado realizado"),this.products=[]},l=>{(0,d.H)("close",null),404!==l.status&&(0,d.H)("error","Error en la conexi\xf3n")})}else r.dismiss===k().DismissReason.cancel&&t.fire("Cancelado","La venta no se ha realizado","error")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(E.i),e.Y36(S.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-traslados"]],viewQuery:function(t,r){if(1&t&&e.Gf(He,5),2&t){let a;e.iGM(a=e.CRH())&&(r.autocomplete=a.first)}},decls:68,vars:22,consts:[[1,"container-fluid"],["title","Traslado de Productos",3,"breadcrumbItems"],[1,"row"],[1,"col-6"],[1,"card"],[1,"card-body"],[1,"card-title","mb-4"],[3,"formGroup"],[1,"mb-1"],[1,"col-12","col-md-6"],["ngbDropdown","",1,"mt-2","me-1"],["placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items","formControlName","change"],["placeholder","Seleccione el producto","bindValue","id","bindLabel","nombre",3,"items","formControlName","change"],[1,"col-12","d-grid","mt-2","px-2"],[1,"position-relative"],["placeholder","Buscar productos","historyIdentifier","","focusFirst","true","minQueryLength","8",3,"data","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","inputFocused","keyup.enter"],["autocomplete",""],["itemTemplate",""],["notFoundTemplate",""],[1,"col-12"],["placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items","formControlName"],[1,"btn-group"],["type","button","value","Trasladar",1,"btn","btn-primary","btn-block",3,"disabled","click"],[1,"row","md-2"],[1,"col-sm-12","col-md-12"],[1,"dataTables_length","text-md-end"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"custom-select","custom-select-sm","form-control","form-control-sm","form-select","form-select-sm"],[3,"ngValue"],[1,"table-responsive","mb-4"],["class","table  table-centered table-nowrap mb-0 align-middle table-card-list ","style","border-spacing: 0 12px; width: 100%;",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center"],[1,"text-md-end","float-md-end","pagination-rounded"],[3,"innerHTML"],[1,"table","table-centered","table-nowrap","mb-0","align-middle","table-card-list",2,"border-spacing","0 12px","width","100%"],[1,"bg-transparent"],[2,"width","170px"],[4,"ngFor","ngForOf"],[3,"result","term"],["placement","top","ngbTooltip","Eliminar",1,"px-2","text-danger",3,"click"],[1,"uil","uil-trash-alt","font-size-18"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h4",6),e._uU(7,"DE:"),e.qZA(),e.TgZ(8,"form",7),e.TgZ(9,"div",8),e.TgZ(10,"div",2),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"ng-select",11),e.NdJ("change",function(){return r.changeSede()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e.TgZ(15,"div",10),e.TgZ(16,"ng-select",12),e.NdJ("change",function(){return r.changeSede()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",2),e.TgZ(18,"div",13),e.TgZ(19,"div",14),e.TgZ(20,"ng-autocomplete",15,16),e.NdJ("selected",function(s){return r.selectEvent(s)})("inputChanged",function(s){return r.onChangeSearch(s)})("inputFocused",function(s){return r.onFocused(s)})("keyup.enter",function(s){return r.selectEvent(s)}),e.qZA(),e.YNc(22,Ye,1,1,"ng-template",null,17,e.W1O),e.YNc(24,je,1,1,"ng-template",null,18,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",3),e.TgZ(27,"div",4),e.TgZ(28,"div",5),e.TgZ(29,"h4",6),e._uU(30,"A:"),e.qZA(),e.TgZ(31,"div",8),e.TgZ(32,"div",2),e.TgZ(33,"div",19),e.TgZ(34,"form",7),e.TgZ(35,"div",10),e._UZ(36,"ng-select",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",2),e.TgZ(38,"div",13),e.TgZ(39,"div",21),e.TgZ(40,"input",22),e.NdJ("click",function(){return r.trasladoSedes()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",23),e.TgZ(42,"div",24),e.TgZ(43,"div",25),e.TgZ(44,"label",26),e._uU(45,"Mostrar"),e.TgZ(46,"select",27),e.TgZ(47,"option",28),e._uU(48,"10"),e.qZA(),e.TgZ(49,"option",28),e._uU(50,"25"),e.qZA(),e.TgZ(51,"option",28),e._uU(52,"50"),e.qZA(),e.TgZ(53,"option",28),e._uU(54,"100"),e.qZA(),e.TgZ(55,"option",28),e._uU(56,"200"),e.qZA(),e.qZA(),e._uU(57," entradas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",2),e.TgZ(59,"div",19),e.TgZ(60,"div",29),e.TgZ(61,"form"),e.YNc(62,ze,27,1,"table",30),e.YNc(63,Ke,19,1,"table",30),e.YNc(64,$e,19,1,"table",30),e.qZA(),e.qZA(),e.TgZ(65,"div",31),e.TgZ(66,"div",19),e._UZ(67,"div",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(23),s=e.MAs(25);e.xp6(1),e.Q6J("breadcrumbItems",r.breadCrumbItems),e.xp6(7),e.Q6J("formGroup",r.formInventario),e.xp6(5),e.s9C("formControlName",r.nombre_sedes),e.Q6J("items",r.listSedes),e.xp6(3),e.s9C("formControlName",r.producto),e.Q6J("items",r.listProductos),e.xp6(4),e.Q6J("data",r.listProducts)("searchKeyword",r.keyword)("itemTemplate",a)("notFoundTemplate",s),e.xp6(14),e.Q6J("formGroup",r.formSede),e.xp6(2),e.s9C("formControlName",r.nombre_sedeDestino),e.Q6J("items",r.listSedes),e.xp6(4),e.Q6J("disabled",!(r.products.length>0||r.formSede.valid)),e.xp6(7),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(2),e.Q6J("ngValue",200),e.xp6(7),e.Q6J("ngIf",1==r.tipoProducto),e.xp6(1),e.Q6J("ngIf",2==r.tipoProducto),e.xp6(1),e.Q6J("ngIf",3==r.tipoProducto)}},directives:[U.V,c._Y,c.JL,c.sg,p.jt,v.w9,c.JJ,c.u,D.YR,c.YN,c.Kr,c.F,g.O5,g.sg,p._h,p._L],pipes:[g.uU],styles:[""]}),o})(),data:{role:["Admin"]},canActivate:[q.a]}];let tt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(et)],Z.Bz]}),o})();var R=u(41867),V=u(64351),ot=u(2974);const rt={url:"https://httpbin.org/post"};let at=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[F,{provide:R._t,useValue:rt}],imports:[[tt,g.ez,c.UX,c.u5,N.h,p.XC,R.Ti,w.v,L.bt,v.A0,p.jF,p.HK,p.Gs,p.ZS,p.lQ,p.Oz,p.IJ,y.bB,V.n4,D.rP,V.Tf,ot.o]]}),o})()},4680:(Q,x,u)=>{function g(Z){return new Promise((_,f)=>{var b=new Image;b.setAttribute("crossOrigin","anonymous"),b.onload=()=>{var T=document.createElement("canvas");T.width=b.width,T.height=b.height,T.getContext("2d").drawImage(b,0,0);var e=T.toDataURL("image/png");_(e)},b.onerror=T=>{f(T)},b.src=Z})}function v(Z){const[_,f,b]=Z.split("/");return new Date(+b,+f-1,+_)}function N(Z){const[_,f,b]=Z.split("/");return b+"-"+f+"-"+_}function L(Z,_){var f=Math.pow(10,_||0);return Math.round(Z*f)/f}function w(Z){return Z.toISOString().substring(0,7)}u.d(x,{up:()=>g,p6:()=>v,wd:()=>N,NM:()=>L,fh:()=>w})}}]);