"use strict";(self.webpackChunkminible_ng=self.webpackChunkminible_ng||[]).push([[932],{2974:(F,I,l)=>{l.d(I,{o:()=>g});var u=l(83668);let g=(()=>{class C{}return C.\u0275fac=function(e){return new(e||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({imports:[[]]}),C})()},61932:(F,I,l)=>{l.r(I),l.d(I,{CashRegisterModule:()=>Re});var u=l(86019),g=l(49133),C=l(56225),S=l(85298),e=l(83668);const v={asc:"desc",desc:"","":"asc"};let q=(()=>{class r{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=v[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(t,o){1&t&&e.NdJ("click",function(){return o.rotate()}),2&t&&e.ekj("asc","asc"===o.direction)("desc","desc"===o.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),r})();class A{}var _=l(34099),T=l(23405),w=l(22411),m=l(81366),E=l(65686),U=l(79204),J=l(5250),x=l(18260),z=l(44522);let y=(()=>{class r{constructor(t){this.http=t}getIngresos(){return this.http.get(x.N.urlBackend+"getAllIngresos")}getIngresosbyDate(t,o,s){return this.http.get(x.N.urlBackend+"getAllIngresosByDate/"+t+"/"+o+"/"+s)}getEgresosbyDate(t,o,s){return this.http.get(x.N.urlBackend+"getAllEgresosByDate/"+t+"/"+o+"/"+s)}getIngresosEgresosbyMonth(t,o,s){return this.http.get(x.N.urlBackend+"getAllCajaPerMonths/"+t+"/"+o+"/"+s)}getEgresos(){return this.http.get(x.N.urlBackend+"getAllEgresos")}createIngresoEgreso(t){return this.http.post(x.N.urlBackend+"createNewIngreso",t)}deleteIngresoEgreso(t){return this.http.put(x.N.urlBackend+"unsubscribeEgresoById/"+t.id_caja,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(z.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var D=l(20566);let $=(()=>{class r{constructor(t,o,s){this.pipe=t,this.cajaService=o,this.usuarioService=s,this._loadingI$=new _.X(!0),this._searchI$=new T.xQ,this._ingreso$=new _.X([]),this._totalI$=new _.X(0),this.ingresoList=[],this._state={page:1,pageSize:5,searchTerm:"",sortColumn:"",sortDirection:""};let i=new Date(Date.now());i.setHours(0,0,1);let a=new Date(Date.now());a.setHours(23,59,0),this.getListIngresos(i,a)}updateTableIngreso(t){this.ingresoList=t,this._searchI$.pipe((0,m.b)(()=>this._loadingI$.next(!0)),(0,E.b)(200),(0,U.w)(()=>this._searchI()),(0,J.g)(200),(0,m.b)(()=>this._loadingI$.next(!1))).subscribe(o=>{this._ingreso$.next(o.invoices),this._totalI$.next(o.total)}),this._searchI$.next()}get ingreso$(){return this._ingreso$.asObservable()}get totalI$(){return this._totalI$.asObservable()}get loadingI$(){return this._loadingI$.asObservable()}get pageI(){return this._state.page}get pageSizeI(){return this._state.pageSize}get searchTermI(){return this._state.searchTerm}set pageI(t){this._setI({page:t})}set pageSizeI(t){this._setI({pageSize:t})}set searchTermI(t){this._setI({searchTerm:t})}set sortColumnI(t){this._setI({sortColumn:t})}set sortDirectionI(t){this._setI({sortDirection:t})}_setI(t){Object.assign(this._state,t),this._searchI$.next()}_searchI(){const{sortColumn:t,sortDirection:o,pageSize:s,page:i,searchTerm:a}=this._state;let c=function(r,n,t){return""===t||""===n?r:[...r].sort((o,s)=>{const i=((r,n)=>r<n?-1:r>n?1:0)(o[n],s[n]);return"asc"===t?i:-i})}(this.ingresoList,t,o);c=c.filter(h=>function(r,n,t){return String(r.monto).toLowerCase().includes(n)||r.descripcion.toLowerCase().includes(n.toLowerCase())||String(r.nombre_encargado).toLowerCase().includes(n.toLowerCase())}(h,a));const d=c.length;return c=c.slice((i-1)*s,(i-1)*s+s),(0,w.of)({invoices:c,total:d})}getListIngresos(t,o){this.cajaService.getIngresosbyDate(t,o,this.usuarioService.getSedebyUser()).subscribe(s=>{this.ingresoList=s,this._searchI$.pipe((0,m.b)(()=>this._loadingI$.next(!0)),(0,E.b)(200),(0,U.w)(()=>this._searchI()),(0,J.g)(200),(0,m.b)(()=>this._loadingI$.next(!1))).subscribe(i=>{this._ingreso$.next(i.invoices),this._totalI$.next(i.total)}),this._searchI$.next()})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(u.JJ),e.LFG(y),e.LFG(D.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Q=(()=>{class r{constructor(t,o,s){this.pipe=t,this.cajaService=o,this.usuarioService=s,this._loadingE$=new _.X(!0),this._searchE$=new T.xQ,this._egresos$=new _.X([]),this._totalE$=new _.X(0),this.egresoList=[],this._state={page:1,pageSize:5,searchTerm:"",sortColumn:"",sortDirection:""};let i=new Date(Date.now());i.setHours(0,0,1);let a=new Date(Date.now());a.setHours(23,59,0),this.getListEgresos(i,a)}updateTableEgreso(t){this.egresoList=t,this._searchE$.pipe((0,m.b)(()=>this._loadingE$.next(!0)),(0,E.b)(200),(0,U.w)(()=>this._searchE()),(0,J.g)(200),(0,m.b)(()=>this._loadingE$.next(!1))).subscribe(o=>{this._egresos$.next(o.invoices),this._totalE$.next(o.total)}),this._searchE$.next()}get egresos$(){return this._egresos$.asObservable()}get totalE$(){return this._totalE$.asObservable()}get loadingE$(){return this._loadingE$.asObservable()}get pageE(){return this._state.page}get pageSizeE(){return this._state.pageSize}get searchTermE(){return this._state.searchTerm}set pageE(t){this._setE({page:t})}set pageSizeE(t){this._setE({pageSize:t})}set searchTermE(t){this._setE({searchTerm:t})}set sortColumnE(t){this._setE({sortColumn:t})}set sortDirectionE(t){this._setE({sortDirection:t})}_setE(t){Object.assign(this._state,t),this._searchE$.next()}_searchE(){const{sortColumn:t,sortDirection:o,pageSize:s,page:i,searchTerm:a}=this._state;let c=function(r,n,t){return""===t||""===n?r:[...r].sort((o,s)=>{const i=((r,n)=>r<n?-1:r>n?1:0)(o[n],s[n]);return"asc"===t?i:-i})}(this.egresoList,t,o);c=c.filter(h=>function(r,n,t){return String(r.monto).toLowerCase().includes(n)||r.descripcion.toLowerCase().includes(n.toLowerCase())||String(r.nombre_encargado).toLowerCase().includes(n.toLowerCase())}(h,a));const d=c.length;return c=c.slice((i-1)*s,(i-1)*s+s),(0,w.of)({invoices:c,total:d})}getListEgresos(t,o){this.cajaService.getEgresosbyDate(t,o,this.usuarioService.getSedebyUser()).subscribe(s=>{this.egresoList=s,this._searchE$.pipe((0,m.b)(()=>this._loadingE$.next(!0)),(0,E.b)(200),(0,U.w)(()=>this._searchE()),(0,J.g)(200),(0,m.b)(()=>this._loadingE$.next(!1))).subscribe(i=>{this._egresos$.next(i.invoices),this._totalE$.next(i.total)}),this._searchE$.next()})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(u.JJ),e.LFG(y),e.LFG(D.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Z=l(63782),X=l(1659),L=l.n(X),p=l(20154),R=l(11950),K=l(48185),N=l(40345);function W(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",8),e.TgZ(1,"form",47),e.TgZ(2,"div",48),e.TgZ(3,"ng-select",49),e.NdJ("change",function(){return e.CHM(t),e.oxw().changeSede()}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.formSedes),e.xp6(2),e.s9C("formControlName",t.nombre_sedes),e.Q6J("items",t.listSedes)}}function ee(r,n){1&r&&(e.TgZ(0,"th"),e._uU(1,"Acci\xf3n"),e.qZA())}function te(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",52),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().eliminarIngreso(s)}),e._UZ(1,"i",53),e.qZA()}}function oe(r,n){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",50),e.ALo(3,"currency"),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"ngb-highlight",50),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"ngb-highlight",50),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"ngb-highlight",50),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"ngb-highlight",50),e.qZA(),e.TgZ(12,"td"),e.YNc(13,te,2,0,"a",51),e.qZA(),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(2),e.Q6J("result",e.xi3(3,11,t.monto,"S/ "))("term",o.serviceI.searchTerm),e.xp6(3),e.Q6J("result",t.metodo_pago)("term",o.serviceI.searchTerm),e.xp6(2),e.Q6J("result",t.descripcion)("term",o.serviceI.searchTerm),e.xp6(2),e.Q6J("result",t.fecha_creacion_caja)("term",o.serviceI.searchTerm),e.xp6(2),e.Q6J("result",t.nombre_encargado)("term",o.serviceI.searchTerm),e.xp6(2),e.Q6J("appRole",o.role)}}function re(r,n){1&r&&(e.TgZ(0,"th"),e._uU(1,"Acci\xf3n"),e.qZA())}function se(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",52),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().eliminarIngreso(s)}),e._UZ(1,"i",53),e.qZA()}}function ie(r,n){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",50),e.ALo(3,"currency"),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"ngb-highlight",50),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"ngb-highlight",50),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"ngb-highlight",50),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"ngb-highlight",50),e.qZA(),e.TgZ(12,"td"),e.YNc(13,se,2,0,"a",51),e.qZA(),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(2),e.Q6J("result",e.xi3(3,11,t.monto,"S/ "))("term",o.serviceE.searchTerm),e.xp6(3),e.Q6J("result",t.metodo_pago)("term",o.serviceE.searchTerm),e.xp6(2),e.Q6J("result",t.descripcion)("term",o.serviceE.searchTerm),e.xp6(2),e.Q6J("result",t.fecha_creacion_caja)("term",o.serviceE.searchTerm),e.xp6(2),e.Q6J("result",t.nombre_encargado)("term",o.serviceE.searchTerm),e.xp6(2),e.Q6J("appRole",o.role)}}function ne(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Campo requerido. "),e.qZA())}function ae(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," N\xfamero menor. "),e.qZA())}function ce(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros. "),e.qZA())}function ge(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Campo requerido. "),e.qZA())}function le(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Campo requerido. "),e.qZA())}function de(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," La descripci\xf3n debe ser menor a 50 caracteres. "),e.qZA())}const M=function(r){return{"is-invalid":r}};function he(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",54),e.TgZ(1,"h5",55),e._uU(2,"Nuevo Ingreso"),e.qZA(),e.TgZ(3,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEventModal()}),e.qZA(),e.qZA(),e.TgZ(4,"div",57),e.TgZ(5,"form",47),e.TgZ(6,"div",20),e.TgZ(7,"div",21),e.TgZ(8,"div",58),e.TgZ(9,"label",59),e._uU(10,"Monto"),e.qZA(),e._UZ(11,"input",60),e.TgZ(12,"div",61),e.YNc(13,ne,2,0,"div",62),e.YNc(14,ae,2,0,"div",62),e.YNc(15,ce,2,0,"div",62),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",21),e.TgZ(17,"div",58),e.TgZ(18,"label",59),e._uU(19,"M\xe9todo"),e.qZA(),e._UZ(20,"ng-select",63),e.TgZ(21,"div",61),e.YNc(22,ge,2,0,"div",62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",20),e.TgZ(24,"div",15),e.TgZ(25,"div",58),e.TgZ(26,"label",59),e._uU(27,"Descripci\xf3n"),e.qZA(),e.TgZ(28,"textarea",64),e._uU(29,"            "),e.qZA(),e.TgZ(30,"div",61),e.YNc(31,le,2,0,"div",62),e.YNc(32,de,2,0,"div",62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",65),e.TgZ(34,"button",66),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEventModal()}),e._uU(35," Cerrar "),e.qZA(),e.TgZ(36,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw().guardarIngreso()}),e._uU(37," Guardar "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.formIngreso),e.xp6(6),e.s9C("formControlName",t.monto_ingreso),e.Q6J("ngClass",e.VKq(15,M,t.formCI.campoMontoIngreso.invalid&&(t.formCI.campoMontoIngreso.dirty||t.formCI.campoMontoIngreso.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formCI.campoMontoIngreso.errors?null:t.formCI.campoMontoIngreso.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formCI.campoMontoIngreso.errors?null:t.formCI.campoMontoIngreso.errors.min),e.xp6(1),e.Q6J("ngIf",null==t.formCI.campoMontoIngreso.errors?null:t.formCI.campoMontoIngreso.errors.pattern),e.xp6(5),e.s9C("formControlName",t.metodoPagoContado_ingreso),e.Q6J("items",t.listMetodosPagos)("ngClass",e.VKq(17,M,t.formCI.campoMetodoPagoContadoIngreso.invalid&&(t.formCI.campoMetodoPagoContadoIngreso.dirty||t.formCI.campoMetodoPagoContadoIngreso.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formCI.campoMetodoPagoContadoIngreso.errors?null:t.formCI.campoMetodoPagoContadoIngreso.errors.required),e.xp6(6),e.s9C("formControlName",t.descripcion_ingreso),e.Q6J("ngClass",e.VKq(19,M,t.formCI.campoDescripcionIngreso.invalid&&(t.formCI.campoDescripcionIngreso.dirty||t.formCI.campoDescripcionIngreso.touched))),e.xp6(3),e.Q6J("ngIf",null==t.formCI.campoDescripcionIngreso.errors?null:t.formCI.campoDescripcionIngreso.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formCI.campoDescripcionIngreso.errors?null:t.formCI.campoDescripcionIngreso.errors.maxlength),e.xp6(4),e.Q6J("disabled",!t.formIngreso.valid)}}function ue(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Campo requerido. "),e.qZA())}function _e(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," N\xfamero menor. "),e.qZA())}function pe(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Ingrese solo n\xfameros. "),e.qZA())}function me(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Campo requerido. "),e.qZA())}function Ze(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," Campo requerido. "),e.qZA())}function fe(r,n){1&r&&(e.TgZ(0,"div"),e._uU(1," La descripci\xf3n debe ser menor a 50 caracteres. "),e.qZA())}function Te(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",54),e.TgZ(1,"h5",55),e._uU(2,"Nuevo Egreso"),e.qZA(),e.TgZ(3,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEventModal()}),e.qZA(),e.qZA(),e.TgZ(4,"div",57),e.TgZ(5,"form",47),e.TgZ(6,"div",20),e.TgZ(7,"div",21),e.TgZ(8,"div",58),e.TgZ(9,"label",59),e._uU(10,"Monto"),e.qZA(),e._UZ(11,"input",60),e.TgZ(12,"div",61),e.YNc(13,ue,2,0,"div",62),e.YNc(14,_e,2,0,"div",62),e.YNc(15,pe,2,0,"div",62),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",21),e.TgZ(17,"div",58),e.TgZ(18,"label",59),e._uU(19,"M\xe9todo"),e.qZA(),e._UZ(20,"ng-select",63),e.TgZ(21,"div",61),e.YNc(22,me,2,0,"div",62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",20),e.TgZ(24,"div",15),e.TgZ(25,"div",58),e.TgZ(26,"label",59),e._uU(27,"Descripci\xf3n"),e.qZA(),e.TgZ(28,"textarea",64),e._uU(29,"            "),e.qZA(),e.TgZ(30,"div",61),e.YNc(31,Ze,2,0,"div",62),e.YNc(32,fe,2,0,"div",62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",65),e.TgZ(34,"button",66),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEventModal()}),e._uU(35," Cerrar "),e.qZA(),e.TgZ(36,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw().guardarEgreso()}),e._uU(37," Guardar "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.formEgreso),e.xp6(6),e.s9C("formControlName",t.monto_egreso),e.Q6J("ngClass",e.VKq(15,M,t.formCE.campoMontoEgreso.invalid&&(t.formCE.campoMontoEgreso.dirty||t.formCE.campoMontoEgreso.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formCE.campoMontoEgreso.errors?null:t.formCE.campoMontoEgreso.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formCE.campoMontoEgreso.errors?null:t.formCE.campoMontoEgreso.errors.min),e.xp6(1),e.Q6J("ngIf",null==t.formCE.campoMontoEgreso.errors?null:t.formCE.campoMontoEgreso.errors.pattern),e.xp6(5),e.s9C("formControlName",t.metodoPagoContado_egreso),e.Q6J("items",t.listMetodosPagos)("ngClass",e.VKq(17,M,t.formCE.campoMetodoPagoContadoEgreso.invalid&&(t.formCE.campoMetodoPagoContadoEgreso.dirty||t.formCE.campoMetodoPagoContadoEgreso.touched))),e.xp6(2),e.Q6J("ngIf",null==t.formCE.campoMetodoPagoContadoEgreso.errors?null:t.formCE.campoMetodoPagoContadoEgreso.errors.required),e.xp6(6),e.s9C("formControlName",t.descripcion_egreso),e.Q6J("ngClass",e.VKq(19,M,t.formCE.campoDescripcionEgreso.invalid&&(t.formCE.campoDescripcionEgreso.dirty||t.formCE.campoDescripcionEgreso.touched))),e.xp6(3),e.Q6J("ngIf",null==t.formCE.campoDescripcionEgreso.errors?null:t.formCE.campoDescripcionEgreso.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formCE.campoDescripcionEgreso.errors?null:t.formCE.campoDescripcionEgreso.errors.maxlength),e.xp6(4),e.Q6J("disabled",!t.formEgreso.valid)}}let Ce=(()=>{class r{constructor(t,o,s,i,a,c){this.serviceI=t,this.serviceE=o,this.modalService=s,this.formBuilder=i,this.cajaService=a,this.usuarioService=c,this.role="Admin",this.nombre_sedes="campoSede",this.idSede="",this.submitted=!1,this.monto_ingreso="campoMontoIngreso",this.fecha_ingreso="campoFechaIngreso",this.descripcion_ingreso="campoDescripcionIngreso",this.metodoPagoContado_ingreso="campoMetodoPagoContadoIngreso",this.monto_egreso="campoMontoEgreso",this.fecha_egreso="campoFechaEgreso",this.descripcion_egreso="campoDescripcionEgreso",this.metodoPagoContado_egreso="campoMetodoPagoContadoEgreso",this.listMetodosPagos=["F\xedsico","Yape","Plin","Interbancario"],this.exampleOptions={defaultDate:"",altInputClass:"form-control"},this.hideme=[],this.eFisico=0,this.eVirtual=0,this.iFisico=0,this.iVirtual=0,this.numberDecimalPattern=/^\d+(\.\d{1,2})?$/,this.caja=new A,this.ingresos$=t.ingreso$,this.total$=t.totalI$,this.egresos$=o.egresos$,this.totalE$=o.totalE$;let d=new Date(Date.now());d.setHours(0,0,1);let h=new Date(Date.now());h.setHours(23,59,0),this.cajaService.getEgresosbyDate(d,h,this.usuarioService.getSedebyUser()).subscribe(f=>{this.eFisico=0,this.eVirtual=0,this.egresoTotal=f.reduce((b,j)=>b+j.monto,0),f.forEach(b=>{"F\xedsico"==b.metodo_pago?this.eFisico+=b.monto:this.eVirtual+=b.monto})}),this.cajaService.getIngresosbyDate(d,h,this.usuarioService.getSedebyUser()).subscribe(f=>{this.iFisico=0,this.iVirtual=0,this.ingresoTotal=f.reduce((b,j)=>b+j.monto,0),f.forEach(b=>{"F\xedsico"==b.metodo_pago?this.iFisico+=b.monto:this.iVirtual+=b.monto})})}ngOnInit(){this.breadCrumbItems=[{label:"Caja"},{label:"Registro de Ingreso y Egreso",active:!0}],this.getListSedes(),this.crearFormulario(),this.selectedDate=(new Date).getDate(),this._fetchData()}getListSedes(){this.listSedes=JSON.parse(localStorage.getItem("sedes")),this.idSede=this.usuarioService.getSedebyUser()}crearFormulario(){this.formIngreso=this.formBuilder.group({[this.monto_ingreso]:[null,[g.kI.required,g.kI.min(.1),g.kI.pattern(this.numberDecimalPattern)]],[this.fecha_ingreso]:[],[this.descripcion_ingreso]:[null,[g.kI.required,g.kI.maxLength(50)]],[this.metodoPagoContado_ingreso]:[null,[g.kI.required]]}),this.formEgreso=this.formBuilder.group({[this.monto_egreso]:[null,[g.kI.required,g.kI.min(.1),g.kI.pattern(this.numberDecimalPattern)]],[this.fecha_egreso]:[],[this.descripcion_egreso]:[null,[g.kI.required,g.kI.maxLength(50)]],[this.metodoPagoContado_egreso]:[null,[g.kI.required]]}),this.formSedes=this.formBuilder.group({[this.nombre_sedes]:[this.idSede]})}_fetchData(){}onSortI({column:t,direction:o}){this.headers.forEach(s=>{s.sortable!==t&&(s.direction="")}),this.serviceI.sortColumnI=t,this.serviceI.sortDirectionI=o}onSortE({column:t,direction:o}){this.headers.forEach(s=>{s.sortable!==t&&(s.direction="")}),this.serviceE.sortColumnE=t,this.serviceE.sortDirectionE=o}fS(t){return this.formSedes.get(t)}changeSede(){this.idSede=this.fS(this.nombre_sedes).value,this.updateListIngresos(this.idSede),this.updateListEgresos(this.idSede)}centerModal(t){this.modalService.open(t,{centered:!0,windowClass:"modal-holder"})}deleteEventData(){this.editEvent.remove(),this.modalService.dismissAll()}closeEventModal(){this.modalService.dismissAll()}fI(t){return this.formIngreso.get(t)}fE(t){return this.formEgreso.get(t)}guardarIngreso(){this.formIngreso.valid&&(this.caja.monto=Number(this.fI(this.monto_ingreso).value),this.caja.fecha_creacion_caja=new Date(Date.now()),this.caja.id_encargado=this.usuarioService.getUser().id_usuario,this.caja.nombre_encargado=this.usuarioService.getUser().nombres+" "+this.usuarioService.getUser().apellidos,this.caja.descripcion=this.fI(this.descripcion_ingreso).value,this.caja.id_sede=this.usuarioService.getSedebyUser(),this.caja.habilitado=!0,this.caja.egreso=!1,this.caja.metodo_pago=this.fI(this.metodoPagoContado_ingreso).value,(0,Z.H)("loading","Cargando..."),this.cajaService.createIngresoEgreso(this.caja).subscribe(t=>{this.updateListIngresos(this.idSede),this.formIngreso.reset(),this.modalService.dismissAll(),(0,Z.H)("close",null),(0,Z.H)("success","Ingreso guardado")}))}guardarEgreso(){this.formEgreso.valid&&(this.caja.monto=Number(this.fE(this.monto_egreso).value),this.caja.fecha_creacion_caja=new Date(Date.now()),this.caja.id_encargado=this.usuarioService.getUser().id_usuario,this.caja.nombre_encargado=this.usuarioService.getUser().nombres+" "+this.usuarioService.getUser().apellidos,this.caja.descripcion=this.fE(this.descripcion_egreso).value,this.caja.id_sede=this.usuarioService.getSedebyUser(),this.caja.habilitado=!0,this.caja.egreso=!0,this.caja.metodo_pago=this.fE(this.metodoPagoContado_egreso).value,(0,Z.H)("loading","Cargando..."),this.cajaService.createIngresoEgreso(this.caja).subscribe(t=>{this.formEgreso.reset(),this.modalService.dismissAll(),this.updateListEgresos(this.idSede),(0,Z.H)("close",null),(0,Z.H)("success","Egreso guardado")}))}eliminarIngreso(t){L().fire({title:"\xbfEst\xe1 seguro que desea eliminar?",text:"No se podr\xe1 revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Si, eliminar!"}).then(o=>{o.value?((0,Z.H)("loading","Cargando..."),this.cajaService.deleteIngresoEgreso(t).subscribe(s=>{t.egreso?((0,Z.H)("close",null),(0,Z.H)("success","Egreso eliminado"),this.updateListEgresos(this.idSede)):((0,Z.H)("close",null),(0,Z.H)("success","Ingreso eliminado"),this.updateListIngresos(this.idSede))},s=>{(0,Z.H)("close",null),(0,Z.H)("error","Error en la conexi\xf3n")})):o.dismiss===L().DismissReason.cancel&&L().fire("Cancelado","Movimiento no eliminado","error")})}updateListIngresos(t){let o=new Date(Date.now());o.setHours(0,0,1);let s=new Date(Date.now());s.setHours(23,59,0),this.cajaService.getIngresosbyDate(o,s,t).subscribe(i=>{this.serviceI.updateTableIngreso(i),this.ingresoTotal=0,this.iFisico=0,this.iVirtual=0,this.ingresoTotal=i.reduce((a,c)=>a+c.monto,0),i.forEach(a=>{"F\xedsico"==a.metodo_pago?this.iFisico+=a.monto:this.iVirtual+=a.monto})})}updateListEgresos(t){let o=new Date(Date.now());o.setHours(0,0,1);let s=new Date(Date.now());s.setHours(23,59,0),this.cajaService.getEgresosbyDate(o,s,t).subscribe(i=>{this.serviceE.updateTableEgreso(i),this.egresoTotal=0,this.eFisico=0,this.eVirtual=0,this.egresoTotal=i.reduce((a,c)=>a+c.monto,0),i.forEach(a=>{"F\xedsico"==a.metodo_pago?this.eFisico+=a.monto:this.eVirtual+=a.monto})})}get formCI(){return this.formIngreso.controls}get formCE(){return this.formEgreso.controls}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($),e.Y36(Q),e.Y36(p.FF),e.Y36(g.qu),e.Y36(y),e.Y36(D.i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-cash-register"]],viewQuery:function(t,o){if(1&t&&e.Gf(q,5),2&t){let s;e.iGM(s=e.CRH())&&(o.headers=s)}},features:[e._Bn([$,Q,u.JJ])],decls:148,vars:62,consts:[[1,"container-fluid"],["title","Caja de Registro",3,"breadcrumbItems"],[1,"row","mt-2","mb-2"],[1,"col-12","col-md-3","d-grid","text-center","mb-2"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"uil","uil-arrow-growth","me-2"],["type","button",1,"btn","btn-danger","btn-block",3,"click"],[1,"uil","uil-chart-down","me-2"],[1,"col-12","col-md-3","d-grid"],["class","col-12 col-md-3 d-grid",4,"appRole"],[1,"row","mb-3"],[1,"col-lg-6"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-12"],[1,"mt-0"],[1,"text-center"],[1,"text-success","me-1"],[1,"mdi","mdi-arrow-up-bold","me-1"],[1,"row"],[1,"col-6"],[1,"row","mb-md-2"],[1,"col-12","text-md-end"],[1,"dataTables_length"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"custom-select","custom-select-sm","form-control","form-control-sm","form-select","form-select-sm",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"table-responsive","mb-4"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"table","table-centered","dt-responsive","nowrap","table-card-list",2,"border-spacing","0 12px","width","100%"],[1,"table-light"],[1,"bg-transparent"],["scope","col","sortable","amount",3,"sort"],["scope","col","sortable","type",3,"sort"],["scope","col","sortable","description",3,"sort"],["scope","col","sortable","date",3,"sort"],["scope","col","sortable","name",3,"sort"],[4,"appRole"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center"],[1,"text-md-end","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],[1,"text-danger","me-1"],[1,"mdi","mdi-arrow-down-bold","me-1"],["centerDataModalIngreso",""],["centerDataModalEgreso",""],[3,"formGroup"],["ngbDropdown",""],["placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items","formControlName","change"],[3,"result","term"],["class","px-3 text-danger","placement","top","ngbTooltip","Delete",3,"click",4,"appRole"],["placement","top","ngbTooltip","Delete",1,"px-3","text-danger",3,"click"],[1,"uil","uil-trash-alt","font-size-18"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[1,"mb-3"],[1,"control-label"],["placeholder","Ingrese el monto","type","text","name","title",1,"form-control",3,"formControlName","ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["name","selectMetodo","placeholder","Seleccione",3,"items","formControlName","ngClass"],["id","billing-observaciones","rows","3","placeholder","Ingrese la descripci\xf3n",1,"form-control",3,"formControlName","ngClass"],[1,"text-end","mt-2"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit","id","btn-save-event",1,"btn","btn-success","ms-1",3,"disabled","click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(145);return o.centerModal(a)}),e._UZ(5,"i",5),e._uU(6," Registar Ingreso "),e.qZA(),e.qZA(),e.TgZ(7,"div",3),e.TgZ(8,"button",6),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(147);return o.centerModal(a)}),e._UZ(9,"i",7),e._uU(10,"Registar Egreso "),e.qZA(),e.qZA(),e._UZ(11,"div",8),e.YNc(12,W,4,3,"div",9),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"div",14),e.TgZ(18,"div",15),e.TgZ(19,"div",16),e.TgZ(20,"h4",17),e._uU(21,"Ingreso Total: "),e.TgZ(22,"span",18),e._UZ(23,"i",19),e._uU(24),e.ALo(25,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",20),e.TgZ(27,"div",21),e.TgZ(28,"h5",17),e._uU(29),e.ALo(30,"currency"),e.qZA(),e.qZA(),e.TgZ(31,"div",21),e.TgZ(32,"h5",17),e._uU(33),e.ALo(34,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",12),e.TgZ(36,"div",13),e.TgZ(37,"div",22),e.TgZ(38,"div",23),e.TgZ(39,"div",24),e.TgZ(40,"label",25),e._uU(41,"Mostrar"),e.TgZ(42,"select",26),e.NdJ("ngModelChange",function(a){return o.serviceI.pageSizeI=a}),e.TgZ(43,"option",27),e._uU(44,"5"),e.qZA(),e.TgZ(45,"option",27),e._uU(46,"10"),e.qZA(),e.TgZ(47,"option",27),e._uU(48,"25"),e.qZA(),e.TgZ(49,"option",27),e._uU(50,"50"),e.qZA(),e.TgZ(51,"option",27),e._uU(52,"100"),e.qZA(),e.qZA(),e._uU(53," entradas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",28),e.TgZ(55,"div",29),e.TgZ(56,"form"),e.TgZ(57,"table",30),e.TgZ(58,"thead",31),e.TgZ(59,"tr",32),e.TgZ(60,"th",33),e.NdJ("sort",function(a){return o.onSortI(a)}),e._uU(61,"Monto"),e.qZA(),e.TgZ(62,"th",34),e.NdJ("sort",function(a){return o.onSortI(a)}),e._uU(63,"M\xe9todo"),e.qZA(),e.TgZ(64,"th",35),e.NdJ("sort",function(a){return o.onSortI(a)}),e._uU(65,"Descripci\xf3n"),e.qZA(),e.TgZ(66,"th",36),e.NdJ("sort",function(a){return o.onSortI(a)}),e._uU(67,"Fecha"),e.qZA(),e.TgZ(68,"th",37),e.NdJ("sort",function(a){return o.onSortI(a)}),e._uU(69,"Usuario"),e.qZA(),e.YNc(70,ee,2,0,"th",38),e.qZA(),e.qZA(),e.TgZ(71,"tbody"),e.YNc(72,oe,14,14,"tr",39),e.ALo(73,"async"),e.qZA(),e.qZA(),e.TgZ(74,"div",40),e.TgZ(75,"div",15),e.TgZ(76,"div",41),e.TgZ(77,"ngb-pagination",42),e.NdJ("pageChange",function(a){return o.serviceI.pageI=a}),e.ALo(78,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"div",11),e.TgZ(80,"div",12),e.TgZ(81,"div",13),e.TgZ(82,"div",14),e.TgZ(83,"div",15),e.TgZ(84,"div",16),e.TgZ(85,"h4",17),e._uU(86,"Egreso Total: "),e.TgZ(87,"span",43),e._UZ(88,"i",44),e._uU(89),e.ALo(90,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",20),e.TgZ(92,"div",21),e.TgZ(93,"h5",17),e._uU(94),e.ALo(95,"currency"),e.qZA(),e.qZA(),e.TgZ(96,"div",21),e.TgZ(97,"h5",17),e._uU(98),e.ALo(99,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(100,"div",12),e.TgZ(101,"div",13),e.TgZ(102,"div",22),e.TgZ(103,"div",23),e.TgZ(104,"div",24),e.TgZ(105,"label",25),e._uU(106,"Mostrar"),e.TgZ(107,"select",26),e.NdJ("ngModelChange",function(a){return o.serviceE.pageSizeE=a}),e.TgZ(108,"option",27),e._uU(109,"5"),e.qZA(),e.TgZ(110,"option",27),e._uU(111,"10"),e.qZA(),e.TgZ(112,"option",27),e._uU(113,"25"),e.qZA(),e.TgZ(114,"option",27),e._uU(115,"50"),e.qZA(),e.TgZ(116,"option",27),e._uU(117,"100"),e.qZA(),e.qZA(),e._uU(118," entradas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(119,"div",28),e.TgZ(120,"div",29),e.TgZ(121,"form"),e.TgZ(122,"table",30),e.TgZ(123,"thead",31),e.TgZ(124,"tr",32),e.TgZ(125,"th",33),e.NdJ("sort",function(a){return o.onSortE(a)}),e._uU(126,"Monto"),e.qZA(),e.TgZ(127,"th",34),e.NdJ("sort",function(a){return o.onSortE(a)}),e._uU(128,"M\xe9todo"),e.qZA(),e.TgZ(129,"th",35),e.NdJ("sort",function(a){return o.onSortE(a)}),e._uU(130,"Descripci\xf3n"),e.qZA(),e.TgZ(131,"th",36),e.NdJ("sort",function(a){return o.onSortE(a)}),e._uU(132,"Fecha"),e.qZA(),e.TgZ(133,"th",37),e.NdJ("sort",function(a){return o.onSortE(a)}),e._uU(134,"Usuario"),e.qZA(),e.YNc(135,re,2,0,"th",38),e.qZA(),e.qZA(),e.TgZ(136,"tbody"),e.YNc(137,ie,14,14,"tr",39),e.ALo(138,"async"),e.qZA(),e.qZA(),e.TgZ(139,"div",40),e.TgZ(140,"div",15),e.TgZ(141,"div",41),e.TgZ(142,"ngb-pagination",42),e.NdJ("pageChange",function(a){return o.serviceE.pageE=a}),e.ALo(143,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(144,he,38,21,"ng-template",null,45,e.W1O),e.YNc(146,Te,38,21,"ng-template",null,46,e.W1O)}2&t&&(e.xp6(1),e.Q6J("breadcrumbItems",o.breadCrumbItems),e.xp6(11),e.Q6J("appRole",o.role),e.xp6(12),e.Oqu(e.xi3(25,36,o.ingresoTotal,"S/ ")),e.xp6(5),e.hij("F\xedsico: ",e.xi3(30,39,o.iFisico,"S/ "),""),e.xp6(4),e.hij("Virtual: ",e.xi3(34,42,o.iVirtual,"S/ "),""),e.xp6(9),e.Q6J("ngModel",o.serviceI.pageSizeI),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(19),e.Q6J("appRole",o.role),e.xp6(2),e.Q6J("ngForOf",e.lcZ(73,45,o.ingresos$)),e.xp6(5),e.Q6J("collectionSize",e.lcZ(78,47,o.total$))("page",o.serviceI.pageI)("pageSize",o.serviceI.pageSizeI)("maxSize",5)("rotate",!0)("boundaryLinks",!0),e.xp6(12),e.Oqu(e.xi3(90,49,o.egresoTotal,"S/ ")),e.xp6(5),e.hij("F\xedsico: ",e.xi3(95,52,o.eFisico,"S/ "),""),e.xp6(4),e.hij("Virtual: ",e.xi3(99,55,o.eVirtual,"S/ "),""),e.xp6(9),e.Q6J("ngModel",o.serviceE.pageSizeE),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(19),e.Q6J("appRole",o.role),e.xp6(2),e.Q6J("ngForOf",e.lcZ(138,58,o.egresos$)),e.xp6(5),e.Q6J("collectionSize",e.lcZ(143,60,o.totalE$))("page",o.serviceE.pageE)("pageSize",o.serviceE.pageSizeE)("maxSize",5)("rotate",!0)("boundaryLinks",!0))},directives:[R.V,K.g,g.EJ,g.JJ,g.On,g.YN,g.Kr,g._Y,g.JL,g.F,u.sg,p.N9,g.sg,p.jt,N.w9,g.u,p._h,p._L,g.Fj,u.mk,u.O5],pipes:[u.H9,u.Ov],styles:[""]}),r})(),H=(()=>{class r{constructor(t,o,s){this.pipe=t,this.cajaService=o,this.usuarioService=s,this._loading$=new _.X(!0),this._search$=new T.xQ,this._transactions$=new _.X([]),this._total$=new _.X(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""};let i=new Date,a=new Date(i.getFullYear(),i.getMonth(),1),c=new Date(i.getFullYear(),i.getMonth()+1,0);a.setHours(0,0,1),c.setHours(23,59,0),this.getListIngresosEgresos(a,c)}updateTable(t){this.cajaList=t,this._search$.pipe((0,m.b)(()=>this._loading$.next(!0)),(0,E.b)(200),(0,U.w)(()=>this._search()),(0,J.g)(200),(0,m.b)(()=>this._loading$.next(!1))).subscribe(o=>{this._transactions$.next(o.transactions),this._total$.next(o.total)}),this._search$.next()}get transactions$(){return this._transactions$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(t){this._set({page:t})}set pageSize(t){this._set({pageSize:t})}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}_search(){const{sortColumn:t,sortDirection:o,pageSize:s,page:i,searchTerm:a}=this._state;let c=function(r,n,t){return""===t||""===n?r:[...r].sort((o,s)=>{const i=((r,n)=>r<n?-1:r>n?1:0)(o[n],s[n]);return"asc"===t?i:-i})}(this.cajaList,t,o);c=c.filter(h=>function(r,n,t){return r.date.toLowerCase().includes(n)}(h,a));const d=c.length;return c=c.slice((i-1)*s,(i-1)*s+s),(0,w.of)({transactions:c,total:d})}getListIngresosEgresos(t,o){this.cajaService.getIngresosEgresosbyMonth(t,o,this.usuarioService.getSedebyUser()).subscribe(s=>{const i=s.reduce((c,d)=>{const h=d.fecha_creacion_caja.split(" ")[0];return c[h]||(c[h]=[]),c[h].push(d),c},{}),a=Object.keys(i).map(c=>({date:c,caja:i[c]}));a.forEach(c=>{const d={ingreso_total:0,egreso_total:0};c.caja.forEach(h=>{h.egreso?d.egreso_total+=h.monto:d.ingreso_total+=h.monto}),Object.assign(c,d)}),this.cajaList=a,this._search$.pipe((0,m.b)(()=>this._loading$.next(!0)),(0,E.b)(200),(0,U.w)(()=>this._search()),(0,J.g)(200),(0,m.b)(()=>this._loading$.next(!1))).subscribe(c=>{this._transactions$.next(c.transactions),this._total$.next(c.total)}),this._search$.next()})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(u.JJ),e.LFG(y),e.LFG(D.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const qe={asc:"desc",desc:"","":"asc"};let xe=(()=>{class r{constructor(){this.sortable="",this.direction="",this.sort=new e.vpe}rotate(){this.direction=qe[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(t,o){1&t&&e.NdJ("click",function(){return o.rotate()}),2&t&&e.ekj("asc","asc"===o.direction)("desc","desc"===o.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),r})();class Ie{constructor(){this.ingresos_fisicos=0,this.ingresos_virtuales=0,this.egresos_fisicos=0,this.egresos_virtuales=0}}var Se=l(4680);const Ee=function(r){return{"bg-soft-danger":r}};function Ue(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",41),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",42),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"ngb-highlight",42),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"ngb-highlight",42),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"ngb-highlight",42),e.ALo(10,"currency"),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"span",43),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"a",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(),c=e.MAs(67);return a.scrollModal(c,i)}),e._UZ(17,"i",45),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Q6J("result",o+1)("term",s.service.searchTerm),e.xp6(2),e.Q6J("result",t.date)("term",s.service.searchTerm),e.xp6(2),e.Q6J("result",e.xi3(7,10,t.ingreso_total,"S/ "))("term",s.service.searchTerm),e.xp6(3),e.Q6J("result",e.xi3(10,13,t.egreso_total,"S/ "))("term",s.service.searchTerm),e.xp6(3),e.Q6J("ngClass",e.VKq(19,Ee,t.ingreso_total-t.egreso_total<0)),e.xp6(1),e.hij(" ",e.xi3(14,16,t.ingreso_total-t.egreso_total,"S/ ")," ")}}function Je(r,n){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",42),e.ALo(3,"currency"),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"ngb-highlight",42),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"ngb-highlight",42),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"ngb-highlight",42),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"ngb-highlight",42),e.qZA(),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("result",e.xi3(3,4,t.monto,"S/.")),e.xp6(3),e.Q6J("result",t.metodo_pago),e.xp6(2),e.Q6J("result",t.descripcion),e.xp6(2),e.Q6J("result",e.xi3(10,7,t.fecha_creacion_caja,"dd/MM/yyyy"))}}function Me(r,n){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"ngb-highlight",42),e.ALo(3,"currency"),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"ngb-highlight",42),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"ngb-highlight",42),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"ngb-highlight",42),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"ngb-highlight",42),e.qZA(),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("result",e.xi3(3,4,t.monto,"S/.")),e.xp6(3),e.Q6J("result",t.metodo_pago),e.xp6(2),e.Q6J("result",t.descripcion),e.xp6(2),e.Q6J("result",e.xi3(10,7,t.fecha_creacion_caja,"dd/MM/yyyy"))}}function we(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",46),e.TgZ(1,"h5",47),e._uU(2),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEventModalGeneral()}),e.qZA(),e.qZA(),e.TgZ(4,"div",49),e.TgZ(5,"div",2),e.TgZ(6,"div",25),e.TgZ(7,"div",50),e.TgZ(8,"div",51),e.TgZ(9,"div",52),e.TgZ(10,"div",53),e.TgZ(11,"div",2),e.TgZ(12,"div",54),e.TgZ(13,"div",55),e.TgZ(14,"p",56),e._uU(15,"Ingreso"),e.qZA(),e.TgZ(16,"h4",57),e.TgZ(17,"span",58),e._UZ(18,"i",59),e._uU(19),e.ALo(20,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",54),e.TgZ(22,"div",55),e.TgZ(23,"p",56),e._uU(24,"Egreso"),e.qZA(),e.TgZ(25,"h4",57),e.TgZ(26,"span",60),e._UZ(27,"i",61),e._uU(28),e.ALo(29,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",62),e.TgZ(31,"div",63),e.TgZ(32,"div",2),e.TgZ(33,"div",54),e.TgZ(34,"h6"),e._uU(35),e.ALo(36,"currency"),e.qZA(),e.qZA(),e.TgZ(37,"div",54),e.TgZ(38,"h6"),e._uU(39),e.ALo(40,"currency"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",26),e.TgZ(42,"div",27),e.TgZ(43,"form"),e.TgZ(44,"table",64),e.TgZ(45,"thead",65),e.TgZ(46,"tr",29),e.TgZ(47,"th",66),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSort(s)}),e._uU(48,"Monto"),e.qZA(),e.TgZ(49,"th",67),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSort(s)}),e._uU(50,"M\xe9todo"),e.qZA(),e.TgZ(51,"th",68),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSort(s)}),e._uU(52,"Descripci\xf3n"),e.qZA(),e.TgZ(53,"th",69),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSort(s)}),e._uU(54,"Fecha"),e.qZA(),e.TgZ(55,"th",70),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSort(s)}),e._uU(56,"Usuario"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"tbody"),e.YNc(58,Je,13,10,"tr",71),e.qZA(),e.qZA(),e._UZ(59,"div",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",62),e.TgZ(61,"div",63),e.TgZ(62,"div",2),e.TgZ(63,"div",54),e.TgZ(64,"h6"),e._uU(65),e.ALo(66,"currency"),e.qZA(),e.qZA(),e.TgZ(67,"div",54),e.TgZ(68,"h6"),e._uU(69),e.ALo(70,"currency"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",26),e.TgZ(72,"div",27),e.TgZ(73,"form"),e.TgZ(74,"table",64),e.TgZ(75,"thead",65),e.TgZ(76,"tr",29),e.TgZ(77,"th",66),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSortE(s)}),e._uU(78,"Monto"),e.qZA(),e.TgZ(79,"th",67),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSort(s)}),e._uU(80,"M\xe9todo"),e.qZA(),e.TgZ(81,"th",68),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSortE(s)}),e._uU(82,"Descripci\xf3n"),e.qZA(),e.TgZ(83,"th",69),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSortE(s)}),e._uU(84,"Fecha"),e.qZA(),e.TgZ(85,"th",70),e.NdJ("sort",function(s){return e.CHM(t),e.oxw().onSortE(s)}),e._uU(86,"Usuario"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"tbody"),e.YNc(88,Me,13,10,"tr",71),e.qZA(),e.qZA(),e._UZ(89,"div",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(90,"div",72),e.TgZ(91,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEventModalGeneral()}),e._uU(92,"Cerrar"),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.hij("Detalle de Caja: ",t.reporteCaja.fechaCaja,""),e.xp6(17),e.Oqu(e.xi3(20,9,t.reporteCaja.ingreso_total,"S/ ")),e.xp6(9),e.Oqu(e.xi3(29,12,t.reporteCaja.egreso_total,"S/ ")),e.xp6(7),e.hij("Ingresos F\xedsico: ",e.xi3(36,15,t.reporteCaja.ingresos_fisicos,"S/ "),""),e.xp6(4),e.hij("Ingresos Virtual: ",e.xi3(40,18,t.reporteCaja.ingresos_virtuales,"S/ "),""),e.xp6(19),e.Q6J("ngForOf",t.reporteCaja.ingresos),e.xp6(7),e.hij("Egresos F\xedsico: ",e.xi3(66,21,t.reporteCaja.egresos_fisicos,"S/ "),""),e.xp6(4),e.hij("Egresos Virtual: ",e.xi3(70,24,t.reporteCaja.egresos_virtuales,"S/ "),""),e.xp6(19),e.Q6J("ngForOf",t.reporteCaja.egresos)}}const De=[{path:"cashregister",component:Ce,data:{role:["Vendedor","Admin"]},canActivate:[S.a]},{path:"listcash",component:(()=>{class r{constructor(t,o,s,i,a){this.modalService=t,this.service=o,this.fb=s,this.usuarioService=i,this.cajaService=a,this.nombre_sedes="campoSede",this.idSede="",this.fechaDesde="campoFechaDesde",this.fechaHasta="campoFechaHasta",this.reporteCaja=new Ie,this.transactions$=o.transactions$,this.total$=o.total$}ngOnInit(){this.breadCrumbItems=[{label:"Caja"},{label:"Lista de Ingresos y Egresos",active:!0}],this.getListSedes(),this.crearFormulario()}getListSedes(){this.listSedes=JSON.parse(localStorage.getItem("sedes")),this.idSede=this.usuarioService.getSedebyUser()}crearFormulario(){this.formSedes=this.fb.group({[this.nombre_sedes]:[this.idSede]}),this.formDateRange=this.fb.group({[this.fechaDesde]:[(0,Se.fh)(new Date(Date.now()))]})}onSort({column:t,direction:o}){this.headers.forEach(s=>{s.sortable!==t&&(s.direction="")}),this.service.sortColumn=t,this.service.sortDirection=o}scrollModal(t,o){this.reporteCaja.fechaCaja=new Date(o.date+"T00:00").toLocaleDateString("en-GB"),this.reporteCaja.ingreso_total=o.ingreso_total,this.reporteCaja.egreso_total=o.egreso_total,this.reporteCaja.ingresos=o.caja.filter(s=>0==s.egreso),this.reporteCaja.egresos=o.caja.filter(s=>1==s.egreso),this.reporteCaja.ingresos.forEach(s=>{"F\xedsico"==s.metodo_pago?this.reporteCaja.ingresos_fisicos+=s.monto:this.reporteCaja.ingresos_virtuales+=s.monto}),this.reporteCaja.egresos.forEach(s=>{"F\xedsico"==s.metodo_pago?this.reporteCaja.egresos_fisicos+=s.monto:this.reporteCaja.egresos_virtuales+=s.monto}),this.modalService.open(t,{size:"lg",centered:!0,scrollable:!0})}closeEventModalGeneral(){this.modalService.dismissAll()}f(t){return this.formDateRange.get(t)}filterDateRange(){if(this.formDateRange.valid){let t=new Date(this.f(this.fechaDesde).value+"T00:00"),o=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),t.getMonth()+1,0);o.setHours(0,0,1),s.setHours(23,59,0),this.updateListCaja(o,s,this.idSede)}}fS(t){return this.formSedes.get(t)}changeSedes(){this.idSede=this.fS(this.nombre_sedes).value;const t=new Date(this.f(this.fechaDesde).value+"T00:00");let o=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),t.getMonth()+1,0);o.setHours(0,0,1),s.setHours(23,59,0),this.updateListCaja(o,s,this.idSede)}updateListCaja(t,o,s){this.cajaService.getIngresosEgresosbyMonth(t,o,s).subscribe(i=>{const a=i.reduce((d,h)=>{const f=h.fecha_creacion_caja.split(" ")[0];return d[f]||(d[f]=[]),d[f].push(h),d},{}),c=Object.keys(a).map(d=>({date:d,caja:a[d]}));c.forEach(d=>{const h={ingreso_total:0,egreso_total:0};d.caja.forEach(f=>{f.egreso?h.egreso_total+=f.monto:h.ingreso_total+=f.monto}),Object.assign(d,h)}),this.service.updateTable(c)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.FF),e.Y36(H),e.Y36(g.qu),e.Y36(D.i),e.Y36(y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-cash"]],viewQuery:function(t,o){if(1&t&&e.Gf(xe,5),2&t){let s;e.iGM(s=e.CRH())&&(o.headers=s)}},features:[e._Bn([H,u.JJ])],decls:68,vars:23,consts:[[1,"container-fluid"],["title","Listas de Registro de Ingresos y Egresos",3,"breadcrumbItems"],[1,"row"],[1,"col-md-6","mb-2"],[1,"form-inline"],[1,"search-box","ml-2"],[1,"position-relative"],["type","text","placeholder","Buscar registro","name","searchTerm","aria-controls","tickets-table",1,"form-control","border-light","rounded",3,"ngModel","ngModelChange"],[1,"uil","uil-search","search-icon"],["role","toolbar",1,"btn-toolbar"],[1,"col-12","col-md-6","d-grid","mb-2","chat-search-box","px-1"],[3,"formGroup"],[1,"input-daterange","input-group"],["type","month","id","billing-fechanacimiento","placeholder","Seleccione la fecha",1,"form-control",3,"formControlName"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mdi","mdi-filter-variant"],[1,"col-12","col-md-6","d-grid"],["ngbDropdown",""],["placeholder","Seleccione la sede","bindValue","id_sede","bindLabel","nombre_sede",3,"items","formControlName","change"],[1,"row","md-2"],[1,"col-sm-12","col-md-12"],[1,"dataTables_length","text-md-end"],[1,"d-inline-flex","align-items-center"],["name","pageSize",1,"custom-select","custom-select-sm","form-control","form-control-sm","form-select","form-select-sm",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col-12"],[1,"table-responsive","mb-4"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"table","table-centered","datatables","dt-responsive","nowrap","table-card-list",2,"border-spacing","0 12px","width","100%"],[1,"bg-transparent"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","fecha",3,"sort"],["scope","col","sortable","ingreso",3,"sort"],["scope","col","sortable","egreso",3,"sort"],["scope","col","sortable","status",3,"sort"],[2,"width","170px"],["class","odd",4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center"],[1,"text-md-end","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["scrollDataModalDetalleCajaDia",""],[1,"odd"],[3,"result","term"],[1,"badge","rounded-pill","bg-soft-success","font-size-12",3,"ngClass"],["placement","top","ngbTooltip","Ver detalle",1,"px-3","text-primary",3,"click"],[1,"uil","uil-eye","font-size-18"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card"],[1,"card-body"],[1,"d-flex","align-items-start"],[1,"flex-1","align-self-center"],[1,"col-6"],[1,"mt-1"],[1,"text-muted","mb-2"],[1,"text-muted","mt-3","mb-0"],[1,"text-success","me-1"],[1,"mdi","mdi-arrow-up-bold","me-1"],[1,"text-danger","me-1"],[1,"mdi","mdi-arrow-down-bold","me-1"],[1,"row","mb-3"],[1,"col-lg-12"],[1,"table","table-centered","dt-responsive","nowrap","table-card-list",2,"border-spacing","0 12px","width","100%"],[1,"table-light"],["scope","col","sortable","amount",3,"sort"],["scope","col","sortable","type",3,"sort"],["scope","col","sortable","description",3,"sort"],["scope","col","sortable","date",3,"sort"],["scope","col","sortable","name",3,"sort"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(i){return o.service.searchTerm=i}),e.qZA(),e._UZ(8,"i",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",3),e.TgZ(10,"div"),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div",6),e.TgZ(14,"form",11),e.TgZ(15,"div",12),e._UZ(16,"input",13),e.TgZ(17,"button",14),e.NdJ("click",function(){return o.filterDateRange()}),e._UZ(18,"i",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",16),e.TgZ(20,"form",11),e.TgZ(21,"div",17),e.TgZ(22,"ng-select",18),e.NdJ("change",function(){return o.changeSedes()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",19),e.TgZ(24,"div",20),e.TgZ(25,"div",21),e.TgZ(26,"label",22),e._uU(27,"Mostrar"),e.TgZ(28,"select",23),e.NdJ("ngModelChange",function(i){return o.service.pageSize=i}),e.TgZ(29,"option",24),e._uU(30,"10"),e.qZA(),e.TgZ(31,"option",24),e._uU(32,"25"),e.qZA(),e.TgZ(33,"option",24),e._uU(34,"50"),e.qZA(),e.TgZ(35,"option",24),e._uU(36,"100"),e.qZA(),e.qZA(),e._uU(37," entradas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",2),e.TgZ(39,"div",25),e.TgZ(40,"div",26),e.TgZ(41,"div",27),e.TgZ(42,"form"),e.TgZ(43,"table",28),e.TgZ(44,"thead"),e.TgZ(45,"tr",29),e.TgZ(46,"th",30),e.NdJ("sort",function(i){return o.onSort(i)}),e._uU(47,"Ord."),e.qZA(),e.TgZ(48,"th",31),e.NdJ("sort",function(i){return o.onSort(i)}),e._uU(49,"Fecha"),e.qZA(),e.TgZ(50,"th",32),e.NdJ("sort",function(i){return o.onSort(i)}),e._uU(51,"Ingreso"),e.qZA(),e.TgZ(52,"th",33),e.NdJ("sort",function(i){return o.onSort(i)}),e._uU(53,"Egreso"),e.qZA(),e.TgZ(54,"th",34),e.NdJ("sort",function(i){return o.onSort(i)}),e._uU(55,"Ganancia/P\xe9rdida"),e.qZA(),e.TgZ(56,"th",35),e._uU(57,"Acci\xf3n"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"tbody"),e.YNc(59,Ue,18,21,"tr",36),e.ALo(60,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",37),e.TgZ(62,"div",25),e.TgZ(63,"div",38),e.TgZ(64,"ngb-pagination",39),e.NdJ("pageChange",function(i){return o.service.page=i}),e.ALo(65,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(66,we,93,27,"ng-template",null,40,e.W1O),e.qZA()),2&t&&(e.xp6(1),e.Q6J("breadcrumbItems",o.breadCrumbItems),e.xp6(6),e.Q6J("ngModel",o.service.searchTerm),e.xp6(7),e.Q6J("formGroup",o.formDateRange),e.xp6(2),e.s9C("formControlName",o.fechaDesde),e.xp6(4),e.Q6J("formGroup",o.formSedes),e.xp6(2),e.s9C("formControlName",o.nombre_sedes),e.Q6J("items",o.listSedes),e.xp6(6),e.Q6J("ngModel",o.service.pageSize),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(24),e.Q6J("ngForOf",e.lcZ(60,19,o.transactions$)),e.xp6(5),e.Q6J("collectionSize",e.lcZ(65,21,o.total$))("page",o.service.page)("pageSize",o.service.pageSize)("maxSize",5)("rotate",!0)("boundaryLinks",!0))},directives:[R.V,g.Fj,g.JJ,g.On,g._Y,g.JL,g.sg,g.u,p.jt,N.w9,g.EJ,g.YN,g.Kr,g.F,u.sg,p.N9,p._h,u.mk,p._L],pipes:[u.Ov,u.H9,u.uU],styles:[""]}),r})(),data:{role:["Admin"]},canActivate:[S.a]}];let Le=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[C.Bz.forChild(De)],C.Bz]}),r})();var Ne=l(63091),je=l(98816),Fe=l(16541),k=l(41867),$e=l(5426),Qe=l(2974);let Re=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:k._t,useValue:$e.v}],imports:[[u.ez,g.u5,g.UX,Le,Ne.v,k.Ti,p.HK,p.XC,p.jF,N.A0,je.h,Fe.bt,p.Gs,p.ZS,p.lQ,Qe.o]]}),r})()},4680:(F,I,l)=>{function u(v){return new Promise((q,A)=>{var _=new Image;_.setAttribute("crossOrigin","anonymous"),_.onload=()=>{var T=document.createElement("canvas");T.width=_.width,T.height=_.height,T.getContext("2d").drawImage(_,0,0);var m=T.toDataURL("image/png");q(m)},_.onerror=T=>{A(T)},_.src=v})}function g(v){const[q,A,_]=v.split("/");return new Date(+_,+A-1,+q)}function C(v){const[q,A,_]=v.split("/");return _+"-"+A+"-"+q}function S(v,q){var A=Math.pow(10,q||0);return Math.round(v*A)/A}function e(v){return v.toISOString().substring(0,7)}l.d(I,{up:()=>u,p6:()=>g,wd:()=>C,NM:()=>S,fh:()=>e})}}]);